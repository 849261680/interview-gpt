2025-05-27 21:59:55,372 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 21:59:55,372 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 21:59:55,691 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 21:59:55,973 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 21:59:55,973 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 21:59:56,001 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 21:59:56,002 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 21:59:56,002 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 21:59:56,002 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 21:59:56,002 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 21:59:56,002 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 21:59:56,003 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 21:59:56,004 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 21:59:56,045 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 21:59:56,051 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 21:59:56,346 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 21:59:56,586 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 21:59:56,586 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:06:26,680 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:06:26,686 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0074秒
2025-05-27 22:06:26,690 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:06:26,697 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:06:26,713 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0231秒
2025-05-27 22:06:33,701 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:06:33,704 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0028秒
2025-05-27 22:06:33,711 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:06:33,719 - src.api.speech - INFO - [abab6.5s-chat_sda ] Received request for /minimax-mcp/chat
2025-05-27 22:06:33,723 - src.api.speech - DEBUG - [abab6.5s-chat_sda ] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:06:33,724 - src.api.speech - WARNING - [abab6.5s-chat_sda ] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:06:33,724 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:06:33,724 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:06:33,725 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:06:33,725 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:06:33,726 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:06:33,726 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:06:33,726 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'sda ...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 4,
      "completion_tokens": 40,
      "total_tokens": 44
    }
  }
}
2025-05-27 22:06:33,727 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:06:33,728 - src.api.speech - INFO - [abab6.5s-chat_sda ] Successfully processed chat completion request.
2025-05-27 22:06:33,729 - src.api.speech - DEBUG - [abab6.5s-chat_sda ] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'sda ...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 4,
    "completion_tokens": 40,
    "total_tokens": 44
  }
}
2025-05-27 22:06:33,737 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0268秒
2025-05-27 22:06:43,769 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:06:43,775 - src.api.speech - INFO - [abab6.5s-chat_asd ] Received request for /minimax-mcp/chat
2025-05-27 22:06:43,775 - src.api.speech - DEBUG - [abab6.5s-chat_asd ] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:06:43,776 - src.api.speech - WARNING - [abab6.5s-chat_asd ] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:06:43,777 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:06:43,777 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:06:43,777 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:06:43,777 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:06:43,778 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:06:43,778 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:06:43,779 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'asd ...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 4,
      "completion_tokens": 40,
      "total_tokens": 44
    }
  }
}
2025-05-27 22:06:43,779 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:06:43,785 - src.api.speech - INFO - [abab6.5s-chat_asd ] Successfully processed chat completion request.
2025-05-27 22:06:43,786 - src.api.speech - DEBUG - [abab6.5s-chat_asd ] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'asd ...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 4,
    "completion_tokens": 40,
    "total_tokens": 44
  }
}
2025-05-27 22:06:43,793 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0239秒
2025-05-27 22:06:59,490 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:06:59,491 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:06:59,494 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0043秒
2025-05-27 22:07:00,101 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:07:00,102 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:07:00,104 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0036秒
2025-05-27 22:07:00,760 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:07:00,762 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:07:00,764 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0043秒
2025-05-27 22:07:01,339 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:07:01,341 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:07:01,343 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0039秒
2025-05-27 22:07:05,642 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:07:05,643 - src.api.speech - INFO - [abab6.5s-chat_asd asd ] Received request for /minimax-mcp/chat
2025-05-27 22:07:05,644 - src.api.speech - DEBUG - [abab6.5s-chat_asd asd ] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:07:05,644 - src.api.speech - WARNING - [abab6.5s-chat_asd asd ] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:07:05,644 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:07:05,644 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:07:05,644 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:07:05,645 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:07:05,645 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:07:05,645 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:07:05,645 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'asd asd ...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 8,
      "completion_tokens": 40,
      "total_tokens": 48
    }
  }
}
2025-05-27 22:07:05,646 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:07:05,646 - src.api.speech - INFO - [abab6.5s-chat_asd asd ] Successfully processed chat completion request.
2025-05-27 22:07:05,646 - src.api.speech - DEBUG - [abab6.5s-chat_asd asd ] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'asd asd ...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 8,
    "completion_tokens": 40,
    "total_tokens": 48
  }
}
2025-05-27 22:07:05,647 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0051秒
2025-05-27 22:07:08,477 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:07:08,480 - src.api.speech - INFO - [abab6.5s-chat_sad ] Received request for /minimax-mcp/chat
2025-05-27 22:07:08,480 - src.api.speech - DEBUG - [abab6.5s-chat_sad ] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "sad "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:07:08,480 - src.api.speech - WARNING - [abab6.5s-chat_sad ] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:07:08,480 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:07:08,481 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "sad "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:07:08,481 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:07:08,481 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "sda "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd asd "
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "sad "
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:07:08,482 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:07:08,482 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:07:08,482 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'sad ...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 4,
      "completion_tokens": 40,
      "total_tokens": 44
    }
  }
}
2025-05-27 22:07:08,482 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:07:08,482 - src.api.speech - INFO - [abab6.5s-chat_sad ] Successfully processed chat completion request.
2025-05-27 22:07:08,482 - src.api.speech - DEBUG - [abab6.5s-chat_sad ] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'sad ...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 4,
    "completion_tokens": 40,
    "total_tokens": 44
  }
}
2025-05-27 22:07:08,486 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0087秒
2025-05-27 22:08:04,256 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:08:04,258 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/chat | 状态码: 400 | 处理时间: 0.0014秒
2025-05-27 22:09:51,700 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:09:51,700 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:09:51,979 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:09:52,260 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:09:52,260 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:09:52,294 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:09:52,295 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:09:52,295 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:09:52,295 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:09:52,295 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:09:52,295 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:09:52,296 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:09:52,297 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:09:52,342 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:09:52,351 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:09:52,633 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:09:52,886 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:09:52,886 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:10:48,837 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:10:48,837 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:10:49,175 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:10:49,444 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:10:49,444 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:10:49,474 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:10:49,474 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:10:49,474 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:10:49,474 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:10:49,474 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:10:49,474 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:10:49,475 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:10:49,475 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:10:49,513 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:10:49,519 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:10:49,826 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:10:50,059 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:10:50,059 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:11:02,879 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:11:02,880 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/chat | 状态码: 400 | 处理时间: 0.0019秒
2025-05-27 22:11:21,150 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:11:21,153 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:11:21,173 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0229秒
2025-05-27 22:11:21,764 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:11:21,766 - src.api.speech - INFO - [abab6.5s-chat_as] Received request for /minimax-mcp/chat
2025-05-27 22:11:21,766 - src.api.speech - DEBUG - [abab6.5s-chat_as] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:11:21,766 - src.api.speech - WARNING - [abab6.5s-chat_as] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:11:21,767 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:11:21,767 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:21,767 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:11:21,767 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:21,768 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:11:21,768 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:11:21,768 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'as...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 2,
      "completion_tokens": 40,
      "total_tokens": 42
    }
  }
}
2025-05-27 22:11:21,769 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:11:21,770 - src.api.speech - INFO - [abab6.5s-chat_as] Successfully processed chat completion request.
2025-05-27 22:11:21,770 - src.api.speech - DEBUG - [abab6.5s-chat_as] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'as...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 2,
    "completion_tokens": 40,
    "total_tokens": 42
  }
}
2025-05-27 22:11:21,773 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0089秒
2025-05-27 22:11:50,000 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:11:50,008 - src.api.speech - INFO - [abab6.5s-chat_是] Received request for /minimax-mcp/chat
2025-05-27 22:11:50,009 - src.api.speech - DEBUG - [abab6.5s-chat_是] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:11:50,015 - src.api.speech - WARNING - [abab6.5s-chat_是] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:11:50,016 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:11:50,016 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:50,017 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:11:50,017 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:50,018 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:11:50,018 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:11:50,018 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'\u662f...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 1,
      "completion_tokens": 40,
      "total_tokens": 41
    }
  }
}
2025-05-27 22:11:50,018 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:11:50,019 - src.api.speech - INFO - [abab6.5s-chat_是] Successfully processed chat completion request.
2025-05-27 22:11:50,019 - src.api.speech - DEBUG - [abab6.5s-chat_是] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'是...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 1,
    "completion_tokens": 40,
    "total_tokens": 41
  }
}
2025-05-27 22:11:50,020 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0203秒
2025-05-27 22:11:55,646 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/chat | 客户端: 127.0.0.1
2025-05-27 22:11:55,655 - src.api.speech - INFO - [abab6.5s-chat_asd] Received request for /minimax-mcp/chat
2025-05-27 22:11:55,662 - src.api.speech - DEBUG - [abab6.5s-chat_asd] Request body: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": true
}
2025-05-27 22:11:55,662 - src.api.speech - WARNING - [abab6.5s-chat_asd] Received stream=True for non-streaming endpoint /minimax-mcp/chat. Forcing stream=False.
2025-05-27 22:11:55,662 - src.services.speech_service - INFO - SpeechService: minimax_chat_completion called with model abab6.5s-chat
2025-05-27 22:11:55,662 - src.services.speech_service - DEBUG - SpeechService: Full request: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:55,663 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 收到聊天完成请求，模型: abab6.5s-chat
2025-05-27 22:11:55,663 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 完整请求: {
  "model": "abab6.5s-chat",
  "messages": [
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "system",
      "content": "你是一位资深的技术面试官，名叫李工。你需要：\n1. 评估候选人的技术能力和解决问题的思路\n2. 提出有深度的技术问题，涵盖编程、系统设计、算法等\n3. 根据候选人的回答进行追问，深入了解其技术水平\n4. 保持专业但友好的态度\n5. 每次回复控制在50-100字以内，保持对话流畅\n\n请用专业、简洁的语言进行面试。"
    },
    {
      "role": "assistant",
      "content": "你好！我是李工，负责今天的技术面试。让我们开始吧！"
    },
    {
      "role": "assistant",
      "content": "请先简单介绍一下你自己，包括你的技术背景和工作经验。"
    },
    {
      "role": "user",
      "content": "as"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "是"
    },
    {
      "role": "assistant",
      "content": ""
    },
    {
      "role": "user",
      "content": "asd"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 2000,
  "top_p": 0.9,
  "stream": false
}
2025-05-27 22:11:55,663 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 调用 MiniMax 聊天 API
2025-05-27 22:11:55,663 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 已收到 MiniMax API 响应
2025-05-27 22:11:55,664 - src.services.speech.minimax_chat_service - DEBUG - [MinimaxChatService] 原始响应数据: {
  "success": true,
  "data": {
    "choices": [
      {
        "message": {
          "content": "\u8fd9\u662f\u5bf9'asd...'\u7684\u6a21\u62dfAI\u56de\u590d\u3002\u8fd9\u6761\u56de\u590d\u6765\u81ea MiniMax \u6a21\u62df\u670d\u52a1\u3002"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 3,
      "completion_tokens": 40,
      "total_tokens": 43
    }
  }
}
2025-05-27 22:11:55,664 - src.services.speech.minimax_chat_service - INFO - [MinimaxChatService] 成功解析聊天完成响应
2025-05-27 22:11:55,664 - src.api.speech - INFO - [abab6.5s-chat_asd] Successfully processed chat completion request.
2025-05-27 22:11:55,665 - src.api.speech - DEBUG - [abab6.5s-chat_asd] Response from service: {
  "choices": [
    {
      "message": {
        "content": "这是对'asd...'的模拟AI回复。这条回复来自 MiniMax 模拟服务。"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 3,
    "completion_tokens": 40,
    "total_tokens": 43
  }
}
2025-05-27 22:11:55,666 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/chat | 状态码: 200 | 处理时间: 0.0201秒
2025-05-27 22:16:28,837 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:16:28,837 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:16:29,142 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:16:29,398 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:16:29,398 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:16:29,431 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:16:29,432 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:16:29,432 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:16:29,432 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:16:29,432 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:16:29,432 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:16:29,433 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:16:29,433 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:16:29,466 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:16:29,471 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:16:29,732 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:16:29,916 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:16:29,917 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:16:57,252 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:16:57,252 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:16:57,535 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:16:57,796 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:16:57,796 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:16:57,825 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:16:57,825 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:16:57,825 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:16:57,825 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:16:57,825 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:16:57,825 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:16:57,829 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:16:57,829 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:16:57,863 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:16:57,868 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:16:58,144 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:16:58,412 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:16:58,413 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:17:26,683 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:17:26,683 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:17:26,996 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:17:27,420 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:17:27,421 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:17:27,488 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:17:27,489 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:17:27,489 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:17:27,489 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:17:27,489 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:17:27,489 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:17:27,490 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:17:27,491 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:17:27,578 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:17:27,586 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:17:27,987 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:17:28,183 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:17:28,193 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:17:28,193 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:32:39,507 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:32:39,507 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:32:39,853 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:32:40,203 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:32:40,204 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:32:40,244 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:32:40,244 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:32:40,244 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:32:40,245 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:32:40,245 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:32:40,245 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:32:40,260 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:32:40,263 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:32:40,343 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:32:40,351 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:32:40,689 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:32:40,908 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:32:40,915 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:32:40,915 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:35:30,252 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:35:30,255 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 400 | 处理时间: 0.0025秒
2025-05-27 22:35:32,150 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:35:32,151 - interview-gpt.request - INFO - 请求完成: OPTIONS /deepseek/chat | 状态码: 400 | 处理时间: 0.0013秒
2025-05-27 22:37:35,230 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:37:35,231 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 400 | 处理时间: 0.0010秒
2025-05-27 22:37:48,205 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:37:48,220 - interview-gpt.request - INFO - 请求完成: OPTIONS /deepseek/chat | 状态码: 400 | 处理时间: 0.0149秒
2025-05-27 22:39:05,329 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:39:05,329 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:39:05,766 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:39:06,064 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:39:06,064 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:39:06,094 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:39:06,094 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:39:06,094 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:39:06,095 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:39:06,095 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:39:06,095 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:39:06,096 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:39:06,096 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:39:06,133 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:39:06,138 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:39:06,420 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:39:06,613 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:39:06,619 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:39:06,620 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:40:17,195 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:40:17,195 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:40:17,508 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:40:17,772 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:40:17,772 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:40:17,803 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:40:17,804 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:40:17,804 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:40:17,804 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:40:17,804 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:40:17,804 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:40:17,805 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:40:17,805 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:40:17,841 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:40:17,847 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:40:18,099 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:40:18,300 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:40:18,306 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:40:18,307 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:40:47,517 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:40:47,521 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 400 | 处理时间: 0.0038秒
2025-05-27 22:40:53,923 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:40:53,928 - interview-gpt.request - INFO - 请求完成: OPTIONS /deepseek/chat | 状态码: 400 | 处理时间: 0.0049秒
2025-05-27 22:43:40,556 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:43:40,556 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:43:40,982 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:43:41,317 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:43:41,317 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:43:41,352 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:43:41,352 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:43:41,352 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:43:41,352 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:43:41,353 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:43:41,353 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:43:41,354 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:43:41,354 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:43:41,404 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:43:41,412 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:43:41,704 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:43:41,903 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:43:41,932 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:43:41,933 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:43:51,243 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:43:51,243 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:43:51,467 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:43:51,647 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:43:51,647 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:43:51,678 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:43:51,678 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:43:51,678 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:43:51,678 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:43:51,678 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:43:51,678 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:43:51,678 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:43:51,679 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:43:51,703 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:43:51,708 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:43:51,887 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:43:52,030 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:43:52,035 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:43:52,035 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:44:08,322 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:44:08,323 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:44:08,626 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:44:09,045 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:44:09,046 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:44:09,100 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:44:09,101 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:44:09,101 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:44:09,101 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:44:09,101 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:44:09,101 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:44:09,103 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:44:09,103 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:44:09,155 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:44:09,163 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:44:09,448 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:44:09,635 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:44:09,641 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:44:09,641 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:44:36,092 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:44:36,118 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0258秒
2025-05-27 22:44:36,127 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:44:36,134 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:44:36,150 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0225秒
2025-05-27 22:44:39,660 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:44:39,674 - interview-gpt.request - INFO - 请求完成: OPTIONS /deepseek/chat | 状态码: 200 | 处理时间: 0.0132秒
2025-05-27 22:44:39,687 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:44:39,716 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0296秒
2025-05-27 22:46:32,332 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:46:32,333 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:46:32,636 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:46:32,931 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:46:32,931 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:46:32,972 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:46:32,972 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:46:32,972 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:46:32,972 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:46:32,972 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:46:32,972 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:46:32,973 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:46:32,973 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:46:33,020 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:46:33,029 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:46:33,336 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:46:33,571 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:46:33,577 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:46:33,577 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:46:53,032 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/deepseek/status | 客户端: 127.0.0.1
2025-05-27 22:46:53,033 - interview-gpt.request - INFO - 请求完成: GET /api/deepseek/status | 状态码: 200 | 处理时间: 0.0016秒
2025-05-27 22:46:53,037 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:46:53,038 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0009秒
2025-05-27 22:46:53,042 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:46:53,043 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 2
2025-05-27 22:47:02,260 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 22:47:02,263 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 9.2211秒
2025-05-27 22:49:09,288 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 22:49:09,288 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 22:49:09,607 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 22:49:09,870 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 22:49:09,870 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 22:49:09,900 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 22:49:09,900 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 22:49:09,900 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 22:49:09,900 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 22:49:09,900 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 22:49:09,900 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 22:49:09,903 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 22:49:09,903 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 22:49:09,958 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:49:09,966 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 22:49:10,284 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 22:49:10,494 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 22:49:10,502 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 22:49:10,502 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 22:49:32,494 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 22:49:32,497 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 22:49:32,508 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0141秒
2025-05-27 22:49:34,242 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:49:34,244 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0025秒
2025-05-27 22:49:38,122 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:49:38,126 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0038秒
2025-05-27 22:52:26,396 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:52:26,399 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0036秒
2025-05-27 22:52:38,401 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:52:38,418 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0168秒
2025-05-27 22:56:48,905 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/deepseek/status | 客户端: 127.0.0.1
2025-05-27 22:56:48,908 - interview-gpt.request - INFO - 请求完成: GET /api/deepseek/status | 状态码: 200 | 处理时间: 0.0026秒
2025-05-27 22:57:22,302 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 22:57:22,306 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 1
2025-05-27 22:57:29,536 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 22:57:29,537 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.2348秒
2025-05-27 23:00:46,750 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:00:46,793 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 1
2025-05-27 23:01:00,155 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:01:00,174 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 13.4276秒
2025-05-27 23:01:00,190 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:01:00,192 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0026秒
2025-05-27 23:04:14,637 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:04:14,656 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0219秒
2025-05-27 23:04:14,662 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:04:14,678 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:04:14,695 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0332秒
2025-05-27 23:04:18,115 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:04:18,116 - interview-gpt.request - INFO - 请求完成: OPTIONS /deepseek/chat | 状态码: 200 | 处理时间: 0.0010秒
2025-05-27 23:04:18,120 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:04:18,123 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0036秒
2025-05-27 23:04:31,430 - interview-gpt.request - DEBUG - 开始处理请求: POST /deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:04:31,434 - interview-gpt.request - INFO - 请求完成: POST /deepseek/chat | 状态码: 404 | 处理时间: 0.0041秒
2025-05-27 23:08:50,410 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-27 23:08:50,410 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-27 23:08:50,667 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-27 23:08:50,906 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-27 23:08:50,906 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-27 23:08:50,935 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-27 23:08:50,935 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-27 23:08:50,935 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-27 23:08:50,935 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-27 23:08:50,935 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-27 23:08:50,936 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-27 23:08:50,936 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-27 23:08:50,936 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-27 23:08:50,966 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 23:08:50,971 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-27 23:08:51,213 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-27 23:08:51,394 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-27 23:08:51,404 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-27 23:08:51,405 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-27 23:09:16,782 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:09:16,783 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0011秒
2025-05-27 23:09:16,798 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:09:16,802 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:09:16,816 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0185秒
2025-05-27 23:09:21,607 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:09:21,610 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0030秒
2025-05-27 23:09:21,615 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:09:21,621 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-27 23:09:28,712 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:09:28,716 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.1006秒
2025-05-27 23:09:28,731 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:09:28,808 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:09:28,822 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0905秒
2025-05-27 23:09:53,315 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:09:53,316 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-27 23:10:02,780 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:10:02,782 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 9.4678秒
2025-05-27 23:10:02,789 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:10:02,791 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:10:02,798 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0081秒
2025-05-27 23:10:16,614 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:10:16,616 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 3
2025-05-27 23:10:21,708 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:10:21,709 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.0950秒
2025-05-27 23:10:21,713 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:10:21,715 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:10:21,717 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0041秒
2025-05-27 23:10:32,001 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:10:32,002 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 5
2025-05-27 23:10:37,699 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:10:37,701 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.7008秒
2025-05-27 23:10:37,708 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:10:37,710 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:10:37,716 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0079秒
2025-05-27 23:13:25,894 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:13:25,897 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 7
2025-05-27 23:13:31,744 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:13:31,745 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.8513秒
2025-05-27 23:13:31,755 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:13:31,757 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:13:31,760 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0044秒
2025-05-27 23:14:06,237 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-27 23:14:06,238 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 9
2025-05-27 23:14:13,567 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-27 23:14:13,570 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.3331秒
2025-05-27 23:14:13,578 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-27 23:14:13,580 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-27 23:14:13,585 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0070秒
2025-05-28 01:00:21,249 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 01:00:21,255 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0067秒
2025-05-28 01:00:21,259 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 01:00:21,263 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 01:00:21,267 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0081秒
2025-05-28 16:10:02,986 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:10:02,998 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0140秒
2025-05-28 16:10:03,009 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:10:03,018 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:10:03,029 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0208秒
2025-05-28 16:31:31,087 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:31:31,087 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:31:31,491 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:31:31,789 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:31:31,789 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:31:31,819 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:31:31,819 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:31:31,819 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:31:31,819 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:31:31,819 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:31:31,819 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:31:40,734 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:31:40,735 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111257c10>
2025-05-28 16:31:40,735 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:31:40,736 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:31:40,736 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:31:40,736 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:31:40,736 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:31:40,737 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:31:40,737 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x110f18e60> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:31:41,101 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11125e490>
2025-05-28 16:31:41,102 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:31:41,103 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:31:41,103 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:31:41,103 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:31:41,103 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:31:41,278 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:31:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700061-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'34'), (b'X-Timer', b'S1748421101.288589,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'69804253e27b177197d33e579d4b48dcf2734c7c'), (b'Expires', b'Wed, 28 May 2025 08:36:41 GMT'), (b'Source-Age', b'181')])
2025-05-28 16:31:41,280 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:31:41,280 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:31:41,317 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:31:41,318 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:31:41,318 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:31:42,672 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:31:44,461 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:31:44,504 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:31:44,512 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:31:44,931 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:31:44,980 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:31:44,987 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:31:44,988 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:31:47,061 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:31:47,062 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:31:47,380 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:31:47,624 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:31:47,624 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:31:47,653 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:31:47,653 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:31:47,653 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:31:47,653 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:31:47,654 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:31:47,654 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:31:50,371 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:31:50,375 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a6c7c10>
2025-05-28 16:31:50,375 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:31:50,376 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:31:50,376 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:31:50,376 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:31:50,376 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:31:50,377 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:31:50,377 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a39ce60> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:31:50,682 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a6d2450>
2025-05-28 16:31:50,682 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:31:50,683 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:31:50,683 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:31:50,683 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:31:50,683 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:31:50,845 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:31:50 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700084-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'26'), (b'X-Timer', b'S1748421111.865581,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'2deb7b3b1670a2e59ffc07b306f169c785eca15c'), (b'Expires', b'Wed, 28 May 2025 08:36:50 GMT'), (b'Source-Age', b'191')])
2025-05-28 16:31:50,846 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:31:50,847 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:31:50,889 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:31:50,890 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:31:50,891 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:31:51,437 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:31:52,650 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:31:52,691 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:31:52,698 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:31:53,065 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:31:53,116 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:31:53,123 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:31:53,124 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:32:53,715 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:32:53,715 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:32:54,021 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:32:54,274 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:32:54,274 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:32:54,304 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:32:54,304 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:32:54,304 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:32:54,304 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:32:54,304 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:32:54,304 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:32:56,746 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:32:56,746 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10eec2450>
2025-05-28 16:32:56,746 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:32:56,747 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:32:56,747 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:32:56,747 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:32:56,747 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:32:56,747 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:32:56,747 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10eb90170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:32:57,070 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10eecaa50>
2025-05-28 16:32:57,070 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:32:57,070 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:32:57,070 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:32:57,071 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:32:57,071 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:32:57,238 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:32:57 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700084-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'40'), (b'X-Timer', b'S1748421177.260013,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'e2b30852d8071bceff7fc60cd7d5eb63b311c898'), (b'Expires', b'Wed, 28 May 2025 08:37:57 GMT'), (b'Source-Age', b'257')])
2025-05-28 16:32:57,239 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:32:57,239 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:32:57,280 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:32:57,280 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:32:57,280 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:32:57,945 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:32:59,324 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:32:59,369 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:32:59,374 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:32:59,793 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:32:59,845 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:32:59,852 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:32:59,853 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:33:28,240 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:33:28,240 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:33:28,608 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:33:28,896 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:33:28,896 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:33:28,930 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:33:28,930 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:33:28,930 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:33:28,930 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:33:28,931 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:33:28,931 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:33:31,597 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:33:31,597 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a1b7450>
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:33:31,598 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:33:31,599 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x119e84200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:33:31,902 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a1be850>
2025-05-28 16:33:31,902 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:33:31,902 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:33:31,903 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:33:31,905 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:33:31,906 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:33:32,149 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:33:32 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700087-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'62'), (b'X-Timer', b'S1748421212.083122,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'ca62460bf51e65585d796263493ee782aa82e72b'), (b'Expires', b'Wed, 28 May 2025 08:38:32 GMT'), (b'Source-Age', b'292')])
2025-05-28 16:33:32,151 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:33:32,151 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:33:32,154 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:33:32,154 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:33:32,155 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:33:32,783 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:33:34,326 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:33:34,382 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:33:34,388 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:33:34,829 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:33:34,892 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:33:34,900 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:33:34,901 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:34:10,455 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:34:10,455 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:34:10,783 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:34:11,078 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:34:11,078 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:34:11,110 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:34:11,110 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:34:11,110 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:34:11,110 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:34:11,110 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:34:11,110 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:34:13,852 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:34:13,853 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1154d21d0>
2025-05-28 16:34:13,853 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:34:13,853 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:34:13,853 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:34:13,853 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:34:13,853 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:34:13,854 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:34:13,854 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x115198170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:34:14,160 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1154d2910>
2025-05-28 16:34:14,160 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:34:14,161 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:34:14,161 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:34:14,161 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:34:14,162 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:34:14,321 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:34:14 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700064-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'8'), (b'X-Timer', b'S1748421254.336765,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'e269df6c255f6ae660821f8c3865513497acff00'), (b'Expires', b'Wed, 28 May 2025 08:39:14 GMT'), (b'Source-Age', b'34')])
2025-05-28 16:34:14,324 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:34:14,324 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:34:14,365 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:34:14,365 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:34:14,366 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:34:15,006 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:34:16,411 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:34:16,456 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:34:16,463 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:34:16,851 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:34:16,905 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:34:16,913 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:34:16,913 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:34:56,512 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:34:56,512 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:34:56,896 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:34:57,264 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:34:57,265 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:34:57,296 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:34:57,297 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:34:57,297 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:34:57,297 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:34:57,297 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:34:57,297 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:35:00,014 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:35:00,015 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ac5a0d0>
2025-05-28 16:35:00,015 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:35:00,015 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:35:00,015 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:35:00,016 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:35:00,016 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:35:00,016 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:35:00,016 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a920200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:35:00,307 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ac5a850>
2025-05-28 16:35:00,308 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:35:00,308 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:35:00,309 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:35:00,309 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:35:00,309 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:35:00,467 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:35:00 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700081-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'6'), (b'X-Timer', b'S1748421300.484601,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'94d1dd1d9a9ab32f2360b4da534a0871baaa2007'), (b'Expires', b'Wed, 28 May 2025 08:40:00 GMT'), (b'Source-Age', b'80')])
2025-05-28 16:35:00,469 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:35:00,469 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:35:00,508 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:35:00,508 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:35:00,508 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:35:01,538 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:35:03,077 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:35:03,126 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:35:03,132 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:35:03,507 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:35:03,555 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:35:03,562 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:35:03,563 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:35:40,520 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:35:40,520 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:35:40,572 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:35:40,699 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:35:40,699 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:35:40,732 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:35:40,733 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:35:40,733 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:35:40,733 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:35:40,733 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:35:40,733 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:35:40,741 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 16:35:40,741 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 16:35:40,792 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:35:40,798 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:35:41,146 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:35:41,404 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:35:41,425 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:35:41,425 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:36:08,589 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:36:08,589 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:36:08,634 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:36:08,739 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:36:08,739 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:36:08,763 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:36:08,763 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:36:08,764 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:36:08,764 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:36:08,764 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:36:08,764 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:36:08,765 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 16:36:08,765 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 16:36:08,810 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:08,816 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:09,151 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:36:09,372 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:36:09,383 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:36:09,384 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:36:09,577 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:09,577 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:09,578 - tests.test_crewai_interview - INFO - CrewAI u662fu5426u53efu7528: False
2025-05-28 16:36:09,580 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:09,697 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:09,699 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:38,244 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:36:38,244 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:36:38,560 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:36:38,884 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:36:38,884 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:36:38,913 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:36:38,914 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:36:38,914 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:36:38,914 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:36:38,914 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:36:38,914 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:36:41,502 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:36:41,502 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112865f10>
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:36:41,503 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:36:41,504 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x112524200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:36:41,836 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11286e850>
2025-05-28 16:36:41,836 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:36:41,837 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:36:41,837 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:36:41,837 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:36:41,837 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:36:42,004 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:36:42 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700076-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'39'), (b'X-Timer', b'S1748421402.011159,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'24c650ed0791d41691f0c88ebbebeb70d806242d'), (b'Expires', b'Wed, 28 May 2025 08:41:42 GMT'), (b'Source-Age', b'181')])
2025-05-28 16:36:42,005 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:36:42,005 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:36:42,040 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:36:42,041 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:36:42,041 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:36:42,652 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:36:44,152 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:36:44,208 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:44,215 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:44,623 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:36:44,674 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:36:44,683 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:36:44,683 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:36:48,031 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:36:48,031 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:36:48,052 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:36:48,134 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:36:48,134 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:36:48,157 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:36:48,158 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:36:48,158 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:36:48,158 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:36:48,158 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:36:48,158 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:36:48,159 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 16:36:48,159 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 16:36:48,187 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:48,192 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:36:48,335 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:36:48,456 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:36:48,462 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:36:48,462 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:36:48,691 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:48,692 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:48,692 - tests.test_crewai_interview - INFO - CrewAI u662fu5426u53efu7528: False
2025-05-28 16:36:48,694 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:48,695 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-28 16:36:48,695 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-28 16:36:48,695 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-28 16:36:48,695 - tests.test_crewai_interview - INFO - u9762u8bd5u534fu8c03u5458: 王协调 (面试协调员)
2025-05-28 16:36:48,697 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:36:48,700 - asyncio - DEBUG - Using selector: KqueueSelector
2025-05-28 16:37:23,298 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:37:23,301 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0038秒
2025-05-28 16:37:23,306 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:37:23,309 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:37:23,332 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0257秒
2025-05-28 16:37:27,056 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 16:37:27,057 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0011秒
2025-05-28 16:37:27,060 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 16:37:27,062 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-28 16:37:36,671 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 16:37:36,672 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 9.6122秒
2025-05-28 16:37:36,719 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:37:36,721 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:37:36,723 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0040秒
2025-05-28 16:37:58,676 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 16:37:58,676 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 16:37:59,102 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 16:37:59,391 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 16:37:59,392 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 16:37:59,423 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 16:37:59,423 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 16:37:59,423 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 16:37:59,423 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 16:37:59,423 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 16:37:59,423 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 16:38:01,674 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 16:38:01,674 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112a66090>
2025-05-28 16:38:01,674 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:38:01,675 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:38:01,675 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 16:38:01,675 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:38:01,675 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 16:38:01,676 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 16:38:01,676 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11271c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 16:38:02,008 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112a667d0>
2025-05-28 16:38:02,008 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 16:38:02,009 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 16:38:02,009 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 16:38:02,009 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 16:38:02,009 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 16:38:02,171 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 08:38:02 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700086-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'53'), (b'X-Timer', b'S1748421482.182664,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'294c9399851f50065a34488aef953074721973b9'), (b'Expires', b'Wed, 28 May 2025 08:43:02 GMT'), (b'Source-Age', b'261')])
2025-05-28 16:38:02,172 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 16:38:02,172 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 16:38:02,217 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 16:38:02,217 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 16:38:02,217 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 16:38:02,836 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 16:38:04,134 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 16:38:04,186 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:38:04,192 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 16:38:04,587 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 16:38:04,645 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 16:38:04,651 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 16:38:04,652 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 16:38:23,016 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:38:23,018 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:38:23,040 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0247秒
2025-05-28 16:38:34,545 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 16:38:34,547 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-28 16:38:43,002 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 16:38:43,004 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.4589秒
2025-05-28 16:38:43,011 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:38:43,012 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:38:43,015 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0041秒
2025-05-28 16:38:59,127 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:38:59,130 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:38:59,134 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0066秒
2025-05-28 16:39:00,191 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 16:39:00,192 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 16:39:00,194 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0035秒
2025-05-28 17:06:00,273 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:06:00,275 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0020秒
2025-05-28 17:06:00,276 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:06:00,278 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:06:00,280 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0041秒
2025-05-28 17:09:15,095 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:09:15,095 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:09:15,423 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:09:15,877 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:09:15,878 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:09:15,908 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:09:15,908 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:09:15,908 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:09:15,908 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:09:15,908 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:09:15,908 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:09:18,361 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:09:18,362 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118cd2110>
2025-05-28 17:09:18,362 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:09:18,362 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:09:18,362 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:09:18,363 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:09:18,363 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:09:18,363 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:09:18,363 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x118998200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:09:18,499 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1002)'))
2025-05-28 17:09:18,500 - httpcore.connection - DEBUG - close.started
2025-05-28 17:09:18,500 - httpcore.connection - DEBUG - close.complete
2025-05-28 17:09:19,180 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:09:20,604 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:09:20,644 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:09:20,651 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:09:21,002 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:09:21,048 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:09:21,054 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:09:21,055 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:09:41,211 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:09:41,215 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:09:41,234 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0230秒
2025-05-28 17:11:23,588 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:11:23,588 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:11:23,911 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:11:24,214 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:11:24,214 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:11:24,242 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:11:24,242 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:11:24,242 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:11:24,242 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:11:24,242 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:11:24,243 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:11:26,899 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:11:26,899 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1146d6150>
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:11:26,900 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:11:26,901 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11439c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:11:27,254 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1146d6910>
2025-05-28 17:11:27,254 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:11:27,255 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:11:27,255 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:11:27,256 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:11:27,256 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:11:27,415 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:11:27 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700022-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'28'), (b'X-Timer', b'S1748423488.517274,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0f0805e9eb657cfbea556fa3ad6f7725166cae20'), (b'Expires', b'Wed, 28 May 2025 09:16:27 GMT'), (b'Source-Age', b'165')])
2025-05-28 17:11:27,418 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:11:27,419 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:11:27,457 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:11:27,457 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:11:27,458 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:11:28,115 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:11:29,515 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:11:29,558 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:11:29,564 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:11:29,960 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:11:30,008 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:11:30,015 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:11:30,015 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:11:38,253 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:11:38,253 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:11:38,489 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:11:38,729 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:11:38,730 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:11:38,764 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:11:38,764 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:11:38,764 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:11:38,764 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:11:38,764 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:11:38,764 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:11:40,688 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:11:40,689 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1143e2150>
2025-05-28 17:11:40,689 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:11:40,689 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:11:40,689 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:11:40,689 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:11:40,690 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:11:40,690 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:11:40,690 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1140a8200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:11:41,078 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1143e2850>
2025-05-28 17:11:41,078 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:11:41,079 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:11:41,079 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:11:41,080 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:11:41,080 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:11:41,243 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:11:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700072-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'38'), (b'X-Timer', b'S1748423501.345219,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'e5535d707d05f22bb9694773e5a5b9c778dd13c4'), (b'Expires', b'Wed, 28 May 2025 09:16:41 GMT'), (b'Source-Age', b'178')])
2025-05-28 17:11:41,246 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:11:41,247 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:11:41,289 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:11:41,289 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:11:41,290 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:11:41,800 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:11:42,596 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:11:42,625 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:11:42,630 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:11:42,911 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:11:42,953 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:11:42,957 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:11:42,958 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:12:09,899 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:12:09,906 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:12:09,925 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0260秒
2025-05-28 17:14:34,189 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:14:34,190 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:14:34,502 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:14:34,789 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:14:34,790 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:14:34,817 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:14:34,817 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:14:34,817 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:14:34,817 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:14:34,817 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:14:34,817 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:14:37,704 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:14:37,705 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10deca110>
2025-05-28 17:14:37,705 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:14:37,706 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:14:37,706 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:14:37,706 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:14:37,706 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:14:37,707 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:14:37,707 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10db90200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:14:37,993 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10deca8d0>
2025-05-28 17:14:37,995 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:14:37,998 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:14:37,998 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:14:37,998 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:14:37,999 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:14:38,161 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:14:38 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700030-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'9'), (b'X-Timer', b'S1748423678.280832,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd08bc99d193dd240a2f150ba832a13688d99e81b'), (b'Expires', b'Wed, 28 May 2025 09:19:38 GMT'), (b'Source-Age', b'55')])
2025-05-28 17:14:38,164 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:14:38,164 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:14:38,203 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:14:38,203 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:14:38,204 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:14:38,849 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:14:40,289 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:14:40,328 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:14:40,333 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:14:40,685 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:14:40,740 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:14:40,746 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:14:40,747 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:14:59,445 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:14:59,445 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:14:59,755 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:15:00,030 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:15:00,030 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:15:00,058 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:15:00,058 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:15:00,058 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:15:00,058 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:15:00,059 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:15:00,059 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:15:02,629 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:15:02,629 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11657a0d0>
2025-05-28 17:15:02,630 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:15:02,630 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:15:02,630 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:15:02,630 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:15:02,630 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:15:02,631 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:15:02,631 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116294200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:15:02,923 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1165ce710>
2025-05-28 17:15:02,923 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:15:02,924 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:15:02,924 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:15:02,925 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:15:02,925 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:15:03,085 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:15:03 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700086-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'11'), (b'X-Timer', b'S1748423703.205114,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'6ed789bc3c198e205eb13f8abc5c5fb339609e7d'), (b'Expires', b'Wed, 28 May 2025 09:20:03 GMT'), (b'Source-Age', b'80')])
2025-05-28 17:15:03,086 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:15:03,086 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:15:03,129 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:15:03,129 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:15:03,130 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:15:03,692 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:15:04,992 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:15:05,035 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:15:05,041 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:15:05,426 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:15:05,472 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:15:05,479 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:15:05,480 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:15:34,151 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:15:34,154 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:15:34,167 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0164秒
2025-05-28 17:17:12,969 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:17:12,969 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:17:13,308 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:17:13,577 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:17:13,577 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:17:13,606 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:17:13,606 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:17:13,606 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:17:13,606 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:17:13,606 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:17:13,606 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:17:16,173 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:17:16,174 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x110806110>
2025-05-28 17:17:16,174 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:16,174 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:16,174 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:17:16,175 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:16,175 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:16,175 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:17:16,175 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1104cc200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:17:16,465 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x110806810>
2025-05-28 17:17:16,466 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:17:16,467 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:16,467 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:17:16,467 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:16,468 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:17:16,632 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:17:16 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700066-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'38'), (b'X-Timer', b'S1748423837.753884,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'27eb1a2f3be0b8ef5e8bbaceaf7ad1f31deed8af'), (b'Expires', b'Wed, 28 May 2025 09:22:16 GMT'), (b'Source-Age', b'213')])
2025-05-28 17:17:16,635 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:17:16,635 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:17:16,678 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:17:16,679 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:17:16,679 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:17:17,326 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:17:18,736 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:17:18,778 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:18,783 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:19,190 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:17:19,233 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:17:19,239 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:17:19,239 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:17:39,869 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:17:39,869 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:17:40,193 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:17:40,509 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:17:40,510 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:17:40,538 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:17:40,539 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:17:40,539 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:17:40,539 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:17:40,539 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:17:40,539 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:17:43,075 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:17:43,076 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e386150>
2025-05-28 17:17:43,076 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:43,077 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:43,077 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:17:43,078 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:43,078 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:43,078 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:17:43,079 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10e04c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:17:43,370 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e3320d0>
2025-05-28 17:17:43,371 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:17:43,372 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:43,372 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:17:43,373 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:43,374 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:17:43,532 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:17:43 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700044-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'44'), (b'X-Timer', b'S1748423864.656484,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'c4f330bbe4373bc560ec0a7ca7a17df223a41c32'), (b'Expires', b'Wed, 28 May 2025 09:22:43 GMT'), (b'Source-Age', b'240')])
2025-05-28 17:17:43,534 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:17:43,534 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:17:43,577 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:17:43,577 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:17:43,577 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:17:44,257 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:17:45,613 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:17:45,645 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:45,651 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:46,032 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:17:46,072 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:17:46,077 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:17:46,077 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:17:54,113 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:17:54,113 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:17:54,433 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:17:54,708 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:17:54,709 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:17:54,741 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:17:54,741 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:17:54,741 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:17:54,741 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:17:54,741 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:17:54,741 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:17:56,807 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:17:56,807 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b6cdf10>
2025-05-28 17:17:56,807 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:56,808 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:56,808 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:17:56,808 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:56,808 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:17:56,808 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:17:56,809 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b39c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:17:57,101 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b6d6810>
2025-05-28 17:17:57,101 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:17:57,102 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:17:57,102 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:17:57,102 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:17:57,103 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:17:57,270 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:17:57 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700084-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'41'), (b'X-Timer', b'S1748423877.385472,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'ed30e89dcded42512993e27bf272295532f22d40'), (b'Expires', b'Wed, 28 May 2025 09:22:57 GMT'), (b'Source-Age', b'254')])
2025-05-28 17:17:57,272 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:17:57,273 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:17:57,304 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:17:57,304 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:17:57,305 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:17:57,849 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:17:58,587 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:17:58,612 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:58,617 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:17:58,857 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:17:58,895 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:17:58,900 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:17:58,900 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:18:14,380 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:18:14,381 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:18:14,695 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:18:14,939 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:18:14,939 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:18:14,968 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:18:14,968 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:18:14,968 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:18:14,968 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:18:14,968 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:18:14,968 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:18:17,407 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:18:17,408 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11457e110>
2025-05-28 17:18:17,408 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:18:17,408 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:18:17,408 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:18:17,408 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:18:17,409 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:18:17,409 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:18:17,409 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114244200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:18:17,713 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11457e8d0>
2025-05-28 17:18:17,713 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:18:17,714 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:18:17,714 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:18:17,714 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:18:17,715 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:18:17,879 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:18:18 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700088-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'48'), (b'X-Timer', b'S1748423898.000694,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'75da90460918a1c336db61b80789697b9b80cd75'), (b'Expires', b'Wed, 28 May 2025 09:23:18 GMT'), (b'Source-Age', b'275')])
2025-05-28 17:18:17,880 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:18:17,881 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:18:17,926 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:18:17,936 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:18:17,937 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:18:18,494 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:18:19,301 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:18:19,330 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:18:19,335 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:18:19,595 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:18:19,634 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:18:19,638 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:18:19,639 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:18:28,089 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:18:28,089 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:18:28,631 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:18:28,812 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:18:28,812 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:18:28,839 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:18:28,839 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:18:28,839 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:18:28,839 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:18:28,840 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:18:28,840 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:18:30,816 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:18:30,817 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1108599d0>
2025-05-28 17:18:30,817 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:18:30,817 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:18:30,818 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:18:30,818 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:18:30,818 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:18:30,818 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:18:30,818 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x110518200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:18:31,168 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11085a190>
2025-05-28 17:18:31,168 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:18:31,169 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:18:31,169 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:18:31,169 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:18:31,169 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:18:31,333 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:18:31 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700041-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'45'), (b'X-Timer', b'S1748423911.454732,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b67d6d88164603761763783aa42589277db9a672'), (b'Expires', b'Wed, 28 May 2025 09:23:31 GMT'), (b'Source-Age', b'288')])
2025-05-28 17:18:31,335 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:18:31,335 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:18:31,370 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:18:31,370 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:18:31,370 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:18:31,893 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:18:32,713 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:18:32,739 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:18:32,743 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:18:32,986 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:18:33,024 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:18:33,028 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:18:33,028 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:18:57,048 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:18:57,049 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:18:57,403 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:18:57,679 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:18:57,679 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:18:57,714 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:18:57,715 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:18:57,716 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:18:57,716 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:18:57,716 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:18:57,717 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:19:00,792 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:19:00,793 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11686a250>
2025-05-28 17:19:00,795 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:19:00,795 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:19:00,796 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:19:00,796 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:19:00,796 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:19:00,797 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:19:00,797 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116520200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:19:01,172 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11686a950>
2025-05-28 17:19:01,173 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:19:01,173 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:19:01,174 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:19:01,174 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:19:01,174 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:19:01,340 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:19:01 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700025-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'6'), (b'X-Timer', b'S1748423941.457530,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'2f67e1519fde1342f35c4b6c1195be3ce7f3e6e9'), (b'Expires', b'Wed, 28 May 2025 09:24:01 GMT'), (b'Source-Age', b'18')])
2025-05-28 17:19:01,341 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:19:01,341 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:19:01,382 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:19:01,383 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:19:01,383 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:19:02,311 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:19:04,018 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:19:04,055 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:19:04,060 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:19:04,727 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:19:04,798 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:19:04,804 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:19:04,805 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:19:30,183 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:19:30,185 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0018秒
2025-05-28 17:19:30,187 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:19:30,189 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:19:30,202 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0156秒
2025-05-28 17:20:45,008 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:20:45,013 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:20:45,018 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0098秒
2025-05-28 17:23:43,404 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:23:43,404 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:23:43,786 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:23:44,327 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:23:44,327 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:23:44,365 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:23:44,365 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:23:44,365 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:23:44,365 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:23:44,365 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:23:44,365 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:23:47,165 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:23:47,165 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1115da110>
2025-05-28 17:23:47,166 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:23:47,166 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:23:47,166 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:23:47,166 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:23:47,166 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:23:47,167 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:23:47,167 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1112a0200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:23:47,462 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1115da890>
2025-05-28 17:23:47,462 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:23:47,463 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:23:47,463 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:23:47,476 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:23:47,476 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:23:47,620 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:23:47 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700099-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'2'), (b'X-Timer', b'S1748424228.751444,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd7b57ab734257b39a00897ede98031d085dd85f6'), (b'Expires', b'Wed, 28 May 2025 09:28:47 GMT'), (b'Source-Age', b'4')])
2025-05-28 17:23:47,621 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:23:47,622 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:23:47,664 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:23:47,664 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:23:47,664 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:23:48,274 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:23:49,920 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:23:49,984 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:23:49,993 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:23:50,646 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:23:50,702 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:23:50,709 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:23:50,709 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:23:54,294 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:23:54,297 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:23:54,315 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0208秒
2025-05-28 17:24:13,983 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:24:13,990 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:24:13,992 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0093秒
2025-05-28 17:26:13,230 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:26:13,230 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:26:13,544 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:26:13,554 - src.db.init_db - INFO - 创建默认测试用户
2025-05-28 17:26:13,561 - src.db.init_db - INFO - 测试用户已创建
2025-05-28 17:26:13,824 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:26:13,824 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:26:13,855 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:26:13,855 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:26:13,855 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:26:13,855 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:26:13,855 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:26:13,856 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:26:16,295 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:26:16,296 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b8c7950>
2025-05-28 17:26:16,296 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:26:16,296 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:26:16,296 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:26:16,296 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:26:16,296 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:26:16,297 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:26:16,297 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b580200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:26:16,675 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b8c78d0>
2025-05-28 17:26:16,676 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:26:16,677 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:26:16,677 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:26:16,678 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:26:16,678 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:26:16,835 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:26:16 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700106-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'24'), (b'X-Timer', b'S1748424377.966145,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'1b08b8a00f02782a3f38de879339927d1f810d04'), (b'Expires', b'Wed, 28 May 2025 09:31:16 GMT'), (b'Source-Age', b'153')])
2025-05-28 17:26:16,838 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:26:16,839 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:26:16,880 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:26:16,880 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:26:16,881 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:26:17,501 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:26:18,738 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:26:18,774 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:26:18,779 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:26:19,103 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:26:19,150 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:26:19,157 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:26:19,157 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:31:12,387 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:31:12,388 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:31:13,110 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:31:14,111 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:31:14,111 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:31:14,259 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:31:14,259 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:31:14,260 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:31:14,260 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:31:14,260 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:31:14,260 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:31:18,544 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:31:18,545 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bed6110>
2025-05-28 17:31:18,546 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:31:18,547 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:31:18,547 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:31:18,547 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:31:18,547 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:31:18,548 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:31:18,548 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10bb9c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:31:18,955 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bece190>
2025-05-28 17:31:18,956 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:31:18,956 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:31:18,957 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:31:18,957 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:31:18,957 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:31:19,127 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:31:19 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700024-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'17'), (b'X-Timer', b'S1748424679.259907,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'fbc6c49305dc5d194bbda6e88129b763dcd079f6'), (b'Expires', b'Wed, 28 May 2025 09:36:19 GMT'), (b'Source-Age', b'155')])
2025-05-28 17:31:19,149 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:31:19,150 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:31:19,165 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:31:19,165 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:31:19,165 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:31:20,062 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:31:21,869 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:31:21,920 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:31:21,930 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:31:22,427 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:31:22,483 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:31:22,491 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:31:22,491 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:31:55,682 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:31:55,686 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0036秒
2025-05-28 17:31:55,694 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:31:55,699 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:31:55,720 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0263秒
2025-05-28 17:34:50,965 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:34:51,035 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:34:51,080 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.1294秒
2025-05-28 17:35:04,916 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:35:04,925 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
                       ^^^^^^^^
NameError: name 'datetime' is not defined
2025-05-28 17:35:04,931 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0154秒
2025-05-28 17:36:40,853 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:36:40,853 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:36:41,304 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:36:41,870 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:36:41,871 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:36:41,914 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:36:41,915 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:36:41,915 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:36:41,915 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:36:41,915 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:36:41,915 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:36:45,889 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:36:45,890 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1146499d0>
2025-05-28 17:36:45,890 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:36:45,891 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:36:45,891 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:36:45,891 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:36:45,892 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:36:45,892 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:36:45,892 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114318200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:36:46,182 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1146527d0>
2025-05-28 17:36:46,182 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:36:46,183 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:36:46,183 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:36:46,183 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:36:46,184 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:36:46,341 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:36:46 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700067-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'61'), (b'X-Timer', b'S1748425006.481897,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd691a89e9a7866201ed7f560320a6ca882193a63'), (b'Expires', b'Wed, 28 May 2025 09:41:46 GMT'), (b'Source-Age', b'182')])
2025-05-28 17:36:46,343 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:36:46,343 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:36:46,381 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:36:46,381 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:36:46,382 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:36:47,356 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:36:49,010 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:36:49,151 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:36:49,160 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:36:49,650 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:36:49,714 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:36:49,722 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:36:49,723 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:37:52,326 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:37:52,327 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:37:53,314 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:37:54,464 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:37:54,464 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:37:54,606 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:37:54,607 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:37:54,607 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:37:54,607 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:37:54,607 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:37:54,607 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:38:01,315 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 17:38:01,317 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f96a150>
2025-05-28 17:38:01,318 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:38:01,319 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:38:01,319 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 17:38:01,321 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:38:01,322 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 17:38:01,326 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 17:38:01,330 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10f620200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 17:38:01,640 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f9120d0>
2025-05-28 17:38:01,641 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 17:38:01,642 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 17:38:01,642 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 17:38:01,643 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 17:38:01,643 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 17:38:01,814 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 09:38:01 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700075-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'85'), (b'X-Timer', b'S1748425082.952194,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'1c8cfd0861497506e9c1d30bd7920b277757f37b'), (b'Expires', b'Wed, 28 May 2025 09:43:01 GMT'), (b'Source-Age', b'257')])
2025-05-28 17:38:01,819 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 17:38:01,819 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 17:38:01,862 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 17:38:01,863 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 17:38:01,863 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 17:38:05,629 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 17:38:09,210 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 17:38:09,403 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:38:09,418 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:38:10,300 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:38:10,410 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:38:10,423 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:38:10,424 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:38:10,797 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 17:38:10,797 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 17:38:11,580 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 17:38:11,947 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 17:38:11,947 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 17:38:12,038 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 17:38:12,039 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 17:38:12,039 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 17:38:12,039 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 17:38:12,039 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 17:38:12,039 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 17:38:12,040 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 17:38:12,041 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 17:38:12,132 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:38:12,149 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 17:38:13,132 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 17:38:13,783 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 17:38:13,847 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 17:38:13,848 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 17:38:14,426 - uvicorn.error - INFO - Started server process [86271]
2025-05-28 17:38:14,427 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 17:38:14,429 - uvicorn.error - INFO - Application startup complete.
2025-05-28 17:39:08,355 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:39:08,384 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 17:39:08,405 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0506秒
2025-05-28 17:39:11,517 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:39:11,522 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 17:39:11,527 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0101秒
2025-05-28 17:39:12,546 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 17:39:12,553 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 17:39:12,555 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0090秒
2025-05-28 18:26:43,892 - uvicorn.error - INFO - Shutting down
2025-05-28 18:26:43,998 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:26:44,007 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:26:44,008 - uvicorn.error - INFO - Finished server process [86271]
2025-05-28 18:26:45,983 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:26:45,983 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:26:46,242 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:26:46,387 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:26:46,387 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:26:46,417 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:26:46,417 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:26:46,417 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:26:46,417 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:26:46,417 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:26:46,417 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:26:46,418 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:26:46,418 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:26:46,550 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:26:46,559 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:26:46,866 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:26:46,867 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:26:46,871 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:26:47,248 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:26:47,257 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:26:47,258 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:26:47,313 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:26:47,435 - uvicorn.error - INFO - Started server process [86723]
2025-05-28 18:26:47,435 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:26:47,435 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:26:47,658 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:26:47,658 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:26:47,780 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:26:47,780 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:26:47,780 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:26:47,780 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:26:47,780 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:26:47,781 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:26:50,246 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:26:50,247 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116252290>
2025-05-28 18:26:50,247 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:26:50,247 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:26:50,247 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:26:50,247 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:26:50,248 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:26:50,248 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:26:50,248 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x115f10200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:26:50,537 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11625aa10>
2025-05-28 18:26:50,537 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:26:50,538 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:26:50,538 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:26:50,538 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:26:50,538 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:26:50,707 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:26:50 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700033-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'22'), (b'X-Timer', b'S1748428011.797075,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'876350f286d2fd041ba0e2cc2baba3a98f7cba57'), (b'Expires', b'Wed, 28 May 2025 10:31:50 GMT'), (b'Source-Age', b'182')])
2025-05-28 18:26:50,708 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:26:50,709 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:26:50,743 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:26:50,744 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:26:50,744 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:26:51,323 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:26:52,486 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:26:52,519 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:26:52,524 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:26:52,819 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:26:52,863 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:26:52,870 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:26:52,870 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:27:53,101 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:27:53,102 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:27:53,327 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:27:53,547 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:27:53,547 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:27:53,580 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:27:53,580 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:27:53,580 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:27:53,581 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:27:53,581 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:27:53,581 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:27:55,722 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:27:55,722 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a8665d0>
2025-05-28 18:27:55,722 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:27:55,723 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:27:55,723 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:27:55,723 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:27:55,723 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:27:55,723 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:27:55,723 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a524200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:27:56,017 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a86e590>
2025-05-28 18:27:56,018 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:27:56,018 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:27:56,019 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:27:56,019 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:27:56,019 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:27:56,179 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:27:56 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700065-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'41'), (b'X-Timer', b'S1748428076.279519,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'9cc5c1326ef000721235864ba0bc61ae957efe74'), (b'Expires', b'Wed, 28 May 2025 10:32:56 GMT'), (b'Source-Age', b'248')])
2025-05-28 18:27:56,180 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:27:56,181 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:27:56,224 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:27:56,225 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:27:56,227 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:27:56,782 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:27:57,661 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:27:57,701 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:27:57,707 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:27:57,982 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:27:58,023 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:27:58,028 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:27:58,028 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:28:35,376 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:28:35,380 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0042秒
2025-05-28 18:28:35,385 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:28:35,394 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:28:35,405 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0204秒
2025-05-28 18:29:20,913 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:29:20,916 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:29:20,917 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0046秒
2025-05-28 18:31:23,469 - uvicorn.error - INFO - Shutting down
2025-05-28 18:31:23,571 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:31:23,571 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:31:23,571 - uvicorn.error - INFO - Finished server process [86723]
2025-05-28 18:31:25,523 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:31:25,523 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:31:25,832 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:31:25,871 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:31:25,871 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:31:25,995 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:31:25,995 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:31:26,022 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:31:26,022 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:31:26,022 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:31:26,022 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:31:26,023 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:31:26,023 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:31:26,024 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:31:26,024 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:31:26,065 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:31:26,072 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:31:26,172 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:31:26,471 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:31:26,547 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:31:26,547 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:31:26,576 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:31:26,576 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:31:26,576 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:31:26,577 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:31:26,577 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:31:26,577 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:31:26,735 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:31:26,749 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:31:26,749 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:31:26,925 - uvicorn.error - INFO - Started server process [86827]
2025-05-28 18:31:26,925 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:31:26,926 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:31:29,101 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:31:29,102 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11296a110>
2025-05-28 18:31:29,102 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:31:29,102 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:31:29,102 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:31:29,103 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:31:29,103 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:31:29,103 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:31:29,104 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x112620200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:31:34,105 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectTimeout(TimeoutError('_ssl.c:985: The handshake operation timed out'))
2025-05-28 18:31:34,106 - httpcore.connection - DEBUG - close.started
2025-05-28 18:31:34,106 - httpcore.connection - DEBUG - close.complete
2025-05-28 18:31:34,790 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:31:35,853 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:31:35,889 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:31:35,897 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:31:36,245 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:31:36,295 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:31:36,304 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:31:36,304 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:32:26,241 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:32:26,245 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:32:26,261 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0197秒
2025-05-28 18:34:38,160 - uvicorn.error - INFO - Shutting down
2025-05-28 18:34:38,264 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:34:38,265 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:34:38,265 - uvicorn.error - INFO - Finished server process [86827]
2025-05-28 18:34:39,661 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:34:39,661 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:34:40,065 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:34:40,328 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:34:40,328 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:34:40,378 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:34:40,378 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:34:40,378 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:34:40,378 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:34:40,378 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:34:40,379 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:34:40,381 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:34:40,382 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:34:40,436 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:34:40,436 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:34:40,445 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:34:40,456 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:34:40,954 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:34:40,998 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:34:41,230 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:34:41,249 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:34:41,250 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:34:41,308 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:34:41,308 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:34:41,341 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:34:41,341 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:34:41,341 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:34:41,341 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:34:41,342 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:34:41,342 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:34:41,449 - uvicorn.error - INFO - Started server process [86881]
2025-05-28 18:34:41,450 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:34:41,450 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:34:44,303 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:34:44,304 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1100b9a50>
2025-05-28 18:34:44,304 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:34:44,304 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:34:44,305 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:34:44,305 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:34:44,305 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:34:44,306 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:34:44,306 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10fd88200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:34:44,442 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1002)'))
2025-05-28 18:34:44,443 - httpcore.connection - DEBUG - close.started
2025-05-28 18:34:44,443 - httpcore.connection - DEBUG - close.complete
2025-05-28 18:34:45,098 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:34:46,543 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:34:46,581 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:34:46,589 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:34:47,025 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:34:47,074 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:34:47,082 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:34:47,082 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:35:24,506 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:35:24,507 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:35:24,793 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:35:25,137 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:35:25,137 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:35:25,189 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:35:25,190 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:35:25,190 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:35:25,190 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:35:25,190 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:35:25,190 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:35:27,505 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:35:27,506 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e45e0d0>
2025-05-28 18:35:27,506 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:35:27,506 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:35:27,507 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:35:27,507 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:35:27,507 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:35:27,507 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:35:27,508 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10e124200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:35:27,686 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1002)'))
2025-05-28 18:35:27,686 - httpcore.connection - DEBUG - close.started
2025-05-28 18:35:27,687 - httpcore.connection - DEBUG - close.complete
2025-05-28 18:35:28,201 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:35:29,019 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:35:29,044 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:35:29,053 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:35:29,300 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:35:29,338 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:35:29,342 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:35:29,343 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:41:03,794 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:41:03,794 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:41:04,102 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:41:04,371 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:41:04,371 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:41:04,399 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:41:04,400 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:41:04,400 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:41:04,400 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:41:04,400 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:41:04,400 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:41:06,778 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:41:06,779 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144d6110>
2025-05-28 18:41:06,779 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:41:06,779 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:41:06,780 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:41:06,780 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:41:06,780 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:41:06,780 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:41:06,780 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11419c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:41:07,117 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144d68d0>
2025-05-28 18:41:07,117 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:41:07,118 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:41:07,118 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:41:07,118 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:41:07,118 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:41:07,281 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:41:07 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700083-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'11'), (b'X-Timer', b'S1748428867.383753,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'85b5c1245c57aca3e47b627c26558919eefa19a6'), (b'Expires', b'Wed, 28 May 2025 10:46:07 GMT'), (b'Source-Age', b'138')])
2025-05-28 18:41:07,283 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:41:07,284 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:41:07,320 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:41:07,320 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:41:07,321 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:41:07,980 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:41:09,496 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:41:09,573 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:41:09,584 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:41:10,018 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:41:10,066 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:41:10,074 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:41:10,074 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:41:44,137 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:41:44,139 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0023秒
2025-05-28 18:41:44,142 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:41:44,147 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:41:44,156 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0143秒
2025-05-28 18:41:46,453 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:41:46,455 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0023秒
2025-05-28 18:41:46,461 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:41:46,469 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-28 18:41:55,038 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 18:41:55,042 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.5810秒
2025-05-28 18:41:55,047 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:41:55,052 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:41:55,057 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0098秒
2025-05-28 18:43:08,622 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:43:08,624 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-28 18:43:15,671 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 18:43:15,672 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.0506秒
2025-05-28 18:43:15,677 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:43:15,679 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:43:15,680 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0026秒
2025-05-28 18:44:37,798 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:44:37,812 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:44:37,832 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0345秒
2025-05-28 18:44:40,898 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:44:40,899 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-28 18:44:47,310 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 18:44:47,311 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.4129秒
2025-05-28 18:44:47,315 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:44:47,317 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:44:47,317 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0026秒
2025-05-28 18:45:31,249 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:45:31,251 - src.middlewares.error_handler - ERROR - 异常发生在 POST http://localhost:8000/api/speech/minimax-mcp/text-to-speech: name 'datetime' is not defined
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/middlewares/error_handler.py", line 50, in dispatch
    response = await call_next(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/psx849261680/Desktop/Interview-GPT/backend/./src/api/speech.py", line 308, in minimax_mcp_text_to_speech
    request_id = f"req_{datetime.now().strftime('%Y%m%d%H%M%S')}_{id(request)}"
NameError: name 'datetime' is not defined
2025-05-28 18:45:31,252 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 500 | 处理时间: 0.0030秒
2025-05-28 18:46:49,983 - uvicorn.error - INFO - Shutting down
2025-05-28 18:46:50,084 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:46:50,086 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:46:50,086 - uvicorn.error - INFO - Finished server process [86881]
2025-05-28 18:46:51,737 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:46:51,737 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:46:52,154 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:46:52,367 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:46:52,368 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:46:52,410 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:46:52,410 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:46:52,411 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:46:52,411 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:46:52,411 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:46:52,411 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:46:52,413 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:46:52,414 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:46:52,472 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:46:52,484 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:46:52,836 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:46:52,836 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:46:52,873 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:46:53,402 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:46:53,409 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:46:53,411 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:46:53,412 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:46:53,590 - uvicorn.error - INFO - Started server process [87196]
2025-05-28 18:46:53,590 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:46:53,591 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:46:53,678 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:46:53,678 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:46:53,710 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:46:53,710 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:46:53,710 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:46:53,710 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:46:53,710 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:46:53,710 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:46:56,103 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:46:56,104 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c8c2190>
2025-05-28 18:46:56,104 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:46:56,104 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:46:56,104 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:46:56,105 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:46:56,105 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:46:56,105 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:46:56,105 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c588200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:46:56,473 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c8c2990>
2025-05-28 18:46:56,474 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:46:56,474 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:46:56,475 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:46:56,475 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:46:56,475 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:46:56,649 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:46:56 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700068-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'43'), (b'X-Timer', b'S1748429217.740820,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'7696dbf585a5bf26c346a83758aef269123ffba9'), (b'Expires', b'Wed, 28 May 2025 10:51:56 GMT'), (b'Source-Age', b'187')])
2025-05-28 18:46:56,650 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:46:56,650 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:46:56,823 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:46:56,823 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:46:56,823 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:46:57,450 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:46:58,606 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:46:58,642 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:46:58,647 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:46:59,109 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:46:59,152 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:46:59,158 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:46:59,158 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:48:00,036 - uvicorn.error - INFO - Shutting down
2025-05-28 18:48:00,137 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:48:00,138 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:48:00,138 - uvicorn.error - INFO - Finished server process [87196]
2025-05-28 18:48:01,459 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:48:01,459 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:48:01,931 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:48:02,191 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:48:02,191 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:48:02,235 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:48:02,235 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:48:02,236 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:48:02,236 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:48:02,236 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:48:02,236 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:48:02,237 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:48:02,237 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:48:02,280 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:48:02,281 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:48:02,294 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:02,303 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:02,619 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:48:02,767 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:48:03,119 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:48:03,129 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:48:03,130 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:48:03,182 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:48:03,183 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:48:03,223 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:48:03,224 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:48:03,224 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:48:03,224 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:48:03,224 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:48:03,224 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:48:03,327 - uvicorn.error - INFO - Started server process [87214]
2025-05-28 18:48:03,327 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:48:03,328 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:48:05,684 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:48:05,684 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c4d7210>
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:48:05,685 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:48:05,686 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c1a4200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:48:05,977 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c4de810>
2025-05-28 18:48:05,978 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:48:05,978 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:48:05,978 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:48:05,978 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:48:05,978 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:48:06,144 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:48:06 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700094-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'42'), (b'X-Timer', b'S1748429286.242307,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b167a6eea02282210a402b3344e1e03a3c339a60'), (b'Expires', b'Wed, 28 May 2025 10:53:06 GMT'), (b'Source-Age', b'256')])
2025-05-28 18:48:06,145 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:48:06,146 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:48:06,182 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:48:06,183 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:48:06,183 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:48:06,721 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:48:07,674 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:48:07,707 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:07,712 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:07,977 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:48:08,167 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:48:08,172 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:48:08,172 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:48:49,970 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:48:49,970 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:48:50,201 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:48:50,418 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:48:50,418 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:48:50,449 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:48:50,449 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:48:50,449 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:48:50,449 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:48:50,449 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:48:50,449 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:48:52,893 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:48:52,894 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1193d21d0>
2025-05-28 18:48:52,894 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:48:52,894 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:48:52,894 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:48:52,895 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:48:52,895 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:48:52,895 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:48:52,895 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x119098200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:48:53,283 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1193d2950>
2025-05-28 18:48:53,283 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:48:53,284 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:48:53,284 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:48:53,284 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:48:53,284 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:48:53,446 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:48:53 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700093-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'1'), (b'X-Timer', b'S1748429334.548807,VS0,VE1'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'058856e4fa0e4cc362f973eb65c302aeca7db3d0'), (b'Expires', b'Wed, 28 May 2025 10:53:53 GMT'), (b'Source-Age', b'3')])
2025-05-28 18:48:53,447 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:48:53,447 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:48:53,487 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:48:53,487 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:48:53,487 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:48:54,057 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:48:54,960 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:48:54,987 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:54,992 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:48:55,248 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:48:55,295 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:48:55,302 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:48:55,303 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:49:13,880 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:49:13,887 - src.api.speech - INFO - [req_20250528184913_140503151579360] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:49:13,887 - src.api.speech - DEBUG - [req_20250528184913_140503151579360] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:49:13,887 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:49:13,888 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:49:15,585 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4899d635-7645-45ca-825b-eda92e5b71ee', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:49:15,586 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:49:15,587 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:49:15,589 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc971778ee0>
2025-05-28 18:49:15,589 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:15,590 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:15,590 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:49:15,590 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:15,590 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:15,591 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:49:15,591 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc970e59ac0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:49:15,830 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc971793340>
2025-05-28 18:49:15,831 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:49:15,832 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:15,832 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:49:15,832 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:15,832 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:49:16,121 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:49:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_0f611975b6af14c3dd1a91d3fa65b0ed'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XGQvHYZT4Q6.ZAbIZqpJjXxdO9b.vmH5Mp6AT0TOwcU-1748429356-1.0.1.1-1bOg3ALsGgsP33_ociVCXlyYj306IpVVvgqTYAJJVZctOWVIkdlTSPqlyoA1oYZ5Iwxc2aBnlbWOVHVblHsc26COxdrmY1_XPn4Mv2ntsrk; path=/; expires=Wed, 28-May-25 11:19:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=4MZ_Nt.sJevivRWxQecNqxmn0uBnkjPU90geT_FiPS4-1748429356242-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d2f337cbfd757-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:49:16,123 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:49:16,123 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:49:16,123 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:49:16,123 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:49:16,123 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:49:16,123 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:49:16 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_0f611975b6af14c3dd1a91d3fa65b0ed'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XGQvHYZT4Q6.ZAbIZqpJjXxdO9b.vmH5Mp6AT0TOwcU-1748429356-1.0.1.1-1bOg3ALsGgsP33_ociVCXlyYj306IpVVvgqTYAJJVZctOWVIkdlTSPqlyoA1oYZ5Iwxc2aBnlbWOVHVblHsc26COxdrmY1_XPn4Mv2ntsrk; path=/; expires=Wed, 28-May-25 11:19:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=4MZ_Nt.sJevivRWxQecNqxmn0uBnkjPU90geT_FiPS4-1748429356242-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d2f337cbfd757-NRT'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:49:16,124 - openai._base_client - DEBUG - request_id: req_0f611975b6af14c3dd1a91d3fa65b0ed
2025-05-28 18:49:16,124 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:49:16,127 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:49:16,127 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:49:16,129 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:49:16,129 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:49:16,129 - src.api.speech - DEBUG - [req_20250528184913_140503151579360] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:49:16,129 - src.api.speech - DEBUG - [req_20250528184913_140503151579360] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:49:16,130 - src.api.speech - INFO - [req_20250528184913_140503151579360] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpk9cbk7j1.mp3，大小: 317 字节
2025-05-28 18:49:16,131 - src.api.speech - DEBUG - [req_20250528184913_140503151579360] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:49:16,131 - src.api.speech - DEBUG - [req_20250528184913_140503151579360] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:49:16,132 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 2.2528秒
2025-05-28 18:49:51,661 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:49:51,663 - src.api.speech - INFO - [req_20250528184951_140503156176912] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:49:51,663 - src.api.speech - DEBUG - [req_20250528184951_140503156176912] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:49:51,663 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:49:51,664 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:49:51,691 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-a6a8d362-0685-474e-8e58-91c7da596f7d', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:49:51,691 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:49:51,692 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:49:51,693 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc97180a190>
2025-05-28 18:49:51,693 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:51,694 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:51,694 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:49:51,694 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:51,694 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:51,694 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:49:51,694 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc971808040> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:49:51,939 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc97180a4c0>
2025-05-28 18:49:51,939 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:49:51,940 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:51,940 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:49:51,941 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:51,941 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:49:52,274 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:49:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_d76811a067ade830e58456d6b9cb5ff2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=KMfCzQ0dsxCx4HrFJ.2PNmCDqYGLchg9tM4NUp_SIks-1748429392-1.0.1.1-R5OP0C088_6saLGu_M0mxYPCzeOEayzc9i__zg8BYMG6TKfujwvzhFhQ.rnc904k8Wb0TTjahMRUYGyH1C_jx2qNY5eShkNigFGeOwcTVdg; path=/; expires=Wed, 28-May-25 11:19:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=8VGDsXbx2zbwb1NF2f5dv0nYdrwt8r2jhABFogq8zaI-1748429392393-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d30152aa3261b-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:49:52,275 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:49:52,275 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:49:52,275 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:49:52,275 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:49:52,275 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:49:52,276 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:49:52 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_d76811a067ade830e58456d6b9cb5ff2'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=KMfCzQ0dsxCx4HrFJ.2PNmCDqYGLchg9tM4NUp_SIks-1748429392-1.0.1.1-R5OP0C088_6saLGu_M0mxYPCzeOEayzc9i__zg8BYMG6TKfujwvzhFhQ.rnc904k8Wb0TTjahMRUYGyH1C_jx2qNY5eShkNigFGeOwcTVdg; path=/; expires=Wed, 28-May-25 11:19:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=8VGDsXbx2zbwb1NF2f5dv0nYdrwt8r2jhABFogq8zaI-1748429392393-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d30152aa3261b-NRT'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:49:52,276 - openai._base_client - DEBUG - request_id: req_d76811a067ade830e58456d6b9cb5ff2
2025-05-28 18:49:52,276 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:49:52,276 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:49:52,276 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:49:52,277 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:49:52,277 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:49:52,277 - src.api.speech - DEBUG - [req_20250528184951_140503156176912] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:49:52,277 - src.api.speech - DEBUG - [req_20250528184951_140503156176912] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:49:52,277 - src.api.speech - INFO - [req_20250528184951_140503156176912] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpsmtvg1jr.mp3，大小: 317 字节
2025-05-28 18:49:52,278 - src.api.speech - DEBUG - [req_20250528184951_140503156176912] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:49:52,278 - src.api.speech - DEBUG - [req_20250528184951_140503156176912] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:49:52,279 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6177秒
2025-05-28 18:49:53,233 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:49:53,239 - src.api.speech - INFO - [req_20250528184953_140503161998128] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:49:53,239 - src.api.speech - DEBUG - [req_20250528184953_140503161998128] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:49:53,239 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:49:53,240 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:49:53,265 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-092c1254-e2df-405b-b009-752af8fe17a8', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:49:53,265 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:49:53,266 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:49:53,267 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc971807c70>
2025-05-28 18:49:53,267 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:53,267 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:53,268 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:49:53,268 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:53,268 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:49:53,268 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:49:53,268 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc9706b93c0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:49:53,503 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc971803670>
2025-05-28 18:49:53,504 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:49:53,504 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:49:53,504 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:49:53,505 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:49:53,505 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:49:53,812 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:49:53 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_5760ae844b1802ecb42a8864af274971'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NT7ZCy2U6rT7qYN5ICz7PishpJEjj3muF5rR3PINtKI-1748429393-1.0.1.1-o.DIrqsJ1R2PjRFTtUVok7B2fLRZ1xRis55UBvGdnCXjoW.cATjzUx5zlT0aNDaQZmoYpwNqhW65sVzBefR1Mn1VCAuHZFfE946vYXj02_w; path=/; expires=Wed, 28-May-25 11:19:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=AkAxssameHcP_nqFv75DOfHlf8OMaSWvnxrkf10l8R8-1748429393933-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d301ee956735c-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:49:53,813 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:49:53,813 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:49:53,813 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:49:53,813 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:49:53,813 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:49:53,814 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:49:53 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_5760ae844b1802ecb42a8864af274971'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=NT7ZCy2U6rT7qYN5ICz7PishpJEjj3muF5rR3PINtKI-1748429393-1.0.1.1-o.DIrqsJ1R2PjRFTtUVok7B2fLRZ1xRis55UBvGdnCXjoW.cATjzUx5zlT0aNDaQZmoYpwNqhW65sVzBefR1Mn1VCAuHZFfE946vYXj02_w; path=/; expires=Wed, 28-May-25 11:19:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=AkAxssameHcP_nqFv75DOfHlf8OMaSWvnxrkf10l8R8-1748429393933-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d301ee956735c-NRT'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:49:53,814 - openai._base_client - DEBUG - request_id: req_5760ae844b1802ecb42a8864af274971
2025-05-28 18:49:53,814 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:49:53,814 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:49:53,814 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:49:53,814 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:49:53,815 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:49:53,815 - src.api.speech - DEBUG - [req_20250528184953_140503161998128] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:49:53,815 - src.api.speech - DEBUG - [req_20250528184953_140503161998128] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:49:53,815 - src.api.speech - INFO - [req_20250528184953_140503161998128] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpjn2x7wro.mp3，大小: 317 字节
2025-05-28 18:49:53,815 - src.api.speech - DEBUG - [req_20250528184953_140503161998128] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:49:53,816 - src.api.speech - DEBUG - [req_20250528184953_140503161998128] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:49:53,817 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.5840秒
2025-05-28 18:51:26,078 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:51:26,080 - src.api.speech - INFO - [req_20250528185126_140503155855088] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:51:26,080 - src.api.speech - DEBUG - [req_20250528185126_140503155855088] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:51:26,080 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:51:26,080 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:51:26,115 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-608d9478-6699-4835-baab-3d45d6944d9c', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:51:26,115 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:51:26,116 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:51:26,117 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc97180fdc0>
2025-05-28 18:51:26,118 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:51:26,119 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:51:26,119 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:51:26,119 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:51:26,119 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:51:26,120 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:51:26,120 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc971808240> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:51:26,423 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc9718140a0>
2025-05-28 18:51:26,423 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:51:26,424 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:51:26,424 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:51:26,424 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:51:26,424 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:51:26,883 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:51:26 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_51cda94752edd9c9109ef8fd3c74dc76'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=yGOL8oVzyJqDXBHIZvWd_eUHj5y241zRiNm5g.SBRuQ-1748429486-1.0.1.1-ee_O7u1a1CvKsCOmjnJCiXjunF.ufYsEGEVMqtNyjOl2aphTSVvddpgziVEfYc1oiKUkd.SS69cQHzcW3ZAf0BKDmEBodw9rxjXFAKzPCs0; path=/; expires=Wed, 28-May-25 11:21:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=rYzkwyTxFDveVY3d25SaOxXciuom3cJ4OgVTl_yxzKQ-1748429486982-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d3263be57ce37-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:51:26,884 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:51:26,884 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:51:26,884 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:51:26,884 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:51:26,884 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:51:26,884 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:51:26 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_51cda94752edd9c9109ef8fd3c74dc76'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=yGOL8oVzyJqDXBHIZvWd_eUHj5y241zRiNm5g.SBRuQ-1748429486-1.0.1.1-ee_O7u1a1CvKsCOmjnJCiXjunF.ufYsEGEVMqtNyjOl2aphTSVvddpgziVEfYc1oiKUkd.SS69cQHzcW3ZAf0BKDmEBodw9rxjXFAKzPCs0; path=/; expires=Wed, 28-May-25 11:21:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=rYzkwyTxFDveVY3d25SaOxXciuom3cJ4OgVTl_yxzKQ-1748429486982-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d3263be57ce37-SIN'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:51:26,885 - openai._base_client - DEBUG - request_id: req_51cda94752edd9c9109ef8fd3c74dc76
2025-05-28 18:51:26,885 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:51:26,885 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:51:26,885 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:51:26,886 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:51:26,886 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:51:26,886 - src.api.speech - DEBUG - [req_20250528185126_140503155855088] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:51:26,886 - src.api.speech - DEBUG - [req_20250528185126_140503155855088] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:51:26,887 - src.api.speech - INFO - [req_20250528185126_140503155855088] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpxmbrklar.mp3，大小: 317 字节
2025-05-28 18:51:26,887 - src.api.speech - DEBUG - [req_20250528185126_140503155855088] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:51:26,887 - src.api.speech - DEBUG - [req_20250528185126_140503155855088] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:51:26,888 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8097秒
2025-05-28 18:52:59,655 - uvicorn.error - INFO - Shutting down
2025-05-28 18:52:59,759 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:52:59,762 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:52:59,762 - uvicorn.error - INFO - Finished server process [87214]
2025-05-28 18:53:01,307 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:53:01,307 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:53:01,649 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:53:01,805 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:53:01,805 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:53:01,849 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:53:01,849 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:53:01,893 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:53:01,893 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:53:01,893 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:53:01,893 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:53:01,893 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:53:01,893 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:53:01,895 - src.services.ai.crewai_integration - WARNING - CrewAI功能禁用，项目将使用真实AI服务而非多智能体协作
2025-05-28 18:53:01,895 - src.services.ai.crewai_integration - ERROR - CrewAI不可用，无法使用多智能体功能
2025-05-28 18:53:01,952 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:53:01,962 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:53:02,366 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:53:02,506 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:53:02,720 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:53:02,720 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:53:02,759 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:53:02,760 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:53:02,760 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:53:02,760 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:53:02,760 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:53:02,760 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:53:02,793 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:53:02,803 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:53:02,804 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:53:03,029 - uvicorn.error - INFO - Started server process [87283]
2025-05-28 18:53:03,029 - uvicorn.error - INFO - Waiting for application startup.
2025-05-28 18:53:03,030 - uvicorn.error - INFO - Application startup complete.
2025-05-28 18:53:05,189 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:53:05,190 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x117706110>
2025-05-28 18:53:05,190 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:53:05,190 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:53:05,190 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:53:05,190 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:53:05,191 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:53:05,191 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:53:05,191 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1173cc200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:53:05,514 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1176ff3d0>
2025-05-28 18:53:05,514 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:53:05,515 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:53:05,515 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:53:05,515 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:53:05,515 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:53:05,693 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:53:05 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700027-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'48'), (b'X-Timer', b'S1748429586.784362,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'438d55ce264cae58908bc028f5835f68b2a23b5d'), (b'Expires', b'Wed, 28 May 2025 10:58:05 GMT'), (b'Source-Age', b'255')])
2025-05-28 18:53:05,694 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:53:05,695 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:53:05,737 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:53:05,737 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:53:05,737 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:53:06,291 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:53:07,623 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:53:07,664 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:53:07,670 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:53:08,016 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:53:08,063 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:53:08,070 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:53:08,071 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:53:53,394 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:53:53,396 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0014秒
2025-05-28 18:53:53,399 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:53:53,406 - src.api.speech - INFO - [req_20250528185353_140396599488896] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:53:53,407 - src.api.speech - DEBUG - [req_20250528185353_140396599488896] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:53:53,407 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:53:53,407 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:53:54,326 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d3393fc4-1304-4305-aa9c-1800dbfb0b86', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:53:54,328 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:53:54,329 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:53:54,331 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a287df10>
2025-05-28 18:53:54,332 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:53:54,332 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:53:54,332 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:53:54,333 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:53:54,333 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:53:54,333 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:53:54,334 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb0a1f60ac0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:53:54,661 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a289a370>
2025-05-28 18:53:54,662 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:53:54,662 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:53:54,662 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:53:54,663 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:53:54,663 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:53:55,049 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:53:55 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_905b459081acc87f0427179e06ecaaef'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CtQxHzLRDvsLyr1lBTfXjW2x2G.gBRHqgxdp0_fauN0-1748429635-1.0.1.1-TiK_YVcFskq8176UWZOC9QB0e_ZHrerorNnoqpkBRjH23KT0hps2GTh333gF0F.N7ya3kvENEd6.sLRq49H1P6062bTrJNc5cdpTRKZXdgY; path=/; expires=Wed, 28-May-25 11:23:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=cSXzz9kJRSsaHeUAa.0DQuheOz2t79Ci9J21TIaepYA-1748429635146-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d36022baf6d3b-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:53:55,051 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:53:55,051 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:53:55,051 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:53:55,051 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:53:55,051 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:53:55,052 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:53:55 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_905b459081acc87f0427179e06ecaaef'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=CtQxHzLRDvsLyr1lBTfXjW2x2G.gBRHqgxdp0_fauN0-1748429635-1.0.1.1-TiK_YVcFskq8176UWZOC9QB0e_ZHrerorNnoqpkBRjH23KT0hps2GTh333gF0F.N7ya3kvENEd6.sLRq49H1P6062bTrJNc5cdpTRKZXdgY; path=/; expires=Wed, 28-May-25 11:23:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=cSXzz9kJRSsaHeUAa.0DQuheOz2t79Ci9J21TIaepYA-1748429635146-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d36022baf6d3b-SIN'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:53:55,052 - openai._base_client - DEBUG - request_id: req_905b459081acc87f0427179e06ecaaef
2025-05-28 18:53:55,052 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:53:55,056 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:53:55,056 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:53:55,058 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:53:55,059 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:53:55,061 - src.api.speech - DEBUG - [req_20250528185353_140396599488896] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:53:55,062 - src.api.speech - DEBUG - [req_20250528185353_140396599488896] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:53:55,064 - src.api.speech - INFO - [req_20250528185353_140396599488896] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9s1lecn_.mp3，大小: 317 字节
2025-05-28 18:53:55,065 - src.api.speech - DEBUG - [req_20250528185353_140396599488896] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:53:55,065 - src.api.speech - DEBUG - [req_20250528185353_140396599488896] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:53:55,071 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.6722秒
2025-05-28 18:53:55,566 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:53:55,568 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0013秒
2025-05-28 18:53:55,571 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-28 18:53:55,578 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-28 18:54:02,648 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-28 18:54:02,652 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.0806秒
2025-05-28 18:54:02,660 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:54:02,664 - src.api.speech - INFO - [req_20250528185402_140396618339488] 收到MiniMax MCP TTS请求: text='我注意到你的回答似乎不完整。作为面试官，我建议你重新组织语言，完整地介绍一下你的技术背景和工作经历。这有助于我更好地评估你的技术能力。\n\n请包括：\n1. 你的专业背景\n2. 主要技术栈\n3. 相关工作经验\n4. 参与过的重点项目\n\n这样我们可以更有针对性地展开后续的技术讨论。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:54:02,664 - src.api.speech - DEBUG - [req_20250528185402_140396618339488] 开始调用语音服务: text_to_speech(text='我注意到你的回答似乎不完整。作为面试官，我建议你重新组织语言...', voice='male-qingsong')
2025-05-28 18:54:02,664 - src.services.speech_service - INFO - 开始语音合成，文本长度: 138
2025-05-28 18:54:02,664 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:54:02,709 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-97be8240-6bfe-4c80-b077-a442a1d20a91', 'json_data': {'input': '我注意到你的回答似乎不完整。作为面试官，我建议你重新组织语言，完整地介绍一下你的技术背景和工作经历。这有助于我更好地评估你的技术能力。\n\n请包括：\n1. 你的专业背景\n2. 主要技术栈\n3. 相关工作经验\n4. 参与过的重点项目\n\n这样我们可以更有针对性地展开后续的技术讨论。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:54:02,709 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:54:02,710 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:54:02,711 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a2907bb0>
2025-05-28 18:54:02,711 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:54:02,711 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:54:02,711 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:54:02,712 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:54:02,712 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:54:02,717 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:54:02,718 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb0a28e8f40> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:54:03,163 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a2907ee0>
2025-05-28 18:54:03,164 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:54:03,164 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:54:03,164 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:54:03,164 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:54:03,165 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:54:03,672 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:54:03 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_f2516645cd200985e9ae24597b9b0fed'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=23hrbwuF.YeOb2wahZBTb0l21KKCvvX_ij6BnZPZKsQ-1748429643-1.0.1.1-IIm0n8beJ2REzP7ESIM5rnR.bu5fOfioea1tuHcWXPWeTYnFeTZCfEeEq8CBMIs00WVcaxM54M0mrLgGtGYzTS5etcRKVHbWE52FYo9loVA; path=/; expires=Wed, 28-May-25 11:24:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=DulZc9shMQ3TsUIiataZcEPba7u.2Sl_XapCxlY.1VA-1748429643668-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d36375ce1a110-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:54:03,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:54:03,673 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:54:03,673 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:54:03,673 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:54:03,673 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:54:03,673 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:54:03 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_f2516645cd200985e9ae24597b9b0fed'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=23hrbwuF.YeOb2wahZBTb0l21KKCvvX_ij6BnZPZKsQ-1748429643-1.0.1.1-IIm0n8beJ2REzP7ESIM5rnR.bu5fOfioea1tuHcWXPWeTYnFeTZCfEeEq8CBMIs00WVcaxM54M0mrLgGtGYzTS5etcRKVHbWE52FYo9loVA; path=/; expires=Wed, 28-May-25 11:24:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=DulZc9shMQ3TsUIiataZcEPba7u.2Sl_XapCxlY.1VA-1748429643668-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d36375ce1a110-SIN'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:54:03,673 - openai._base_client - DEBUG - request_id: req_f2516645cd200985e9ae24597b9b0fed
2025-05-28 18:54:03,674 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:54:03,674 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:54:03,674 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:54:03,674 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:54:03,674 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:54:03,674 - src.api.speech - DEBUG - [req_20250528185402_140396618339488] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:54:03,674 - src.api.speech - DEBUG - [req_20250528185402_140396618339488] 收到音频数据，大小: 613 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:54:03,675 - src.api.speech - INFO - [req_20250528185402_140396618339488] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmprpia3kp0.mp3，大小: 613 字节
2025-05-28 18:54:03,675 - src.api.speech - DEBUG - [req_20250528185402_140396618339488] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:54:03,675 - src.api.speech - DEBUG - [req_20250528185402_140396618339488] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:54:03,676 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0155秒
2025-05-28 18:54:48,092 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 18:54:48,092 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 18:54:48,336 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 18:54:48,529 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 18:54:48,529 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 18:54:48,559 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 18:54:48,559 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 18:54:48,559 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 18:54:48,559 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 18:54:48,559 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 18:54:48,559 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 18:54:50,497 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 18:54:50,498 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b3421d0>
2025-05-28 18:54:50,498 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:54:50,498 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:54:50,498 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:54:50,498 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:54:50,499 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:54:50,499 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:54:50,499 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b008200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 18:54:50,783 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b342910>
2025-05-28 18:54:50,783 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 18:54:50,784 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:54:50,784 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 18:54:50,784 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:54:50,784 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 18:54:50,943 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 10:54:51 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700030-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'11'), (b'X-Timer', b'S1748429691.034910,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'72fa87d39f66712a71d79eabe40a16b9c5f7d747'), (b'Expires', b'Wed, 28 May 2025 10:59:51 GMT'), (b'Source-Age', b'60')])
2025-05-28 18:54:50,944 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 18:54:50,944 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 18:54:50,982 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:54:50,983 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:54:50,983 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:54:51,538 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 18:54:52,347 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 18:54:52,385 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:54:52,390 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 18:54:52,657 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 18:54:52,697 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 18:54:52,702 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 18:54:52,702 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 18:55:02,164 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 18:55:02,168 - src.api.speech - INFO - [req_20250528185502_140396599089728] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 18:55:02,168 - src.api.speech - DEBUG - [req_20250528185502_140396599089728] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 18:55:02,174 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 18:55:02,177 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 18:55:02,253 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0ea5e1ca-77b8-42a2-9e28-afc2638df760', 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 18:55:02,255 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/audio/speech
2025-05-28 18:55:02,257 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 18:55:02,272 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a2927430>
2025-05-28 18:55:02,275 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:55:02,277 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:55:02,277 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 18:55:02,278 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:55:02,279 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 18:55:02,281 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 18:55:02,281 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb0a29190c0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 18:55:02,619 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fb0a2927700>
2025-05-28 18:55:02,620 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 18:55:02,620 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 18:55:02,620 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 18:55:02,621 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 18:55:02,621 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 18:55:03,036 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 10:55:03 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_cf74d486ba755f50c9c6b25bedebb3dd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=WhD_latlTuEP_C5Ly7kU5NCvPAQCb4F3i8_Myj7K4S8-1748429703-1.0.1.1-6FajLkKG4Zv1KSQrP747GT9mp3ymn7WeKJClxV3a9g_RSiVgZF5fgD5jw.isamdsBK4W5edovC65G3LtGydQIyoOInbAIE7ebZCxA2Ud308; path=/; expires=Wed, 28-May-25 11:25:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=JXN5bDGn3YQGxe7OoAQo8Lj99N2obFEsM8ZtY1Eq_PI-1748429703129-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d37aafc133dd8-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 18:55:03,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 18:55:03,038 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 18:55:03,039 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 18:55:03,040 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 18:55:03,040 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 18:55:03,041 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/audio/speech "401 Unauthorized" Headers([('date', 'Wed, 28 May 2025 10:55:03 GMT'), ('content-type', 'application/json; charset=utf-8'), ('content-length', '274'), ('connection', 'keep-alive'), ('vary', 'Origin'), ('x-request-id', 'req_cf74d486ba755f50c9c6b25bedebb3dd'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=WhD_latlTuEP_C5Ly7kU5NCvPAQCb4F3i8_Myj7K4S8-1748429703-1.0.1.1-6FajLkKG4Zv1KSQrP747GT9mp3ymn7WeKJClxV3a9g_RSiVgZF5fgD5jw.isamdsBK4W5edovC65G3LtGydQIyoOInbAIE7ebZCxA2Ud308; path=/; expires=Wed, 28-May-25 11:25:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=JXN5bDGn3YQGxe7OoAQo8Lj99N2obFEsM8ZtY1Eq_PI-1748429703129-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '946d37aafc133dd8-SIN'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-28 18:55:03,042 - openai._base_client - DEBUG - request_id: req_cf74d486ba755f50c9c6b25bedebb3dd
2025-05-28 18:55:03,042 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/openai/_base_client.py", line 1529, in request
    response.raise_for_status()
  File "/Users/psx849261680/opt/anaconda3/lib/python3.9/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 18:55:03,043 - openai._base_client - DEBUG - Not retrying
2025-05-28 18:55:03,043 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 18:55:03,044 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 18:55:03,044 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 18:55:03,044 - src.api.speech - DEBUG - [req_20250528185502_140396599089728] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 18:55:03,045 - src.api.speech - DEBUG - [req_20250528185502_140396599089728] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 18:55:03,045 - src.api.speech - INFO - [req_20250528185502_140396599089728] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpo7wbt223.mp3，大小: 317 字节
2025-05-28 18:55:03,046 - src.api.speech - DEBUG - [req_20250528185502_140396599089728] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 18:55:03,046 - src.api.speech - DEBUG - [req_20250528185502_140396599089728] 响应头: {'content-type': 'audio/mpeg', 'accept-ranges': 'bytes', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 18:55:03,048 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8834秒
2025-05-28 18:58:29,142 - uvicorn.error - INFO - Shutting down
2025-05-28 18:58:29,242 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-28 18:58:29,243 - uvicorn.error - INFO - Application shutdown complete.
2025-05-28 18:58:29,243 - uvicorn.error - INFO - Finished server process [87283]
2025-05-28 19:00:48,006 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:00:48,007 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:00:48,428 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:00:48,699 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:00:48,699 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:00:48,728 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:00:48,728 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:00:48,728 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:00:48,728 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:00:48,728 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:00:48,728 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:00:51,542 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:00:51,542 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114966150>
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:00:51,543 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:00:51,544 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11461c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:00:51,844 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11495ee90>
2025-05-28 19:00:51,844 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:00:51,844 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:00:51,844 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:00:51,844 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:00:51,845 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:00:52,019 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:00:52 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700049-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'22'), (b'X-Timer', b'S1748430052.109835,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'35ea5666af233900b913ef8b7afb3b0d07c5819a'), (b'Expires', b'Wed, 28 May 2025 11:05:52 GMT'), (b'Source-Age', b'121')])
2025-05-28 19:00:52,020 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:00:52,020 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:00:52,061 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:00:52,061 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:00:52,061 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:00:52,703 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:00:54,183 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:00:54,242 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:00:54,248 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:00:54,717 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:00:54,768 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:00:54,777 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:00:54,778 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:01:28,420 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:01:28,423 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0030秒
2025-05-28 19:01:28,426 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:01:28,429 - src.api.speech - INFO - [req_20250528190128_4773839488] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 19:01:28,430 - src.api.speech - DEBUG - [req_20250528190128_4773839488] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 19:01:28,430 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 19:01:28,430 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 19:01:28,538 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:01:28,542 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:01:28,554 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11c8d7a10>
2025-05-28 19:01:28,555 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:01:28,556 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:01:28,556 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:01:28,558 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:01:28,559 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:01:28,560 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:01:28,561 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11c68bf50> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:01:28,825 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11c864810>
2025-05-28 19:01:28,826 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 19:01:28,827 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:01:28,827 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 19:01:28,827 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:01:28,828 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 19:01:29,129 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 11:01:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_d0c06e6cf89f41ece2163d98c294b9a8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=sscnTbNqIyQ3o5pZOmT9lhzTWju76JP.FoZWP08J0ik-1748430089-1.0.1.1-PdMBe_ili5tnSod1od.CXA5gVvNqRG_BSz9qpjUxYEN.FT0uGdpN9xW8UVvVZqKNIDk0c1YXg_k0CHgOmdinx0bXD9YpoZjuDvLW2AtAr94; path=/; expires=Wed, 28-May-25 11:31:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=1j7ICHV5HPCeXmcbWqiNOvsJPvXvUdUWPP.O3XEAmV4-1748430089239-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d4118a9e5d75c-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 19:01:29,131 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 19:01:29,132 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 19:01:29,133 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:01:29,133 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:01:29,134 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:01:29,134 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 19:01:29,135 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 19:01:29,142 - openai._base_client - DEBUG - Not retrying
2025-05-28 19:01:29,143 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 19:01:29,145 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 19:01:29,146 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 19:01:29,146 - src.api.speech - DEBUG - [req_20250528190128_4773839488] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 19:01:29,146 - src.api.speech - DEBUG - [req_20250528190128_4773839488] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 19:01:29,148 - src.api.speech - INFO - [req_20250528190128_4773839488] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp4zos4rzt.mp3，大小: 317 字节
2025-05-28 19:01:29,148 - src.api.speech - DEBUG - [req_20250528190128_4773839488] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 19:01:29,149 - src.api.speech - DEBUG - [req_20250528190128_4773839488] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 19:01:29,151 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7254秒
2025-05-28 19:03:15,184 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:03:15,184 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:03:15,499 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:03:15,796 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:03:15,797 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:03:15,826 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:03:15,826 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:03:15,826 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:03:15,826 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:03:15,826 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:03:15,826 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:03:18,398 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:03:18,399 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1183de110>
2025-05-28 19:03:18,399 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:03:18,400 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:03:18,400 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:03:18,400 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:03:18,400 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:03:18,400 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:03:18,401 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1180a4200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:03:18,699 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1183de7d0>
2025-05-28 19:03:18,699 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:03:18,699 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:03:18,699 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:03:18,700 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:03:18,700 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:03:18,860 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:03:18 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700099-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'38'), (b'X-Timer', b'S1748430199.952249,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'8f13c34bfdfca46d97dafdfeda26b44c7f32029b'), (b'Expires', b'Wed, 28 May 2025 11:08:18 GMT'), (b'Source-Age', b'268')])
2025-05-28 19:03:18,863 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:03:18,863 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:03:18,900 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:03:18,901 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:03:18,901 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:03:19,591 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:03:20,990 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:03:21,049 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:03:21,057 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:03:21,569 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:03:21,632 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:03:21,652 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:03:21,652 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:04:25,221 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:04:25,222 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:04:25,593 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:04:25,944 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:04:25,944 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:04:25,976 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:04:25,976 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:04:25,976 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:04:25,976 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:04:25,977 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:04:25,977 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:04:28,466 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:04:28,469 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f9d65d0>
2025-05-28 19:04:28,469 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:04:28,470 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:04:28,470 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:04:28,470 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:04:28,470 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:04:28,471 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:04:28,471 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10faa0200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:04:28,774 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10fddaa50>
2025-05-28 19:04:28,775 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:04:28,776 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:04:28,777 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:04:28,777 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:04:28,777 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:04:28,938 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:04:29 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700082-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'6'), (b'X-Timer', b'S1748430269.027334,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0ced042e5c3c4d779eecc8d968225b93edfcfaa3'), (b'Expires', b'Wed, 28 May 2025 11:09:29 GMT'), (b'Source-Age', b'38')])
2025-05-28 19:04:28,941 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:04:28,941 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:04:28,979 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:04:28,979 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:04:28,980 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:04:29,649 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:04:31,047 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:04:31,090 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:04:31,097 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:04:31,536 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:04:31,595 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:04:31,603 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:04:31,604 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:05:00,537 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:05:00,543 - src.api.speech - INFO - [req_20250528190500_4694688304] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 19:05:00,544 - src.api.speech - DEBUG - [req_20250528190500_4694688304] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 19:05:00,544 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 19:05:00,544 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 19:05:00,629 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:05:00,631 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:05:00,632 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1179f7490>
2025-05-28 19:05:00,633 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:05:00,633 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:05:00,633 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:05:00,634 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:05:00,634 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:05:00,635 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:05:00,635 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x117b0fc80> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:05:00,886 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1179f4d90>
2025-05-28 19:05:00,887 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 19:05:00,888 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:05:00,888 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 19:05:00,888 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:05:00,888 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 19:05:01,168 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 11:05:01 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_7c19e1361f52be1d02fe1a2c69bf7c8b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=YVjetVhZH1OSMzCrck5BFKeFObTSGG6XuGd7HTGTokI-1748430301-1.0.1.1-bzBo5d88hTTEhaTmc2Ckk.slMWHUfWympNrXmTfThEy21r1oMi6VkuGcy2GAeZfHPZndmAgKas0wJGfAZR_d9BKaCmjw9bEctkp5fmh19QU; path=/; expires=Wed, 28-May-25 11:35:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=JpwuOnrdU2zzKJjYd57ya.6ORweQwSKZjScHMTCJ1Po-1748430301277-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d46460b03f526-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 19:05:01,169 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 19:05:01,169 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 19:05:01,170 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:05:01,170 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:05:01,170 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:05:01,170 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 19:05:01,170 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 19:05:01,174 - openai._base_client - DEBUG - Not retrying
2025-05-28 19:05:01,174 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 19:05:01,176 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 19:05:01,176 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 19:05:01,176 - src.api.speech - DEBUG - [req_20250528190500_4694688304] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 19:05:01,176 - src.api.speech - DEBUG - [req_20250528190500_4694688304] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 19:05:01,178 - src.api.speech - INFO - [req_20250528190500_4694688304] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpdwta05jd.mp3，大小: 317 字节
2025-05-28 19:05:01,178 - src.api.speech - DEBUG - [req_20250528190500_4694688304] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 19:05:01,178 - src.api.speech - DEBUG - [req_20250528190500_4694688304] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 19:05:01,181 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6436秒
2025-05-28 19:07:31,526 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:07:31,527 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:07:31,950 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:07:32,283 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:07:32,284 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:07:32,315 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:07:32,315 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:07:32,315 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:07:32,315 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:07:32,315 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:07:32,315 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:07:34,841 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:07:34,842 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1173ce610>
2025-05-28 19:07:34,843 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:07:34,843 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:07:34,843 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:07:34,843 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:07:34,844 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:07:34,844 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:07:34,844 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11709c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:07:35,132 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1173d6850>
2025-05-28 19:07:35,133 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:07:35,133 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:07:35,134 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:07:35,134 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:07:35,134 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:07:35,296 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:07:35 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700072-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'42'), (b'X-Timer', b'S1748430455.382063,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'56b0f680fd9a32fee97f99c252264ccba11402ff'), (b'Expires', b'Wed, 28 May 2025 11:12:35 GMT'), (b'Source-Age', b'224')])
2025-05-28 19:07:35,298 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:07:35,299 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:07:35,338 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:07:35,338 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:07:35,338 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:07:36,093 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:07:37,507 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:07:37,546 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:07:37,551 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:07:37,885 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:07:37,927 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:08:02,112 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:08:02,112 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:08:02,328 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:08:02,547 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:08:02,547 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:08:02,582 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:08:02,583 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:08:02,583 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:08:02,583 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:08:02,583 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:08:02,583 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:08:04,763 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:08:04,764 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118b720d0>
2025-05-28 19:08:04,764 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:08:04,765 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:08:04,765 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:08:04,765 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:08:04,765 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:08:04,765 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:08:04,765 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11888c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:08:05,060 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118bc6890>
2025-05-28 19:08:05,061 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:08:05,062 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:08:05,062 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:08:05,063 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:08:05,063 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:08:05,222 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:08:05 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700045-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'41'), (b'X-Timer', b'S1748430485.311155,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b69a7b38d5d25facb2359ddcc47c220b9bfda488'), (b'Expires', b'Wed, 28 May 2025 11:13:05 GMT'), (b'Source-Age', b'253')])
2025-05-28 19:08:05,224 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:08:05,224 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:08:05,264 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:08:05,264 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:08:05,265 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:08:05,815 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:08:06,630 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:08:06,662 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:08:06,667 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:08:06,914 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:08:06,956 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:10:36,527 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:10:36,527 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:10:37,057 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:10:37,311 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:10:37,312 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:10:37,353 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:10:37,353 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:10:37,353 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:10:37,353 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:10:37,353 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:10:37,354 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:10:40,494 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:10:40,495 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1176ce110>
2025-05-28 19:10:40,496 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:10:40,496 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:10:40,496 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:10:40,497 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:10:40,497 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:10:40,497 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:10:40,498 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x117394200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:10:40,787 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1176ce890>
2025-05-28 19:10:40,788 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 19:10:40,788 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:10:40,788 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 19:10:40,789 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:10:40,789 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 19:10:40,952 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 11:10:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700098-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'17'), (b'X-Timer', b'S1748430641.049541,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'96daf286d335b29314ead107bab64426ad07b032'), (b'Expires', b'Wed, 28 May 2025 11:15:41 GMT'), (b'Source-Age', b'109')])
2025-05-28 19:10:40,953 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 19:10:40,953 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 19:10:40,999 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:10:41,000 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:10:41,000 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:10:41,773 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:10:43,103 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:10:43,193 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:10:43,251 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:10:43,689 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:10:43,737 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:10:43,760 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:10:43,761 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:11:05,952 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:11:05,952 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:11:06,239 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:11:06,488 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:11:06,488 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:11:06,519 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:11:06,519 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:11:06,519 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:11:06,519 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:11:06,519 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:11:06,519 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:11:08,932 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:11:08,933 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e16a310>
2025-05-28 19:11:08,933 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:11:08,934 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:11:08,934 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:11:08,934 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:11:08,934 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:11:08,934 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:11:08,934 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10de20200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:11:13,936 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectTimeout(TimeoutError('_ssl.c:985: The handshake operation timed out'))
2025-05-28 19:11:13,937 - httpcore.connection - DEBUG - close.started
2025-05-28 19:11:13,937 - httpcore.connection - DEBUG - close.complete
2025-05-28 19:11:14,693 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:11:16,286 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:11:16,327 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:11:16,340 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:11:16,764 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:11:16,819 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:11:16,855 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:11:16,856 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:11:45,577 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:11:45,579 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0021秒
2025-05-28 19:11:45,582 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:11:45,585 - src.api.speech - INFO - [req_20250528191145_4664828832] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 19:11:45,585 - src.api.speech - DEBUG - [req_20250528191145_4664828832] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 19:11:45,585 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 19:11:45,585 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 19:11:45,671 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:11:45,673 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:11:45,674 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11610b010>
2025-05-28 19:11:45,675 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:11:45,675 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:11:45,676 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:11:45,676 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:11:45,676 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:11:45,677 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:11:45,677 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1160b48c0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:11:45,956 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x115dd9dd0>
2025-05-28 19:11:45,957 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 19:11:45,957 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:11:45,958 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 19:11:45,958 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:11:45,958 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 19:11:46,252 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 11:11:46 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_3143ac3116459cb7717277612e20e2bb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hfcoat8yfJYtiTLSKx4YaEzu3466Cw..EoHoxooVPiU-1748430706-1.0.1.1-rZcFb_FbT.lir4ZaTeKf9kBX_9TpzayB4qM2jpVlj2_eLgzI6tpnZu..RZCzhJmtXn9xVfmD8nBrhYrkhCRwXEl5LWTOcf_InVEp.WA.O2k; path=/; expires=Wed, 28-May-25 11:41:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=aIsBh_Cah4Sd.nkvDzLU94S72oQwmQ3X_iPZ23tKTmw-1748430706372-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d5029da78d75f-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 19:11:46,256 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 19:11:46,257 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 19:11:46,257 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:11:46,258 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:11:46,258 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:11:46,259 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 19:11:46,259 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 19:11:46,268 - openai._base_client - DEBUG - Not retrying
2025-05-28 19:11:46,268 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 19:11:46,270 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 19:11:46,270 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 19:11:46,270 - src.api.speech - DEBUG - [req_20250528191145_4664828832] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 19:11:46,270 - src.api.speech - DEBUG - [req_20250528191145_4664828832] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 19:11:46,273 - src.api.speech - INFO - [req_20250528191145_4664828832] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpmdwnx_0b.mp3，大小: 317 字节
2025-05-28 19:11:46,273 - src.api.speech - DEBUG - [req_20250528191145_4664828832] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 19:11:46,273 - src.api.speech - DEBUG - [req_20250528191145_4664828832] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 19:11:46,275 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6930秒
2025-05-28 19:13:40,144 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:13:40,144 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:13:40,518 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:13:40,901 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:13:40,901 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:13:40,931 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:13:40,931 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:13:40,931 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:13:40,931 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:13:40,932 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:13:40,932 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:13:43,420 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:13:43,421 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a55e150>
2025-05-28 19:13:43,421 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:13:43,421 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:13:43,421 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:13:43,421 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:13:43,421 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:13:43,422 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:13:43,422 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a224200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:13:43,558 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1002)'))
2025-05-28 19:13:43,559 - httpcore.connection - DEBUG - close.started
2025-05-28 19:13:43,559 - httpcore.connection - DEBUG - close.complete
2025-05-28 19:13:44,174 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:13:45,604 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:13:45,645 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:13:45,655 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:13:46,036 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:13:46,083 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:13:46,103 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:13:46,103 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:14:03,343 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:14:03,345 - src.api.speech - INFO - [req_20250528191403_4870808160] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 19:14:03,346 - src.api.speech - DEBUG - [req_20250528191403_4870808160] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 19:14:03,346 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 19:14:03,346 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 19:14:03,424 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:14:03,426 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:14:03,428 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122563e10>
2025-05-28 19:14:03,429 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:14:03,429 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:14:03,429 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:14:03,430 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:14:03,430 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:14:03,431 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:14:03,431 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1225205f0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:14:08,432 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectTimeout(TimeoutError())
2025-05-28 19:14:08,434 - openai._base_client - DEBUG - Encountered httpx.TimeoutException
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http_proxy.py", line 316, in handle_async_request
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http11.py", line 376, in start_tls
    return await self._stream.start_tls(ssl_context, server_hostname, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1538, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout
2025-05-28 19:14:08,454 - openai._base_client - DEBUG - 2 retries left
2025-05-28 19:14:08,454 - openai._base_client - INFO - Retrying request to /audio/speech in 0.404224 seconds
2025-05-28 19:14:08,858 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:14:08,875 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:14:08,877 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122604790>
2025-05-28 19:14:08,878 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:14:08,878 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:14:08,879 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:14:08,880 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:14:08,880 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:14:08,881 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:14:08,882 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1225205f0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:14:09,208 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122604e50>
2025-05-28 19:14:09,208 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 19:14:09,209 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:14:09,209 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 19:14:09,210 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:14:09,210 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 19:14:10,002 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 11:14:10 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_fbfc2ddc7a1648bf3817996773f67b8b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=UFjMOC7cS2YxjklSwv7u7UOHadQVGCJP5cOtRlGHfWk-1748430850-1.0.1.1-6lP_sy1QxmxiouiYvhORztmVaMdRJ817mpkluADtuenFOe_L9rpk26R_vAEMR3GZr2U0RfC0jdrVC9lCinn4sjhVHHMT1dv5GNSyp4vDBkY; path=/; expires=Wed, 28-May-25 11:44:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=4bzKBDOis7hFwU3qpvILJzmwvKCm1c.G0kqjZObtRig-1748430850110-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d53a92e8dce0e-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 19:14:10,004 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 19:14:10,005 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 19:14:10,005 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:14:10,005 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:14:10,005 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:14:10,006 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 19:14:10,006 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http_proxy.py", line 316, in handle_async_request
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http11.py", line 376, in start_tls
    return await self._stream.start_tls(ssl_context, server_hostname, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1538, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 19:14:10,010 - openai._base_client - DEBUG - Not retrying
2025-05-28 19:14:10,010 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 19:14:10,011 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 19:14:10,011 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 19:14:10,012 - src.api.speech - DEBUG - [req_20250528191403_4870808160] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 19:14:10,012 - src.api.speech - DEBUG - [req_20250528191403_4870808160] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 19:14:10,013 - src.api.speech - INFO - [req_20250528191403_4870808160] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp2k55zznc.mp3，大小: 317 字节
2025-05-28 19:14:10,013 - src.api.speech - DEBUG - [req_20250528191403_4870808160] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 19:14:10,013 - src.api.speech - DEBUG - [req_20250528191403_4870808160] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 19:14:10,020 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 6.6765秒
2025-05-28 19:19:26,863 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 19:19:26,863 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 19:19:27,197 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 19:19:27,495 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 19:19:27,495 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 19:19:27,523 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 19:19:27,523 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 19:19:27,523 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 19:19:27,523 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 19:19:27,523 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 19:19:27,524 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 19:19:30,054 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 19:19:30,055 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191622d0>
2025-05-28 19:19:30,055 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:19:30,055 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:19:30,055 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:19:30,056 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:19:30,056 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:19:30,056 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:19:30,056 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x118e18200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 19:19:30,192 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1002)'))
2025-05-28 19:19:30,193 - httpcore.connection - DEBUG - close.started
2025-05-28 19:19:30,193 - httpcore.connection - DEBUG - close.complete
2025-05-28 19:19:30,806 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 19:19:32,225 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 19:19:32,265 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:19:32,271 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 19:19:32,656 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 19:19:32,708 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 19:19:32,732 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 19:19:32,733 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 19:21:22,165 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:21:22,168 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0025秒
2025-05-28 19:21:22,176 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 19:21:22,181 - src.api.speech - INFO - [req_20250528192122_4849094400] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 19:21:22,181 - src.api.speech - DEBUG - [req_20250528192122_4849094400] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 19:21:22,181 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 19:21:22,184 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 19:21:22,306 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 19:21:22,312 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 19:21:22,315 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120e36c10>
2025-05-28 19:21:22,317 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:21:22,318 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:21:22,318 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 19:21:22,319 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:21:22,319 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 19:21:22,320 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 19:21:22,321 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1210ac8c0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 19:21:22,608 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120f30cd0>
2025-05-28 19:21:22,609 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 19:21:22,610 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 19:21:22,610 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 19:21:22,611 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 19:21:22,611 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 19:21:22,983 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 11:21:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_02ab230e76e642b51a75b1faf16d34e0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=B5rI1h2ynAo3LHwKfqiTEKNneRwpbqmx5A0l0l89XYY-1748431283-1.0.1.1-9.4tRj6bEW.RaCnR9e7Dwcj2Eec1I6vcdiTaUN24TkhxPwqePKXgdXChc_W9_Cnu6Sn0IZzer_cYCY.6Vp5XTnC2DhA4onRcWdKGG2AJgsY; path=/; expires=Wed, 28-May-25 11:51:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=uB3C52EL9hhvGdDwC3Ssf80HFV9NeFJAqFvQJTI5QAA-1748431283089-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946d5e3de9a19c9b-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 19:21:22,985 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 19:21:22,985 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 19:21:22,986 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 19:21:22,986 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 19:21:22,987 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 19:21:22,987 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 19:21:22,987 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 19:21:22,993 - openai._base_client - DEBUG - Not retrying
2025-05-28 19:21:22,993 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 19:21:22,994 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 19:21:22,994 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 19:21:22,995 - src.api.speech - DEBUG - [req_20250528192122_4849094400] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 19:21:22,995 - src.api.speech - DEBUG - [req_20250528192122_4849094400] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 19:21:22,996 - src.api.speech - INFO - [req_20250528192122_4849094400] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp550mjgc5.mp3，大小: 317 字节
2025-05-28 19:21:22,996 - src.api.speech - DEBUG - [req_20250528192122_4849094400] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 19:21:22,997 - src.api.speech - DEBUG - [req_20250528192122_4849094400] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 19:21:22,999 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8226秒
2025-05-28 20:07:22,768 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:07:22,774 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0058秒
2025-05-28 20:07:22,778 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:07:22,785 - src.api.speech - INFO - [req_20250528200722_4849363664] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 20:07:22,785 - src.api.speech - DEBUG - [req_20250528200722_4849363664] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 20:07:22,785 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 20:07:22,786 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 20:07:22,831 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 20:07:22,835 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 20:07:22,837 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x121151290>
2025-05-28 20:07:22,838 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:22,839 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:22,839 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:07:22,840 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:22,840 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:22,840 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:07:22,841 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x12113da30> server_hostname='api.openai.com' timeout=5.0
2025-05-28 20:07:23,180 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x121151390>
2025-05-28 20:07:23,181 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 20:07:23,181 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:23,181 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 20:07:23,182 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:23,182 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 20:07:23,761 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 12:07:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_647e714de55e27de10c8d902d6eabd77'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=1nKrNJQ7aSw3aHOhXo5jNRRf93dPRwSYfOAoXWj.EA8-1748434043-1.0.1.1-8poffcd35e6.Kr.dGSo_Byt7VtnECImMAN444WRtCflIsjO5YS6DOJZ_tzQVQ0gI.qP6rSAcbtvsxly_K7BBwntJFbR5LDcV.aTb7ULgses; path=/; expires=Wed, 28-May-25 12:37:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=cnW5M96sIpKJ5fiT.7e6a_n7vlvlQUljT6cR6HqKiDU-1748434043882-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946da1a4bdea3fb0-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 20:07:23,764 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 20:07:23,765 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 20:07:23,765 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:07:23,766 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:07:23,766 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:07:23,768 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 20:07:23,768 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 20:07:23,770 - openai._base_client - DEBUG - Not retrying
2025-05-28 20:07:23,770 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 20:07:23,773 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 20:07:23,773 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 20:07:23,774 - src.api.speech - DEBUG - [req_20250528200722_4849363664] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 20:07:23,775 - src.api.speech - DEBUG - [req_20250528200722_4849363664] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 20:07:23,777 - src.api.speech - INFO - [req_20250528200722_4849363664] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpy9gw1mjl.mp3，大小: 317 字节
2025-05-28 20:07:23,777 - src.api.speech - DEBUG - [req_20250528200722_4849363664] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 20:07:23,777 - src.api.speech - DEBUG - [req_20250528200722_4849363664] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 20:07:23,781 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0029秒
2025-05-28 20:07:34,762 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:07:34,774 - src.api.speech - INFO - [req_20250528200734_4849892832] 收到MiniMax MCP TTS请求: text='你好！我是李工，负责今天的技术面试。让我们开始吧！' voice_id=None interviewer_type='male-qingsong'
2025-05-28 20:07:34,775 - src.api.speech - DEBUG - [req_20250528200734_4849892832] 开始调用语音服务: text_to_speech(text='你好！我是李工，负责今天的技术面试。让我们开始吧！...', voice='male-qingsong')
2025-05-28 20:07:34,775 - src.services.speech_service - INFO - 开始语音合成，文本长度: 25
2025-05-28 20:07:34,775 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 20:07:34,826 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '你好！我是李工，负责今天的技术面试。让我们开始吧！', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 20:07:34,827 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 20:07:34,828 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x121174810>
2025-05-28 20:07:34,828 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:34,829 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:34,829 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:07:34,829 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:34,829 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:34,830 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:07:34,830 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x12113dd00> server_hostname='api.openai.com' timeout=5.0
2025-05-28 20:07:35,127 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x121174e10>
2025-05-28 20:07:35,127 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 20:07:35,128 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:35,128 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 20:07:35,129 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:35,129 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 20:07:35,569 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 12:07:35 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_f0f1b231b339f06fdf4469e1502df7d3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NmB3SFA1n1IuhukobBo.MrJBiRWaBXINYznOBX14TCw-1748434055-1.0.1.1-mRTSTYbsNyRtjIPydcwLQzjhOIgwwo3PAiLOg1zypLdeR6H2vm10jjFp_VEi29vo_rUHXryTuiyPGmlHHZAYszNHWbqIIbMqTWpBVL0tuxM; path=/; expires=Wed, 28-May-25 12:37:35 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=EXJ9XaLHXDVIho1ATl7.4Dhczantf1MZc0YF9lCYOrw-1748434055677-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946da1ee3942ef69-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 20:07:35,571 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 20:07:35,571 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 20:07:35,571 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:07:35,571 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:07:35,572 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:07:35,572 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 20:07:35,573 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 20:07:35,574 - openai._base_client - DEBUG - Not retrying
2025-05-28 20:07:35,574 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 20:07:35,575 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 20:07:35,575 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 20:07:35,575 - src.api.speech - DEBUG - [req_20250528200734_4849892832] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 20:07:35,575 - src.api.speech - DEBUG - [req_20250528200734_4849892832] 收到音频数据，大小: 314 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 20:07:35,577 - src.api.speech - INFO - [req_20250528200734_4849892832] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp74_c6za_.mp3，大小: 314 字节
2025-05-28 20:07:35,578 - src.api.speech - DEBUG - [req_20250528200734_4849892832] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 20:07:35,578 - src.api.speech - DEBUG - [req_20250528200734_4849892832] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 20:07:35,579 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8173秒
2025-05-28 20:07:36,176 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:07:36,182 - src.api.speech - INFO - [req_20250528200736_4849891792] 收到MiniMax MCP TTS请求: text='你好！我是李工，负责今天的技术面试。让我们开始吧！' voice_id=None interviewer_type='male-qingsong'
2025-05-28 20:07:36,184 - src.api.speech - DEBUG - [req_20250528200736_4849891792] 开始调用语音服务: text_to_speech(text='你好！我是李工，负责今天的技术面试。让我们开始吧！...', voice='male-qingsong')
2025-05-28 20:07:36,184 - src.services.speech_service - INFO - 开始语音合成，文本长度: 25
2025-05-28 20:07:36,184 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 20:07:36,227 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '你好！我是李工，负责今天的技术面试。让我们开始吧！', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 20:07:36,228 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 20:07:36,228 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12117fa50>
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:07:36,229 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:07:36,229 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x12113de20> server_hostname='api.openai.com' timeout=5.0
2025-05-28 20:07:36,592 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12117fc50>
2025-05-28 20:07:36,593 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 20:07:36,593 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:07:36,593 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 20:07:36,593 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:07:36,594 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 20:07:37,052 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 12:07:37 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_03c90e12342f4491cef2f729220ba460'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=EcEAYfVfIK6qSFjKFJQRZrptvPr9Wa2HTiGl.__P.y0-1748434057-1.0.1.1-fzASglFpE3QyArgdJHpVwNetnLIvwvwRpiVqwRj_1IQRypZF2W1PgGoaSoPTPoiLKVe5CuaPoKwI3T6yTKRGJ43s3Dfq__VYqwkOtC_Oagk; path=/; expires=Wed, 28-May-25 12:37:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=jV1WdlxUv3Sb5itX6oFyowOCULD_RaAKza_bpVlHuUw-1748434057170-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946da1f7bc6d4023-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 20:07:37,054 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 20:07:37,054 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 20:07:37,054 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:07:37,054 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:07:37,055 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:07:37,055 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 20:07:37,055 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 20:07:37,056 - openai._base_client - DEBUG - Not retrying
2025-05-28 20:07:37,056 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 20:07:37,057 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 20:07:37,057 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 20:07:37,057 - src.api.speech - DEBUG - [req_20250528200736_4849891792] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 20:07:37,058 - src.api.speech - DEBUG - [req_20250528200736_4849891792] 收到音频数据，大小: 314 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 20:07:37,059 - src.api.speech - INFO - [req_20250528200736_4849891792] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpv0knlbc1.mp3，大小: 314 字节
2025-05-28 20:07:37,059 - src.api.speech - DEBUG - [req_20250528200736_4849891792] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 20:07:37,060 - src.api.speech - DEBUG - [req_20250528200736_4849891792] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 20:07:37,061 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8848秒
2025-05-28 20:13:36,752 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:13:36,752 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:13:37,072 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:13:37,342 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:13:37,343 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:13:37,374 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:13:37,374 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:13:37,374 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:13:37,374 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:13:37,374 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:13:37,374 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:13:40,133 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:13:40,134 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115772310>
2025-05-28 20:13:40,135 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:13:40,136 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:13:40,137 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:13:40,137 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:13:40,138 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:13:40,139 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:13:40,139 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x115428200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:13:41,446 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115772a50>
2025-05-28 20:13:41,446 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:13:41,447 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:13:41,447 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:13:41,448 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:13:41,448 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:13:41,619 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:13:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700077-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'29'), (b'X-Timer', b'S1748434422.719041,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'fa61ef92b517cb200230ba9df35a47823bb86769'), (b'Expires', b'Wed, 28 May 2025 12:18:41 GMT'), (b'Source-Age', b'285')])
2025-05-28 20:13:41,620 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:13:41,620 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:13:41,655 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:13:41,655 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:13:41,655 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:13:42,357 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:13:43,712 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:13:43,757 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:13:43,763 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:13:44,170 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:13:44,216 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:13:44,241 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:13:44,241 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:14:14,203 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:14:14,203 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:14:14,544 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:14:14,805 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:14:14,806 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:14:14,902 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:14:14,902 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:14:14,902 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:14:14,904 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:14:14,904 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:14:14,904 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:14:17,169 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:14:17,169 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b86e0d0>
2025-05-28 20:14:17,169 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:14:17,285 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:14:17,286 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:14:17,286 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:14:17,286 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:14:17,293 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:14:17,293 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b524200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:14:18,195 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b86e7d0>
2025-05-28 20:14:18,195 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:14:18,196 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:14:18,196 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:14:18,196 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:14:18,196 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:14:18,361 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:14:18 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700044-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'5'), (b'X-Timer', b'S1748434458.465123,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'08499ac69e948802f43b95bf2f39519466ddda78'), (b'Expires', b'Wed, 28 May 2025 12:19:18 GMT'), (b'Source-Age', b'21')])
2025-05-28 20:14:18,364 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:14:18,365 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:14:18,753 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:14:18,753 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:14:18,753 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:14:19,429 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:14:20,790 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:14:20,848 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:14:20,855 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:14:21,324 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:14:21,390 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:14:21,418 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:14:21,418 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:22:38,693 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:22:38,694 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:22:39,042 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:22:39,295 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:22:39,295 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:22:39,323 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:22:39,323 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:22:39,323 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:22:39,323 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:22:39,323 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:22:39,323 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:22:41,770 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:22:41,770 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111d3e110>
2025-05-28 20:22:41,770 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:22:41,771 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:22:41,771 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:22:41,771 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:22:41,771 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:22:41,771 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:22:41,772 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x111a04200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:22:42,080 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111d3e850>
2025-05-28 20:22:42,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:22:42,080 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:22:42,081 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:22:42,081 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:22:42,081 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:22:42,254 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:22:42 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700066-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'42'), (b'X-Timer', b'S1748434962.369728,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'5e0de5f34fd953598488edbe6cd00416ff0ee2ac'), (b'Expires', b'Wed, 28 May 2025 12:27:42 GMT'), (b'Source-Age', b'225')])
2025-05-28 20:22:42,257 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:22:42,257 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:22:42,300 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:22:42,300 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:22:42,301 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:22:43,003 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:22:44,292 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:22:44,336 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:22:44,341 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:22:44,733 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:22:44,780 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:22:44,808 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:22:44,808 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:23:32,618 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:23:32,619 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:23:33,117 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:23:33,427 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:23:33,427 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:23:33,460 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:23:33,460 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:23:33,460 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:23:33,460 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:23:33,461 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:23:33,461 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:23:35,624 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:23:35,625 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11aa62310>
2025-05-28 20:23:35,625 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:23:35,625 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:23:35,625 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:23:35,626 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:23:35,626 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:23:35,626 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:23:35,626 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a718200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:23:35,939 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11aa62a50>
2025-05-28 20:23:35,939 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:23:35,940 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:23:35,940 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:23:35,940 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:23:35,941 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:23:36,103 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:23:36 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700065-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'54'), (b'X-Timer', b'S1748435016.219216,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'092e25ce62e17c070df0cf0e9609a013931c8046'), (b'Expires', b'Wed, 28 May 2025 12:28:36 GMT'), (b'Source-Age', b'279')])
2025-05-28 20:23:36,104 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:23:36,105 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:23:36,154 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:23:36,155 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:23:36,155 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:23:36,729 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:23:37,959 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:23:38,003 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:23:38,008 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:23:38,411 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:23:38,457 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:23:38,484 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:23:38,484 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:24:05,373 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:24:05,374 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:24:05,801 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:24:06,085 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:24:06,085 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:24:06,115 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:24:06,116 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:24:06,116 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:24:06,116 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:24:06,116 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:24:06,116 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:24:08,665 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:24:08,665 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144de1d0>
2025-05-28 20:24:08,665 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:24:08,666 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:24:08,666 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:24:08,666 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:24:08,666 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:24:08,667 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:24:08,667 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1141a4200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:24:08,958 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144de810>
2025-05-28 20:24:08,959 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:24:08,959 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:24:08,959 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:24:08,959 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:24:08,960 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:24:09,122 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:24:09 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700069-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'4'), (b'X-Timer', b'S1748435049.239868,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'fe72ec77498e350e02e10c5c8c4b18c5641502f5'), (b'Expires', b'Wed, 28 May 2025 12:29:09 GMT'), (b'Source-Age', b'11')])
2025-05-28 20:24:09,123 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:24:09,124 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:24:09,164 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:24:09,164 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:24:09,164 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:24:09,816 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:24:11,065 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:24:11,105 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:24:11,110 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:24:11,522 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:24:11,570 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:24:11,594 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:24:11,595 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:27:10,594 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:27:10,595 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:27:11,129 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:27:11,464 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:27:11,464 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:27:11,501 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:27:11,501 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:27:11,501 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:27:11,501 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:27:11,501 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:27:11,501 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:27:14,426 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:27:14,427 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11700e190>
2025-05-28 20:27:14,427 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:27:14,428 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:27:14,428 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:27:14,428 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:27:14,429 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:27:14,429 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:27:14,429 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116d20200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:27:14,763 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11706a8d0>
2025-05-28 20:27:14,764 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:27:14,765 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:27:14,765 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:27:14,765 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:27:14,765 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:27:14,927 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:27:15 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700021-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'21'), (b'X-Timer', b'S1748435235.039517,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'fbf1c096a6a67d3699250006d9ab671a67c1f780'), (b'Expires', b'Wed, 28 May 2025 12:32:15 GMT'), (b'Source-Age', b'197')])
2025-05-28 20:27:14,933 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:27:14,934 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:27:14,972 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:27:14,972 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:27:14,973 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:27:16,411 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:27:18,686 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:27:18,827 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:27:18,837 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:27:19,948 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:27:20,121 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:27:20,189 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:27:20,190 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:27:46,724 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:27:46,729 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0047秒
2025-05-28 20:27:46,732 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 20:27:46,734 - src.api.speech - INFO - [req_20250528202746_4814861680] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 20:27:46,734 - src.api.speech - DEBUG - [req_20250528202746_4814861680] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 20:27:46,734 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 20:27:46,734 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 20:27:46,872 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 20:27:46,875 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 20:27:46,877 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ec744d0>
2025-05-28 20:27:46,878 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:27:46,879 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:27:46,879 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:27:46,879 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:27:46,879 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:27:46,880 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:27:46,880 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11efc8c20> server_hostname='api.openai.com' timeout=5.0
2025-05-28 20:27:47,198 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11f0169d0>
2025-05-28 20:27:47,200 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 20:27:47,200 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:27:47,200 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 20:27:47,201 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:27:47,201 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 20:27:47,637 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 12:27:47 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_1185ee4842775dbd808e90c5f823ff03'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=fm9Ej2dXmLVtL.0wlq9Tsada6ElfeKYs8D9mUrVuRsA-1748435267-1.0.1.1-aSOaHErp37ECexvXwKwdPT6C7anksZ_VXLKr6Kln.cNEqrJaKe6MEfQtf16CzTCchfzzOsKwiHjI2aVzqz44_bzJMHdPL_Upkl_7pPFgOSg; path=/; expires=Wed, 28-May-25 12:57:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=n94bgHpFDUhow5YMxcaqTgeiYBKCWo.Hsk0mde5ZPKM-1748435267758-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946dbf85cbbe3e1f-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 20:27:47,639 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 20:27:47,640 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 20:27:47,640 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:27:47,640 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:27:47,640 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:27:47,641 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 20:27:47,641 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 20:27:47,647 - openai._base_client - DEBUG - Not retrying
2025-05-28 20:27:47,647 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 20:27:47,648 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 20:27:47,649 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 20:27:47,649 - src.api.speech - DEBUG - [req_20250528202746_4814861680] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 20:27:47,649 - src.api.speech - DEBUG - [req_20250528202746_4814861680] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 20:27:47,651 - src.api.speech - INFO - [req_20250528202746_4814861680] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp3r1utoyb.mp3，大小: 317 字节
2025-05-28 20:27:47,651 - src.api.speech - DEBUG - [req_20250528202746_4814861680] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 20:27:47,651 - src.api.speech - DEBUG - [req_20250528202746_4814861680] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 20:27:47,653 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.9209秒
2025-05-28 20:37:45,206 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:37:45,206 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:37:45,534 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:37:45,841 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:37:45,842 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:37:45,878 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:37:45,878 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:37:45,878 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:37:45,878 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:37:45,878 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:37:45,879 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:37:48,335 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:37:48,335 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115666150>
2025-05-28 20:37:48,336 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:37:48,336 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:37:48,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:37:48,336 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:37:48,336 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:37:48,337 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:37:48,337 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11531c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:37:48,678 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115666850>
2025-05-28 20:37:48,678 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:37:48,678 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:37:48,678 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:37:48,679 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:37:48,679 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:37:48,842 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:37:48 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700021-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'30'), (b'X-Timer', b'S1748435869.952942,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'051af902099c87b27532118001d6304db0128722'), (b'Expires', b'Wed, 28 May 2025 12:42:48 GMT'), (b'Source-Age', b'230')])
2025-05-28 20:37:48,843 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:37:48,844 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:37:48,885 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:37:48,886 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:37:48,886 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:37:49,609 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:37:50,961 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:37:51,004 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:37:51,009 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:37:51,352 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:37:51,404 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:37:51,447 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:37:51,447 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:50:37,889 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:50:37,889 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:50:38,582 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:50:38,955 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:50:38,955 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:50:39,043 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:50:39,044 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:50:39,044 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:50:39,045 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:50:39,045 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:50:39,045 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:50:41,966 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:50:41,967 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1170060d0>
2025-05-28 20:50:41,967 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:50:41,967 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:50:41,968 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:50:41,968 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:50:41,968 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:50:41,968 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:50:41,969 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116ccc200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:50:42,604 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1170067d0>
2025-05-28 20:50:42,604 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:50:42,605 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:50:42,605 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:50:42,605 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:50:42,606 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:50:42,772 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:50:42 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700078-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'14'), (b'X-Timer', b'S1748436643.894836,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'9ee6b4dc59077ae08fff90c386d872e614942737'), (b'Expires', b'Wed, 28 May 2025 12:55:42 GMT'), (b'Source-Age', b'103')])
2025-05-28 20:50:42,773 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:50:42,774 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:50:42,817 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:50:42,817 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:50:42,817 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:50:43,549 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:50:45,055 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:50:45,101 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:50:45,107 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:50:45,541 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:50:45,588 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:50:45,612 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:50:45,613 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:53:46,401 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 20:53:46,401 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 20:53:46,718 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 20:53:46,990 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 20:53:46,990 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 20:53:47,019 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 20:53:47,020 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 20:53:47,020 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 20:53:47,020 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 20:53:47,020 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 20:53:47,020 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 20:53:49,499 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 20:53:49,500 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112bd6210>
2025-05-28 20:53:49,500 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:53:49,500 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:53:49,500 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 20:53:49,500 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:53:49,500 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 20:53:49,501 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 20:53:49,501 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11289c200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 20:53:49,793 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112bd6950>
2025-05-28 20:53:49,794 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 20:53:49,794 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 20:53:49,795 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 20:53:49,795 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 20:53:49,795 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 20:53:49,955 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'6FD2:34B190:32DC12:603E19:6835C4BE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 12:53:50 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700041-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'45'), (b'X-Timer', b'S1748436830.075821,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'c9d09888266450487b8b8335e2e2b48ee69e0129'), (b'Expires', b'Wed, 28 May 2025 12:58:50 GMT'), (b'Source-Age', b'290')])
2025-05-28 20:53:49,957 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 20:53:49,958 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 20:53:50,003 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 20:53:50,003 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 20:53:50,003 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 20:53:50,606 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 20:53:51,733 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 20:53:51,776 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:53:51,783 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 20:53:52,147 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 20:53:52,199 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 20:53:52,218 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 20:53:52,218 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 20:54:01,033 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-28 20:54:01,036 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-28 20:54:23,761 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-28 21:13:25,475 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 21:13:25,475 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 21:13:25,851 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 21:13:26,226 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 21:13:26,226 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 21:13:26,253 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 21:13:26,253 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 21:13:26,253 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 21:13:26,253 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 21:13:26,254 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 21:13:26,254 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 21:13:29,279 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 21:13:29,279 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c657810>
2025-05-28 21:13:29,279 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:13:29,280 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:13:29,280 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 21:13:29,280 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:13:29,280 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:13:29,280 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 21:13:29,281 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c324200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 21:13:29,408 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c65e6d0>
2025-05-28 21:13:29,408 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 21:13:29,409 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:13:29,409 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 21:13:29,410 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:13:29,410 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 21:13:29,486 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 13:13:29 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17929-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'28'), (b'X-Timer', b'S1748438010.585372,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'4fb71a40d1b7747f8baa1dc05a2a2c5ccdce4951'), (b'Expires', b'Wed, 28 May 2025 13:18:29 GMT'), (b'Source-Age', b'196')])
2025-05-28 21:13:29,489 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 21:13:29,489 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 21:13:29,528 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 21:13:29,529 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 21:13:29,529 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 21:13:30,183 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 21:13:31,706 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 21:13:31,759 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 21:13:31,766 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 21:13:32,300 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 21:13:32,365 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 21:13:32,398 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 21:13:32,399 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 21:16:11,961 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-28 21:16:11,961 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-28 21:16:12,222 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-28 21:16:12,452 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-28 21:16:12,452 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-28 21:16:12,479 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-28 21:16:12,480 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-28 21:16:12,480 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-28 21:16:12,480 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-28 21:16:12,480 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-28 21:16:12,480 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-28 21:16:14,629 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-28 21:16:14,630 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1129fe210>
2025-05-28 21:16:14,630 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:16:14,630 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:16:14,630 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 21:16:14,631 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:16:14,631 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:16:14,631 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 21:16:14,631 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1126c4200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-28 21:16:14,761 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1129fe810>
2025-05-28 21:16:14,761 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-28 21:16:14,761 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:16:14,761 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-28 21:16:14,762 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:16:14,762 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-28 21:16:14,839 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 13:16:14 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17931-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'9'), (b'X-Timer', b'S1748438175.945321,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0130c9ec7e0209d2d1b482a5e304438f65ffb215'), (b'Expires', b'Wed, 28 May 2025 13:21:14 GMT'), (b'Source-Age', b'61')])
2025-05-28 21:16:14,840 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-28 21:16:14,840 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-28 21:16:14,881 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 21:16:14,881 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 21:16:14,881 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 21:16:15,585 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-28 21:16:16,602 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-28 21:16:16,638 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 21:16:16,643 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-28 21:16:16,958 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-28 21:16:16,999 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-28 21:16:17,025 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-28 21:16:17,025 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-28 21:17:19,835 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 21:17:19,836 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0014秒
2025-05-28 21:17:19,838 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-28 21:17:19,841 - src.api.speech - INFO - [req_20250528211719_4740789936] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-28 21:17:19,841 - src.api.speech - DEBUG - [req_20250528211719_4740789936] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-28 21:17:19,842 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-28 21:17:19,842 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-28 21:17:19,928 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-28 21:17:19,930 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-28 21:17:19,934 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a97bd90>
2025-05-28 21:17:19,935 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:17:19,935 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:17:19,935 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-28 21:17:19,936 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:17:19,936 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-28 21:17:19,936 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-28 21:17:19,937 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a9349e0> server_hostname='api.openai.com' timeout=5.0
2025-05-28 21:17:20,713 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a693750>
2025-05-28 21:17:20,713 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-28 21:17:20,713 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-28 21:17:20,713 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-28 21:17:20,714 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-28 21:17:20,714 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-28 21:17:21,279 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 13:17:21 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_ab6125f8d056a39238bc3c230b208534'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=I2r4EjvuAoySjf7cqBOu1hsgw.8mqX7nVLG_Z6MqXA4-1748438241-1.0.1.1-YV4poJr5wE3PmxEJWYMMBg4YcljP28dzY7NSVUAogTSZtJVEM04I8wmSvMT8HcTOp2Z956yRQ51Y7_x7n6jrwzjp_qWJ36sl_ZuQqcl_Khg; path=/; expires=Wed, 28-May-25 13:47:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Kkb60JZmAyyF9xFo7BHpEbeFz4p24iMoJvw0_nIjLk4-1748438241354-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946e081de9936854-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-28 21:17:21,280 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-28 21:17:21,280 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-28 21:17:21,281 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-28 21:17:21,281 - httpcore.http11 - DEBUG - response_closed.started
2025-05-28 21:17:21,281 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-28 21:17:21,282 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-28 21:17:21,282 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 21:17:21,286 - openai._base_client - DEBUG - Not retrying
2025-05-28 21:17:21,286 - openai._base_client - DEBUG - Re-raising status error
2025-05-28 21:17:21,287 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-28 21:17:21,288 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-28 21:17:21,288 - src.api.speech - DEBUG - [req_20250528211719_4740789936] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-28 21:17:21,288 - src.api.speech - DEBUG - [req_20250528211719_4740789936] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-28 21:17:21,290 - src.api.speech - INFO - [req_20250528211719_4740789936] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpmh1br_8i.mp3，大小: 317 字节
2025-05-28 21:17:21,290 - src.api.speech - DEBUG - [req_20250528211719_4740789936] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-28 21:17:21,290 - src.api.speech - DEBUG - [req_20250528211719_4740789936] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-28 21:17:21,293 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.4550秒
2025-05-29 02:15:11,398 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 02:15:11,419 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0227秒
2025-05-29 02:15:11,422 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 02:15:11,425 - src.api.speech - INFO - [req_20250529021511_4741450080] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-29 02:15:11,425 - src.api.speech - DEBUG - [req_20250529021511_4741450080] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-29 02:15:11,425 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 02:15:11,425 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 02:15:11,476 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-29 02:15:11,477 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 02:15:11,478 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a95c190>
2025-05-29 02:15:11,479 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:15:11,479 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:15:11,479 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:15:11,480 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:15:11,480 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:15:11,480 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:15:11,480 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a9b9c70> server_hostname='api.openai.com' timeout=5.0
2025-05-29 02:15:12,094 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a9db710>
2025-05-29 02:15:12,095 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 02:15:12,095 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:15:12,096 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 02:15:12,096 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:15:12,097 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 02:15:12,472 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 18:15:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_994350ee5e5940578358cdf8b4526381'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=C3j94nHzfpqs2HZCbAiOp5c12evcmu7ZpYDHRbcXpsI-1748456112-1.0.1.1-mMe_wqr9XqwddAKJ9MobbWOb8vP9qLR4eye8GRO1JYn6Y3gNbyNlCHoSoKKDmEAVn2QLL0ytAy5yPt4vwPiClMi6G9LV1WeoNO35F13Ua18; path=/; expires=Wed, 28-May-25 18:45:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Srs83JPRZnRMxd6VZMl5RyL7sfAdwcL2uLkufBJS_1c-1748456112531-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946fbc6db8675f48-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 02:15:12,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 02:15:12,473 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 02:15:12,473 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:15:12,473 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:15:12,473 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:15:12,473 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 02:15:12,473 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 02:15:12,476 - openai._base_client - DEBUG - Not retrying
2025-05-29 02:15:12,476 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 02:15:12,476 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 02:15:12,476 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 02:15:12,476 - src.api.speech - DEBUG - [req_20250529021511_4741450080] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 02:15:12,476 - src.api.speech - DEBUG - [req_20250529021511_4741450080] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 02:15:12,477 - src.api.speech - INFO - [req_20250529021511_4741450080] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpe5anjay3.mp3，大小: 317 字节
2025-05-29 02:15:12,477 - src.api.speech - DEBUG - [req_20250529021511_4741450080] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 02:15:12,477 - src.api.speech - DEBUG - [req_20250529021511_4741450080] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 02:15:12,480 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0573秒
2025-05-29 02:32:03,084 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 02:32:03,100 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0189秒
2025-05-29 02:32:03,119 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 02:32:03,135 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 02:32:08,799 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 02:32:08,806 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.6866秒
2025-05-29 02:32:08,821 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 02:32:08,823 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0022秒
2025-05-29 02:32:08,825 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 02:32:08,829 - src.api.speech - INFO - [req_20250529023208_4741454480] 收到MiniMax MCP TTS请求: text='很高兴见到你！请简单介绍一下你的技术栈和项目经验。比如你主要使用什么编程语言，参与过哪些有挑战性的项目，以及在项目中承担的角色。这样我可以更好地了解你的技术背景。' voice_id=None interviewer_type='male-qingsong'
2025-05-29 02:32:08,829 - src.api.speech - DEBUG - [req_20250529023208_4741454480] 开始调用语音服务: text_to_speech(text='很高兴见到你！请简单介绍一下你的技术栈和项目经验。比如你主要...', voice='male-qingsong')
2025-05-29 02:32:08,829 - src.services.speech_service - INFO - 开始语音合成，文本长度: 81
2025-05-29 02:32:08,830 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 02:32:08,913 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴见到你！请简单介绍一下你的技术栈和项目经验。比如你主要使用什么编程语言，参与过哪些有挑战性的项目，以及在项目中承担的角色。这样我可以更好地了解你的技术背景。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-29 02:32:08,915 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 02:32:08,916 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a9641d0>
2025-05-29 02:32:08,917 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:32:08,917 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:32:08,917 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:32:08,918 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:32:08,918 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:32:08,918 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:32:08,919 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a9ba060> server_hostname='api.openai.com' timeout=5.0
2025-05-29 02:32:09,600 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a795dd0>
2025-05-29 02:32:09,601 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 02:32:09,602 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:32:09,602 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 02:32:09,602 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:32:09,603 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 02:32:09,901 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 18:32:09 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_669475efc2c4a6d21c3b9d9de606a48b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=w8tjU53qGPjlBcu.zUULzRsIdFdFLT0sh3zOJXqQCC4-1748457129-1.0.1.1-0lsi6NyCg3c.u5trTOPM26P7BUUJJmTZaZbNbsBXcTjTIShtTU0d42bKakij_h0MDpcaBOGhiyVeBsFAoPL95.ep2dSBKdU8IG3e1iGdcQg; path=/; expires=Wed, 28-May-25 19:02:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=RjXQI3r0WU33Ore58m.zSVdNAzG9fq0RiGvnhtRkhrk-1748457129953-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'946fd545294925e4-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 02:32:09,903 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 02:32:09,903 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 02:32:09,904 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:32:09,904 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:32:09,904 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:32:09,904 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 02:32:09,904 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 02:32:09,906 - openai._base_client - DEBUG - Not retrying
2025-05-29 02:32:09,906 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 02:32:09,907 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 02:32:09,907 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 02:32:09,908 - src.api.speech - DEBUG - [req_20250529023208_4741454480] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 02:32:09,908 - src.api.speech - DEBUG - [req_20250529023208_4741454480] 收到音频数据，大小: 482 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 02:32:09,910 - src.api.speech - INFO - [req_20250529023208_4741454480] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp587lx302.mp3，大小: 482 字节
2025-05-29 02:32:09,910 - src.api.speech - DEBUG - [req_20250529023208_4741454480] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 02:32:09,910 - src.api.speech - DEBUG - [req_20250529023208_4741454480] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 02:32:09,912 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0865秒
2025-05-29 02:36:19,686 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 02:36:19,686 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 02:36:20,014 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 02:36:20,325 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 02:36:20,325 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 02:36:20,353 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 02:36:20,353 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 02:36:20,353 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 02:36:20,353 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 02:36:20,353 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 02:36:20,353 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 02:36:22,803 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 02:36:22,804 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1187f3810>
2025-05-29 02:36:22,804 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:36:22,804 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:36:22,804 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:36:22,804 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:36:22,804 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:36:22,805 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:36:22,805 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1184c0170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 02:36:22,970 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1187fa9d0>
2025-05-29 02:36:22,973 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 02:36:22,975 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:36:22,994 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 02:36:22,995 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:36:23,014 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 02:36:23,069 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 18:36:23 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17920-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'2'), (b'X-Timer', b'S1748457383.148356,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'20a1f67dfb57fce5232829cd589e26be363eb820'), (b'Expires', b'Wed, 28 May 2025 18:41:23 GMT'), (b'Source-Age', b'17')])
2025-05-29 02:36:23,071 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 02:36:23,072 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 02:36:23,102 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:36:23,102 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:36:23,102 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:36:23,755 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 02:36:24,951 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 02:36:24,989 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:36:24,994 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:36:25,303 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 02:36:25,349 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 02:36:25,441 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 02:36:25,442 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 02:36:57,299 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 02:36:57,299 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 02:36:57,552 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 02:36:57,802 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 02:36:57,802 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 02:36:57,831 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 02:36:57,831 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 02:36:57,831 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 02:36:57,831 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 02:36:57,832 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 02:36:57,832 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 02:37:00,236 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 02:37:00,237 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bebe4d0>
2025-05-29 02:37:00,237 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:00,237 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:00,237 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:37:00,238 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:00,238 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:00,238 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:37:00,238 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10bb8c170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 02:37:00,359 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bec64d0>
2025-05-29 02:37:00,360 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 02:37:00,360 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:00,361 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 02:37:00,361 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:00,361 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 02:37:00,437 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 18:37:00 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17923-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'15'), (b'X-Timer', b'S1748457421.531938,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'3adae45ea5d5b6939ef7e791de71fa9a182de1f0'), (b'Expires', b'Wed, 28 May 2025 18:42:00 GMT'), (b'Source-Age', b'54')])
2025-05-29 02:37:00,441 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 02:37:00,441 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 02:37:00,481 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:37:00,481 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:37:00,482 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:37:01,090 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 02:37:02,159 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 02:37:02,199 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:02,204 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:02,625 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 02:37:02,684 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 02:37:02,704 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 02:37:02,704 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 02:37:24,340 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 02:37:24,340 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 02:37:24,621 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 02:37:24,894 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 02:37:24,894 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 02:37:24,922 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 02:37:24,922 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 02:37:24,922 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 02:37:24,922 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 02:37:24,922 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 02:37:24,922 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 02:37:27,347 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 02:37:27,347 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x113f5b810>
2025-05-29 02:37:27,347 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:27,348 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:27,348 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:37:27,348 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:27,348 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:27,348 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:37:27,349 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113c18170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 02:37:27,500 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x113f5b390>
2025-05-29 02:37:27,501 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 02:37:27,501 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:27,502 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 02:37:27,502 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:27,502 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 02:37:27,575 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 18:37:27 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17923-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'19'), (b'X-Timer', b'S1748457448.672615,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'6a62f1b518fa47b7c1f158ba8da33495a53f8448'), (b'Expires', b'Wed, 28 May 2025 18:42:27 GMT'), (b'Source-Age', b'82')])
2025-05-29 02:37:27,577 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 02:37:27,577 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 02:37:27,615 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:37:27,615 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:37:27,616 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:37:28,223 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 02:37:29,047 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 02:37:29,075 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:29,079 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:29,325 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 02:37:29,363 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 02:37:29,378 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 02:37:29,378 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 02:37:35,531 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 02:37:35,531 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 02:37:35,760 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 02:37:35,934 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 02:37:35,934 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 02:37:35,962 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 02:37:35,962 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 02:37:35,962 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 02:37:35,962 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 02:37:35,962 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 02:37:35,962 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 02:37:37,795 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 02:37:37,795 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114576610>
2025-05-29 02:37:37,796 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:37,796 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:37,796 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 02:37:37,796 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:37,796 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 02:37:37,797 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 02:37:37,797 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1142440e0> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 02:37:37,917 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11457e990>
2025-05-29 02:37:37,917 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 02:37:37,917 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 02:37:37,918 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 02:37:37,918 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 02:37:37,918 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 02:37:37,992 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 18:37:38 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17930-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'12'), (b'X-Timer', b'S1748457458.089636,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'41c3c89b504f2a51aa199431a3ace18fadb3934b'), (b'Expires', b'Wed, 28 May 2025 18:42:38 GMT'), (b'Source-Age', b'92')])
2025-05-29 02:37:37,993 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 02:37:37,993 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 02:37:38,222 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 02:37:38,222 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 02:37:38,223 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 02:37:38,771 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 02:37:39,510 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 02:37:39,536 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:39,540 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 02:37:39,782 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 02:37:39,818 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 02:37:39,833 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 02:37:39,833 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:29:00,489 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:29:00,489 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:29:00,763 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:29:01,198 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:29:01,198 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:29:01,237 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:29:01,237 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:29:01,237 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:29:01,237 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:29:01,238 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:29:01,238 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:29:03,809 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:29:03,810 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c48a210>
2025-05-29 03:29:03,810 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:03,810 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:03,811 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:29:03,811 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:03,811 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:03,811 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:29:03,811 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c1a4170> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:29:03,937 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c4d7510>
2025-05-29 03:29:03,937 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:29:03,938 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:03,938 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:29:03,938 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:03,938 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:29:04,065 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:29:04 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17935-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'33'), (b'X-Timer', b'S1748460544.083010,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'19f81407d0a3c0d5964f72b2769a68b3df5ec4a6'), (b'Expires', b'Wed, 28 May 2025 19:34:04 GMT'), (b'Source-Age', b'169')])
2025-05-29 03:29:04,068 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:29:04,069 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:29:04,174 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:29:04,175 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:29:04,175 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:29:04,792 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:29:06,103 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:29:06,143 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:06,148 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:06,490 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:29:06,537 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:29:06,559 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:29:06,559 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:29:13,040 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:29:13,040 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:29:13,391 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:29:13,654 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:29:13,654 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:29:13,685 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:29:13,685 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:29:13,685 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:29:13,685 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:29:13,685 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:29:13,685 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:29:16,080 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:29:16,080 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144da7d0>
2025-05-29 03:29:16,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:16,081 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:16,081 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:29:16,081 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:16,081 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:16,081 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:29:16,081 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114198200> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:29:16,202 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1144daf90>
2025-05-29 03:29:16,203 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:29:16,204 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:16,204 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:29:16,205 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:16,205 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:29:16,284 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:29:16 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17927-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'18'), (b'X-Timer', b'S1748460556.353312,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'9c7c55753ce6a4b712857d1fd6205d2031e8fbf7'), (b'Expires', b'Wed, 28 May 2025 19:34:16 GMT'), (b'Source-Age', b'181')])
2025-05-29 03:29:16,287 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:29:16,288 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:29:16,320 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:29:16,321 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:29:16,321 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:29:16,954 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:29:18,361 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:29:18,400 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:18,405 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:18,759 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:29:18,810 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:29:18,833 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:29:18,833 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:29:43,512 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:29:43,512 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:29:43,881 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:29:44,171 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:29:44,172 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:29:44,202 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:29:44,202 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:29:44,202 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:29:44,202 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:29:44,203 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:29:44,203 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:29:47,005 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:29:47,005 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b172910>
2025-05-29 03:29:47,005 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:47,006 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:47,006 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:29:47,006 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:47,006 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:29:47,006 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:29:47,006 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10ae20320> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:29:47,123 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b172f50>
2025-05-29 03:29:47,124 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:29:47,124 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:29:47,124 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:29:47,125 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:29:47,125 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:29:47,196 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:29:47 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17930-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'31'), (b'X-Timer', b'S1748460587.267548,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b328ef084af97e39aa06bc5abb669725d9e42a06'), (b'Expires', b'Wed, 28 May 2025 19:34:47 GMT'), (b'Source-Age', b'211')])
2025-05-29 03:29:47,198 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:29:47,199 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:29:47,244 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:29:47,245 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:29:47,245 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:29:47,878 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:29:49,335 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:29:49,378 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:49,388 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:29:49,877 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:29:49,926 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:29:49,947 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:29:49,948 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:30:55,704 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:30:55,704 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:30:56,039 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:30:56,334 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:30:56,334 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:30:56,395 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:30:56,395 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:30:56,395 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:30:56,396 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:30:56,396 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:30:56,396 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:30:58,986 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:30:58,986 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e0727d0>
2025-05-29 03:30:58,987 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:30:58,987 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:30:58,987 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:30:58,987 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:30:58,988 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:30:58,988 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:30:58,988 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10dd20320> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:30:59,111 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e072f50>
2025-05-29 03:30:59,111 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:30:59,112 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:30:59,112 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:30:59,113 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:30:59,113 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:30:59,189 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:30:59 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17929-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'53'), (b'X-Timer', b'S1748460659.257554,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd17ec4b5e3e7540034ced0943b8dcab7f90436e8'), (b'Expires', b'Wed, 28 May 2025 19:35:59 GMT'), (b'Source-Age', b'283')])
2025-05-29 03:30:59,191 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:30:59,192 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:30:59,227 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:30:59,227 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:30:59,228 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:30:59,926 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:31:01,623 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:31:01,663 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:31:01,671 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:31:02,066 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:31:02,126 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:31:02,221 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:31:02,222 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:32:09,694 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:32:09,694 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:32:10,001 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:32:10,241 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:32:10,241 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:32:10,277 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:32:10,277 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:32:10,277 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:32:10,277 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:32:10,278 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:32:10,278 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:32:12,590 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:32:12,590 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114106910>
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:32:12,591 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:32:12,592 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113dc4320> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:32:12,726 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1140febd0>
2025-05-29 03:32:12,727 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:32:12,728 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:32:12,728 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:32:12,728 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:32:12,729 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:32:12,809 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:32:12 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17930-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'10'), (b'X-Timer', b'S1748460733.867184,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'a592cabd16ab54d17945520d5a656ab3ca8e1170'), (b'Expires', b'Wed, 28 May 2025 19:37:12 GMT'), (b'Source-Age', b'57')])
2025-05-29 03:32:12,811 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:32:12,811 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:32:12,866 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:32:12,867 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:32:12,867 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:32:13,464 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:32:14,865 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:32:14,904 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:32:14,910 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:32:15,269 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:32:15,319 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:32:15,339 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:32:15,339 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:34:21,427 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 03:34:21,428 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 03:34:21,981 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 03:34:22,320 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 03:34:22,320 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 03:34:22,370 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 03:34:22,370 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 03:34:22,371 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 03:34:22,371 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 03:34:22,371 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 03:34:22,371 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 03:34:25,409 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 03:34:25,410 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116eff7d0>
2025-05-29 03:34:25,411 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:34:25,411 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:34:25,412 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:34:25,413 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:34:25,413 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:34:25,414 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:34:25,419 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116bc4440> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 03:34:25,552 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116f06dd0>
2025-05-29 03:34:25,553 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 03:34:25,553 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:34:25,553 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 03:34:25,553 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:34:25,553 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 03:34:25,633 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24491'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e9481bcfe91e17dc8fa5dcdc7991da3d6b68ea379b1c443995cec5bcfb4b0cd2"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'388F:1C0A33:58386:11C119:6836866F'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 28 May 2025 19:34:25 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-hkg17923-HKG'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'28'), (b'X-Timer', b'S1748460866.682846,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'1cd31f39779f6eb1db8a2b359ee834c86a1ce270'), (b'Expires', b'Wed, 28 May 2025 19:39:25 GMT'), (b'Source-Age', b'190')])
2025-05-29 03:34:25,646 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 03:34:25,662 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 03:34:25,672 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:34:25,673 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:34:25,673 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:34:26,371 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 03:34:27,650 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 03:34:27,730 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:34:27,736 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 03:34:28,067 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 03:34:28,124 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 03:34:28,146 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 03:34:28,147 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 03:36:00,913 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:36:00,915 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0019秒
2025-05-29 03:36:00,916 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:36:00,920 - src.api.speech - INFO - [req_20250529033600_4813390384] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='male-qingsong'
2025-05-29 03:36:00,920 - src.api.speech - DEBUG - [req_20250529033600_4813390384] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='male-qingsong')
2025-05-29 03:36:00,920 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 03:36:00,921 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:36:00,999 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-29 03:36:01,002 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:36:01,004 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eba9450>
2025-05-29 03:36:01,005 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:36:01,005 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:36:01,005 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:36:01,005 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:36:01,006 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:36:01,007 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:36:01,007 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ee30cb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:36:01,658 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eadf890>
2025-05-29 03:36:01,659 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:36:01,659 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:36:01,659 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:36:01,660 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:36:01,660 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:36:02,000 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:36:02 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_18d0d2a60e26a46aa586538b17997632'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=F0ivziTuuO.gd9mIeHvSfP8v_01L745HD1LN5EAeHW8-1748460962-1.0.1.1-t0rhlrr4YJDMuZ5tl9qKu13nLE5NyGAvK_dL2fFekduhkZAHTPeWnh5Hagho8dbd4ozX2L.pYHpZXPDTKRCsxxImhSv69pHWBoM0qIEQCqQ; path=/; expires=Wed, 28-May-25 20:06:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ksqEs23VX0HVv86HYq5hphpJnc6Nhud5QHLn0b6zspc-1748460962038-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947032d34f0f831f-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:36:02,001 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:36:02,001 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:36:02,001 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:36:02,001 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:36:02,001 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:36:02,002 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:36:02,002 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:36:02,006 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:36:02,006 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:36:02,007 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:36:02,007 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:36:02,007 - src.api.speech - DEBUG - [req_20250529033600_4813390384] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:36:02,007 - src.api.speech - DEBUG - [req_20250529033600_4813390384] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:36:02,008 - src.api.speech - INFO - [req_20250529033600_4813390384] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpji3ysbsj.mp3，大小: 317 字节
2025-05-29 03:36:02,009 - src.api.speech - DEBUG - [req_20250529033600_4813390384] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:36:02,009 - src.api.speech - DEBUG - [req_20250529033600_4813390384] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:36:02,010 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0935秒
2025-05-29 03:36:17,132 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:36:17,144 - src.api.speech - INFO - [req_20250529033617_4813804064] 收到MiniMax MCP TTS请求: text='你好！我是李工，负责今天的技术面试。让我们开始吧！' voice_id=None interviewer_type='male-qingsong'
2025-05-29 03:36:17,144 - src.api.speech - DEBUG - [req_20250529033617_4813804064] 开始调用语音服务: text_to_speech(text='你好！我是李工，负责今天的技术面试。让我们开始吧！...', voice='male-qingsong')
2025-05-29 03:36:17,144 - src.services.speech_service - INFO - 开始语音合成，文本长度: 25
2025-05-29 03:36:17,145 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:36:17,197 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '你好！我是李工，负责今天的技术面试。让我们开始吧！', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-29 03:36:17,198 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:36:17,198 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eebe1d0>
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:36:17,199 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:36:17,200 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb5eb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:36:17,749 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ee04f90>
2025-05-29 03:36:17,750 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:36:17,750 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:36:17,751 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:36:17,751 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:36:17,751 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:36:18,568 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:36:18 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_4baad919aafd53ad09e257267c0ba56e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=qL5HcdVnA.fBOwE9dmanhD2BUQP1DpG.KoFs0VH5qN8-1748460978-1.0.1.1-b4X5eN0sZAUd7avf.ysGMGmvI1HyPOniGi4aw_jJvp3hsqrI9uC81HE6GDiBb8lF5Lr9RqfaCQDz0ycdZIP4OrV31Kb4pcxWNCdnsLeJBoY; path=/; expires=Wed, 28-May-25 20:06:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=YYoq3HOTdoPCMKTQnjsq7aB7Y6GpGI_QQ6.NXj8JX9M-1748460978605-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94703337ee89fdfb-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:36:18,569 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:36:18,570 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:36:18,571 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:36:18,571 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:36:18,571 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:36:18,572 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:36:18,572 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:36:18,573 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:36:18,574 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:36:18,574 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:36:18,574 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:36:18,574 - src.api.speech - DEBUG - [req_20250529033617_4813804064] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:36:18,575 - src.api.speech - DEBUG - [req_20250529033617_4813804064] 收到音频数据，大小: 314 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:36:18,576 - src.api.speech - INFO - [req_20250529033617_4813804064] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpw05bigsq.mp3，大小: 314 字节
2025-05-29 03:36:18,576 - src.api.speech - DEBUG - [req_20250529033617_4813804064] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:36:18,577 - src.api.speech - DEBUG - [req_20250529033617_4813804064] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:36:18,578 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.4461秒
2025-05-29 03:50:15,086 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:50:15,090 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0047秒
2025-05-29 03:50:15,094 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:50:15,104 - src.api.speech - INFO - [req_20250529035015_4813952480] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 03:50:15,105 - src.api.speech - DEBUG - [req_20250529035015_4813952480] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 03:50:15,105 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 03:50:15,106 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:50:15,184 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 03:50:15,190 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:50:15,193 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eeffcd0>
2025-05-29 03:50:15,194 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:50:15,195 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:50:15,196 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:50:15,196 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:50:15,197 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:50:15,200 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:50:15,200 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6060> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:50:15,885 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eeffe10>
2025-05-29 03:50:15,885 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:50:15,886 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:50:15,886 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:50:15,887 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:50:15,887 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:50:16,242 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:50:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_0d5a5ee8807553acc68d219c30ed6842'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Uny1dkid2NQZto.g7FX9V0sMULBEYoJueZ9ieOo91MA-1748461816-1.0.1.1-7gPXHDhfoYvkwyO81pHYo5DcVMSBSHeX1SabeFjIdFgSyVuqOerO7gW.82kDuMtHQCrymegT6a5.7SGLqc1mRdvGC8JgNBJqIio0WV.an4c; path=/; expires=Wed, 28-May-25 20:20:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=5ICxMahKTJOZHSqLffmGTVinShr0AY9bQw3MV2Y7ZaE-1748461816278-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947047ae3fb7fdf3-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:50:16,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:50:16,245 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:50:16,245 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:50:16,245 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:50:16,246 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:50:16,247 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:50:16,247 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:50:16,250 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:50:16,251 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:50:16,252 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:50:16,253 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:50:16,253 - src.api.speech - DEBUG - [req_20250529035015_4813952480] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:50:16,253 - src.api.speech - DEBUG - [req_20250529035015_4813952480] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:50:16,260 - src.api.speech - INFO - [req_20250529035015_4813952480] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpuij3p164.mp3，大小: 317 字节
2025-05-29 03:50:16,260 - src.api.speech - DEBUG - [req_20250529035015_4813952480] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:50:16,260 - src.api.speech - DEBUG - [req_20250529035015_4813952480] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:50:16,263 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.1698秒
2025-05-29 03:50:50,965 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 03:50:50,966 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0015秒
2025-05-29 03:50:50,969 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 03:50:50,984 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 03:50:56,012 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 03:50:56,014 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.0452秒
2025-05-29 03:50:56,020 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:50:56,022 - src.api.speech - INFO - [req_20250529035056_4813947440] 收到MiniMax MCP TTS请求: text='很高兴认识你！东北大学是所很棒的学校呢。能具体说说你在AI应用开发方面的项目经验吗？特别是使用FastAPI和LangChain的实际案例。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 03:50:56,022 - src.api.speech - DEBUG - [req_20250529035056_4813947440] 开始调用语音服务: text_to_speech(text='很高兴认识你！东北大学是所很棒的学校呢。能具体说说你在AI应...', voice='female-tianmei')
2025-05-29 03:50:56,023 - src.services.speech_service - INFO - 开始语音合成，文本长度: 70
2025-05-29 03:50:56,023 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:50:56,070 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！东北大学是所很棒的学校呢。能具体说说你在AI应用开发方面的项目经验吗？特别是使用FastAPI和LangChain的实际案例。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 03:50:56,071 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:50:56,072 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef00590>
2025-05-29 03:50:56,072 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:50:56,073 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:50:56,073 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:50:56,073 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:50:56,073 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:50:56,074 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:50:56,074 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6210> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:50:56,284 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eebf150>
2025-05-29 03:50:56,284 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:50:56,285 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:50:56,285 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:50:56,285 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:50:56,285 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:50:56,740 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:50:56 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_5abbd81cb0e7f3b4fe843d39c4c34ac0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pbFv8XXViMOwM.7N19jdSi_Jtk.85nw7WkZJh0tgqmQ-1748461856-1.0.1.1-DA6c6lh_lcBjyiZmd7SsIZ05f4K0wRmTQgXmfp2gKTgbX4c8DxE4JTzDTgqz9aYLW0eO9wgoPRKw2jzrbDxIQGDfYQyh1m5Dlj1K4Nw_DsA; path=/; expires=Wed, 28-May-25 20:20:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=gp20ze_Vs8R_V88DzRf.FmuVueTWYOZM.CNnpi5syTg-1748461856678-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947048aabdd89fef-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:50:56,741 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:50:56,741 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:50:56,741 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:50:56,741 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:50:56,741 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:50:56,742 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:50:56,742 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:50:56,742 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:50:56,743 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:50:56,743 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:50:56,743 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:50:56,743 - src.api.speech - DEBUG - [req_20250529035056_4813947440] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:50:56,743 - src.api.speech - DEBUG - [req_20250529035056_4813947440] 收到音频数据，大小: 413 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:50:56,744 - src.api.speech - INFO - [req_20250529035056_4813947440] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9ktf5h22.mp3，大小: 413 字节
2025-05-29 03:50:56,744 - src.api.speech - DEBUG - [req_20250529035056_4813947440] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:50:56,744 - src.api.speech - DEBUG - [req_20250529035056_4813947440] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:50:56,745 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7251秒
2025-05-29 03:51:03,494 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:51:03,496 - src.api.speech - INFO - [req_20250529035103_4813951200] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 03:51:03,496 - src.api.speech - DEBUG - [req_20250529035103_4813951200] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 03:51:03,496 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 03:51:03,497 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:51:03,539 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 03:51:03,540 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:51:03,541 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ee1fa50>
2025-05-29 03:51:03,541 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:51:03,542 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:51:03,542 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:51:03,542 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:51:03,542 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:51:03,543 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:51:03,543 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb5d90> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:51:03,750 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ee478d0>
2025-05-29 03:51:03,750 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:51:03,751 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:51:03,751 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:51:03,752 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:51:03,752 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:51:04,092 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:51:04 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_c47d958f0b0706d284f8f6597c9f641f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=D1Xp.dfFGWgs0Q83ETSroFpETaqpWHRAW_ph2tj9CNU-1748461864-1.0.1.1-sY3_sqZaI6Fpln2LtjGLg_farNqFEU6diNlMZw84AlYgtZRq9i8_7nTEMz1nLXqk._9REBHmGPev_4pc.E_YG6L0b55js7JlRxxree8mgl0; path=/; expires=Wed, 28-May-25 20:21:04 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=xOSQsAkZ4hWWSLaLEdboBkLssEQP89tY_etkOJMILTE-1748461864127-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947048d95d5140ce-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:51:04,093 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:51:04,093 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:51:04,093 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:51:04,093 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:51:04,094 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:51:04,094 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:51:04,094 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:51:04,095 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:51:04,095 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:51:04,095 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:51:04,095 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:51:04,095 - src.api.speech - DEBUG - [req_20250529035103_4813951200] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:51:04,095 - src.api.speech - DEBUG - [req_20250529035103_4813951200] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:51:04,096 - src.api.speech - INFO - [req_20250529035103_4813951200] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmptjxka65o.mp3，大小: 317 字节
2025-05-29 03:51:04,096 - src.api.speech - DEBUG - [req_20250529035103_4813951200] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:51:04,096 - src.api.speech - DEBUG - [req_20250529035103_4813951200] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:51:04,097 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6036秒
2025-05-29 03:51:35,582 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 03:51:35,584 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 03:51:40,056 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 03:51:40,057 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 4.4751秒
2025-05-29 03:51:40,061 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 03:51:40,065 - src.api.speech - INFO - [req_20250529035140_4813947600] 收到MiniMax MCP TTS请求: text='听起来是个很实用的项目！能分享一下这个简历优化助手的主要功能吗？比如用户如何与系统交互，以及你使用了哪些AI技术？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 03:51:40,065 - src.api.speech - DEBUG - [req_20250529035140_4813947600] 开始调用语音服务: text_to_speech(text='听起来是个很实用的项目！能分享一下这个简历优化助手的主要功能...', voice='female-tianmei')
2025-05-29 03:51:40,065 - src.services.speech_service - INFO - 开始语音合成，文本长度: 57
2025-05-29 03:51:40,066 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 03:51:40,113 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '听起来是个很实用的项目！能分享一下这个简历优化助手的主要功能吗？比如用户如何与系统交互，以及你使用了哪些AI技术？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 03:51:40,115 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 03:51:40,116 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef06990>
2025-05-29 03:51:40,117 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:51:40,117 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:51:40,118 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 03:51:40,118 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:51:40,118 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 03:51:40,118 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 03:51:40,118 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb67b0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 03:51:40,314 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef22f90>
2025-05-29 03:51:40,315 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 03:51:40,315 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 03:51:40,315 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 03:51:40,316 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 03:51:40,316 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 03:51:40,650 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 19:51:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_2c637a84541256ac921344bac85fadcd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vh9ozqCvBsOxNtHk36S8EMb5ZcWZQP0V1ehLqiARqTY-1748461900-1.0.1.1-UYGvR5DHJ2R11W03g_WVZmgHS84N_lhAOVDwYed6KRe9MC0m8GMv30wNkKSl0qFnGs8u6P3RdBXNKKhYde5.DS_sx2OR5zlglBqCedLRn1c; path=/; expires=Wed, 28-May-25 20:21:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=egaHhEVHHYmQ858VRfAOcTU6NAmj4ZAukNyJ7hW4qak-1748461900684-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947049bdeb4ffe0f-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 03:51:40,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 03:51:40,651 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 03:51:40,651 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 03:51:40,651 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 03:51:40,651 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 03:51:40,651 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 03:51:40,652 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 03:51:40,652 - openai._base_client - DEBUG - Not retrying
2025-05-29 03:51:40,652 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 03:51:40,653 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 03:51:40,653 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 03:51:40,653 - src.api.speech - DEBUG - [req_20250529035140_4813947600] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 03:51:40,653 - src.api.speech - DEBUG - [req_20250529035140_4813947600] 收到音频数据，大小: 406 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 03:51:40,654 - src.api.speech - INFO - [req_20250529035140_4813947600] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmptatnhcqc.mp3，大小: 406 字节
2025-05-29 03:51:40,654 - src.api.speech - DEBUG - [req_20250529035140_4813947600] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 03:51:40,654 - src.api.speech - DEBUG - [req_20250529035140_4813947600] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 03:51:40,655 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.5940秒
2025-05-29 04:07:54,610 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:07:54,616 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0060秒
2025-05-29 04:07:54,624 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:07:54,628 - src.api.speech - INFO - [req_20250529040754_4813957120] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:07:54,629 - src.api.speech - DEBUG - [req_20250529040754_4813957120] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 04:07:54,630 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 04:07:54,632 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:07:54,686 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:07:54,689 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:07:54,690 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef28490>
2025-05-29 04:07:54,691 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:07:54,692 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:07:54,692 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:07:54,692 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:07:54,693 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:07:54,693 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:07:54,694 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ee30cb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:07:54,976 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eebe350>
2025-05-29 04:07:54,978 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:07:54,978 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:07:54,979 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:07:54,979 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:07:54,979 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:07:55,326 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:07:55 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_d91e9942c42b9357e1b92ca6a724ff9a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=OfUxpD_rJiCUOKb9BLeD04pW4CcCR0jo1vbH71n5Oik-1748462875-1.0.1.1-RN3TF2lfKDxeandvyO1gWL4Kd7.nTs5anSiZyyzvnn6G.vSwFC1HRYpT5X5R2g_dLzV4s.HpxTNK2Ss_tQaMAQP72mFgKmUbZt1_BiJRN.M; path=/; expires=Wed, 28-May-25 20:37:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=_Ey7KDw9_Rr6wuWn2PLuc.80YAV5ddMHxUDnvtYY2xI-1748462875326-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947061898832e3bf-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:07:55,330 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:07:55,331 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:07:55,331 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:07:55,332 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:07:55,332 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:07:55,333 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:07:55,334 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:07:55,337 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:07:55,337 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:07:55,339 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:07:55,339 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:07:55,339 - src.api.speech - DEBUG - [req_20250529040754_4813957120] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:07:55,340 - src.api.speech - DEBUG - [req_20250529040754_4813957120] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:07:55,342 - src.api.speech - INFO - [req_20250529040754_4813957120] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpzvzl08z1.mp3，大小: 317 字节
2025-05-29 04:07:55,343 - src.api.speech - DEBUG - [req_20250529040754_4813957120] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:07:55,343 - src.api.speech - DEBUG - [req_20250529040754_4813957120] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:07:55,345 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7215秒
2025-05-29 04:08:05,190 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:08:05,191 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0011秒
2025-05-29 04:08:05,205 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:08:05,207 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 04:08:12,731 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:08:12,734 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 7.5290秒
2025-05-29 04:08:12,746 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:08:12,747 - src.api.speech - INFO - [req_20250529040812_4813954160] 收到MiniMax MCP TTS请求: text='很高兴认识你！作为AI应用工程师，能具体说说你擅长的技术栈吗？比如在机器学习、深度学习或自然语言处理方面有哪些项目经验？让我们从你最熟悉的领域开始聊起。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:08:12,747 - src.api.speech - DEBUG - [req_20250529040812_4813954160] 开始调用语音服务: text_to_speech(text='很高兴认识你！作为AI应用工程师，能具体说说你擅长的技术栈吗...', voice='female-tianmei')
2025-05-29 04:08:12,748 - src.services.speech_service - INFO - 开始语音合成，文本长度: 76
2025-05-29 04:08:12,748 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:08:12,807 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！作为AI应用工程师，能具体说说你擅长的技术栈吗？比如在机器学习、深度学习或自然语言处理方面有哪些项目经验？让我们从你最熟悉的领域开始聊起。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:08:12,811 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:08:12,812 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef27610>
2025-05-29 04:08:12,813 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:08:12,813 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:08:12,813 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:08:12,813 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:08:12,813 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:08:12,814 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:08:12,814 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6a80> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:08:13,380 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef2ae50>
2025-05-29 04:08:13,380 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:08:13,381 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:08:13,381 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:08:13,381 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:08:13,381 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:08:13,676 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:08:13 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_461eb805a1c04b69b682e8444521926c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=l8K_5UfSKkAPAdABuKnh7HWduDVKYHw6O2Jz9eb0RBU-1748462893-1.0.1.1-sWnrMSm2Aq9pKAyM3qMgOwietZj5rzBNGwlrMMPrZgvVE6UGj5akpotO3MCVkBaFCBvgVd383W43WgPiY4OAJbbBON_HnXCxm9YE42Q66QA; path=/; expires=Wed, 28-May-25 20:38:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=.AHJoORqrUEbx7oLNqgSTbV4W9sI7xv6pUoPHD2sAjE-1748462893692-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947061fc9f64d552-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:08:13,677 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:08:13,677 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:08:13,678 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:08:13,678 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:08:13,678 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:08:13,679 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:08:13,679 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:08:13,680 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:08:13,680 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:08:13,680 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:08:13,681 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:08:13,681 - src.api.speech - DEBUG - [req_20250529040812_4813954160] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:08:13,681 - src.api.speech - DEBUG - [req_20250529040812_4813954160] 收到音频数据，大小: 463 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:08:13,682 - src.api.speech - INFO - [req_20250529040812_4813954160] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpu_lje1tm.mp3，大小: 463 字节
2025-05-29 04:08:13,682 - src.api.speech - DEBUG - [req_20250529040812_4813954160] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:08:13,683 - src.api.speech - DEBUG - [req_20250529040812_4813954160] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:08:13,688 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.9420秒
2025-05-29 04:12:44,401 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:12:44,405 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 04:12:49,494 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:12:49,497 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.0950秒
2025-05-29 04:12:49,509 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:12:49,512 - src.api.speech - INFO - [req_20250529041249_4813954400] 收到MiniMax MCP TTS请求: text='这个项目听起来很有实用价值！能详细说说你是如何设计这个AI简历优化助手的吗？比如使用了哪些算法模型，以及如何评估优化效果？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:12:49,512 - src.api.speech - DEBUG - [req_20250529041249_4813954400] 开始调用语音服务: text_to_speech(text='这个项目听起来很有实用价值！能详细说说你是如何设计这个AI简...', voice='female-tianmei')
2025-05-29 04:12:49,512 - src.services.speech_service - INFO - 开始语音合成，文本长度: 61
2025-05-29 04:12:49,512 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:12:49,559 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '这个项目听起来很有实用价值！能详细说说你是如何设计这个AI简历优化助手的吗？比如使用了哪些算法模型，以及如何评估优化效果？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:12:49,561 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:12:49,562 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef35810>
2025-05-29 04:12:49,563 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:12:49,564 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:12:49,565 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:12:49,566 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:12:49,567 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:12:49,568 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:12:49,568 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6c30> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:12:50,318 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef49f90>
2025-05-29 04:12:50,318 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:12:50,319 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:12:50,319 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:12:50,319 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:12:50,319 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:12:50,699 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:12:50 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_c57504a560887c8fbf3c078569616911'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ivF0WQy8E.axueu_UFswbe9cpLuiuONMuvhhvqJzf40-1748463170-1.0.1.1-VPBnUx4IQGvgJjUwjT0iq2YQIHoptCAZqbfRwTz0dxyuN1UxRbAzsslb3XmqpYx0H0o10HM4Kz9zwPInUQJt.k1JfeYPUPGy39WZ5nml7Yo; path=/; expires=Wed, 28-May-25 20:42:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=SDKFxd79gF46uvSHCIXWTC2MJip3n1dEAL6c_WWJJug-1748463170750-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947068bf8f3e9f8b-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:12:50,701 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:12:50,701 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:12:50,702 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:12:50,702 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:12:50,703 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:12:50,703 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:12:50,703 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:12:50,704 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:12:50,705 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:12:50,706 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:12:50,706 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:12:50,707 - src.api.speech - DEBUG - [req_20250529041249_4813954400] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:12:50,707 - src.api.speech - DEBUG - [req_20250529041249_4813954400] 收到音频数据，大小: 418 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:12:50,708 - src.api.speech - INFO - [req_20250529041249_4813954400] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpxzxq5lnf.mp3，大小: 418 字节
2025-05-29 04:12:50,709 - src.api.speech - DEBUG - [req_20250529041249_4813954400] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:12:50,709 - src.api.speech - DEBUG - [req_20250529041249_4813954400] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:12:50,712 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.2038秒
2025-05-29 04:13:17,363 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:13:17,364 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 8
2025-05-29 04:13:22,713 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:13:22,715 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.3521秒
2025-05-29 04:13:22,724 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:13:22,728 - src.api.speech - INFO - [req_20250529041322_4813948400] 收到MiniMax MCP TTS请求: text='明白了！你选择了集成DeepSeek API来开发简历优化助手，这是个很实用的方案。能分享一下你是如何设计产品交互流程的吗？比如用户如何输入信息，系统如何给出优化建议？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:13:22,728 - src.api.speech - DEBUG - [req_20250529041322_4813948400] 开始调用语音服务: text_to_speech(text='明白了！你选择了集成DeepSeek API来开发简历优化助...', voice='female-tianmei')
2025-05-29 04:13:22,728 - src.services.speech_service - INFO - 开始语音合成，文本长度: 84
2025-05-29 04:13:22,729 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:13:22,769 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '明白了！你选择了集成DeepSeek API来开发简历优化助手，这是个很实用的方案。能分享一下你是如何设计产品交互流程的吗？比如用户如何输入信息，系统如何给出优化建议？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:13:22,770 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:13:22,770 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef68810>
2025-05-29 04:13:22,770 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:13:22,771 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:13:22,771 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:13:22,771 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:13:22,771 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:13:22,771 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:13:22,771 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb7020> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:13:23,024 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef68dd0>
2025-05-29 04:13:23,024 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:13:23,025 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:13:23,025 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:13:23,025 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:13:23,025 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:13:23,490 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:13:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_44492d478968709c4fa67e9427e8b190'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pgpAhQ4LuaPOLytBLRw8EMlMPZb3SPcUzj7k04oVSk0-1748463203-1.0.1.1-43dCf9rUlCqRkbWLjGcs8bdAGzvHqFs2JvSojfW6fg9BrnwY20VpcvMkNlCmu5.Cz0L28S9kkxyWgVsbGRurN8fWhNZ2ugPGaR.5AiwwUa8; path=/; expires=Wed, 28-May-25 20:43:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=X0Q0tpgBkDwTlVxG8zBi1YzuKrQqw.PTBFhkpfwVGpY-1748463203445-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9470698bffeaf93a-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:13:23,492 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:13:23,492 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:13:23,492 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:13:23,492 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:13:23,493 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:13:23,493 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:13:23,493 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:13:23,494 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:13:23,494 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:13:23,495 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:13:23,495 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:13:23,496 - src.api.speech - DEBUG - [req_20250529041322_4813948400] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:13:23,496 - src.api.speech - DEBUG - [req_20250529041322_4813948400] 收到音频数据，大小: 467 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:13:23,497 - src.api.speech - INFO - [req_20250529041322_4813948400] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp5lh03t0d.mp3，大小: 467 字节
2025-05-29 04:13:23,497 - src.api.speech - DEBUG - [req_20250529041322_4813948400] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:13:23,497 - src.api.speech - DEBUG - [req_20250529041322_4813948400] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:13:23,498 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7741秒
2025-05-29 04:13:49,342 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:13:49,344 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 10
2025-05-29 04:13:55,645 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:13:55,648 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.3062秒
2025-05-29 04:13:55,658 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:13:55,660 - src.api.speech - INFO - [req_20250529041355_4813957600] 收到MiniMax MCP TTS请求: text='你说得对！作为协调员，我的主要职责是确保面试流程顺畅。接下来我会请技术面试官来深入探讨这些技术细节。不过在此之前，能否简单说说你选择DeepSeek API的考量？这能帮助面试官更好地了解你的技术决策思路。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:13:55,661 - src.api.speech - DEBUG - [req_20250529041355_4813957600] 开始调用语音服务: text_to_speech(text='你说得对！作为协调员，我的主要职责是确保面试流程顺畅。接下来...', voice='female-tianmei')
2025-05-29 04:13:55,661 - src.services.speech_service - INFO - 开始语音合成，文本长度: 103
2025-05-29 04:13:55,661 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:13:55,768 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '你说得对！作为协调员，我的主要职责是确保面试流程顺畅。接下来我会请技术面试官来深入探讨这些技术细节。不过在此之前，能否简单说说你选择DeepSeek API的考量？这能帮助面试官更好地了解你的技术决策思路。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:13:55,769 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:13:55,770 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ec95a50>
2025-05-29 04:13:55,770 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:13:55,771 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:13:55,771 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:13:55,771 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:13:55,771 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:13:55,771 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:13:55,771 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6840> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:13:55,972 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ede0750>
2025-05-29 04:13:55,972 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:13:55,972 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:13:55,972 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:13:55,973 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:13:55,973 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:13:56,442 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:13:56 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_b310f3f3922dfde6bfd1cb6c2d6af33b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=13n7WyVi2dqoztM9cO7CoK8AyVlL.sUTMp49s.SqZHQ-1748463236-1.0.1.1-gx2QorN9C9UZe4agk_p_gjXGBUZW_54bDwBHdT_JoZRfcyqaQ5.aXxYWCYXAWjbben7X1OFtvP41A1IduMfbyQFiYYk4rVUJCjs3mFuSeA8; path=/; expires=Wed, 28-May-25 20:43:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=4DHJ8q.ThtERL1i7NOftbzEEGM22zy2DGLrnGAnNkgQ-1748463236494-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94706a59da10a8c7-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:13:56,443 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:13:56,443 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:13:56,444 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:13:56,444 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:13:56,445 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:13:56,445 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:13:56,446 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:13:56,446 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:13:56,447 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:13:56,447 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:13:56,448 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:13:56,448 - src.api.speech - DEBUG - [req_20250529041355_4813957600] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:13:56,448 - src.api.speech - DEBUG - [req_20250529041355_4813957600] 收到音频数据，大小: 524 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:13:56,449 - src.api.speech - INFO - [req_20250529041355_4813957600] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpgpnnxym5.mp3，大小: 524 字节
2025-05-29 04:13:56,449 - src.api.speech - DEBUG - [req_20250529041355_4813957600] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:13:56,449 - src.api.speech - DEBUG - [req_20250529041355_4813957600] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:13:56,450 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7928秒
2025-05-29 04:14:19,716 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:14:19,718 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 12
2025-05-29 04:14:24,960 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:14:24,961 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.2452秒
2025-05-29 04:14:24,966 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:14:24,976 - src.api.speech - INFO - [req_20250529041424_4813954000] 收到MiniMax MCP TTS请求: text='感谢分享！这个选择确实体现了你对技术选型的务实考量。我会请技术面试官来深入讨论API集成和优化效果评估等细节。现在请稍等片刻，我去邀请下一位面试官。需要我帮你倒杯水吗？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:14:24,976 - src.api.speech - DEBUG - [req_20250529041424_4813954000] 开始调用语音服务: text_to_speech(text='感谢分享！这个选择确实体现了你对技术选型的务实考量。我会请技...', voice='female-tianmei')
2025-05-29 04:14:24,976 - src.services.speech_service - INFO - 开始语音合成，文本长度: 84
2025-05-29 04:14:24,976 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:14:25,027 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '感谢分享！这个选择确实体现了你对技术选型的务实考量。我会请技术面试官来深入讨论API集成和优化效果评估等细节。现在请稍等片刻，我去邀请下一位面试官。需要我帮你倒杯水吗？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:14:25,028 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:14:25,029 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ee666d0>
2025-05-29 04:14:25,029 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:14:25,030 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:14:25,030 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:14:25,030 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:14:25,030 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:14:25,031 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:14:25,031 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6b10> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:14:25,226 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef4aa90>
2025-05-29 04:14:25,226 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:14:25,227 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:14:25,227 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:14:25,227 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:14:25,227 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:14:25,671 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:14:25 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_9f0e47dcc07fee3d9ed62f439535cb9e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=dUh7q.t74aTUXyXYMZkAT4Xxqgy3WKZrR5WS.tHWI6E-1748463265-1.0.1.1-rYLNwQ5BSqntPXsrDsjJ4L.kEahDVTx9UPl6VmkeHcsZN7zzwUkXZ.Cl0HBDw4tehvTFlmKzld9ANfk5aPI0TeYGulkZkD3Ej61rUl5Zfhc; path=/; expires=Wed, 28-May-25 20:44:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=G3mYv7XkqaRWocIyfVMZrkF2PZjgJxk5y2SbSqVohlI-1748463265721-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94706b10be88fd22-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:14:25,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:14:25,672 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:14:25,673 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:14:25,673 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:14:25,673 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:14:25,674 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:14:25,674 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:14:25,675 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:14:25,675 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:14:25,676 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:14:25,676 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:14:25,676 - src.api.speech - DEBUG - [req_20250529041424_4813954000] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:14:25,676 - src.api.speech - DEBUG - [req_20250529041424_4813954000] 收到音频数据，大小: 485 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:14:25,677 - src.api.speech - INFO - [req_20250529041424_4813954000] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp76p5lvmn.mp3，大小: 485 字节
2025-05-29 04:14:25,678 - src.api.speech - DEBUG - [req_20250529041424_4813954000] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:14:25,680 - src.api.speech - DEBUG - [req_20250529041424_4813954000] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:14:25,682 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7157秒
2025-05-29 04:14:35,847 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:14:35,848 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 14
2025-05-29 04:14:40,891 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:14:40,892 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.0453秒
2025-05-29 04:14:40,903 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:14:40,906 - src.api.speech - INFO - [req_20250529041440_4813952000] 收到MiniMax MCP TTS请求: text='好的明白！请稍等片刻，我这就去邀请技术面试官过来。在等待期间，你可以再回顾一下项目中的技术亮点，比如API调用频率、错误处理机制等。面试官马上就到！' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:14:40,906 - src.api.speech - DEBUG - [req_20250529041440_4813952000] 开始调用语音服务: text_to_speech(text='好的明白！请稍等片刻，我这就去邀请技术面试官过来。在等待期间...', voice='female-tianmei')
2025-05-29 04:14:40,906 - src.services.speech_service - INFO - 开始语音合成，文本长度: 74
2025-05-29 04:14:40,906 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:14:40,951 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '好的明白！请稍等片刻，我这就去邀请技术面试官过来。在等待期间，你可以再回顾一下项目中的技术亮点，比如API调用频率、错误处理机制等。面试官马上就到！', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:14:40,954 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:14:40,956 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef549d0>
2025-05-29 04:14:40,956 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:14:40,956 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:14:40,957 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:14:40,957 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:14:40,957 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:14:40,957 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:14:40,957 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb68d0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:14:41,171 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eef5ed0>
2025-05-29 04:14:41,172 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:14:41,172 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:14:41,172 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:14:41,173 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:14:41,173 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:14:41,623 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:14:41 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_94407e3fca4f510a112fb42ce281a0d3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=a2WCLEttxFUlCYrwKmADrNbgob0OF.GmQ8mNGl7yDHE-1748463281-1.0.1.1-BYLzS6nl3.7xM_3uYyYeHKERaul1.6MKRoeIIv0jWKcsoxgEO1.eGfw3.fpB.vDiAuNHoIIyiRPChHL4M1qK6OetWjXStR7S4rEnnJXvcSY; path=/; expires=Wed, 28-May-25 20:44:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ArhiAwudDVUq8NTPDlruTaFKb9jWF0JG7fyhPV6cys4-1748463281587-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94706b745a0c3e12-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:14:41,624 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:14:41,625 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:14:41,625 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:14:41,625 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:14:41,626 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:14:41,626 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:14:41,626 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:14:41,628 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:14:41,629 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:14:41,630 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:14:41,630 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:14:41,631 - src.api.speech - DEBUG - [req_20250529041440_4813952000] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:14:41,631 - src.api.speech - DEBUG - [req_20250529041440_4813952000] 收到音频数据，大小: 455 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:14:41,632 - src.api.speech - INFO - [req_20250529041440_4813952000] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmporati9we.mp3，大小: 455 字节
2025-05-29 04:14:41,633 - src.api.speech - DEBUG - [req_20250529041440_4813952000] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:14:41,634 - src.api.speech - DEBUG - [req_20250529041440_4813952000] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:14:41,636 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7323秒
2025-05-29 04:14:59,671 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:14:59,673 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 16
2025-05-29 04:15:04,972 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:15:04,973 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.3020秒
2025-05-29 04:15:04,978 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:15:04,986 - src.api.speech - INFO - [req_20250529041504_4813954400] 收到MiniMax MCP TTS请求: text='好的，我这就去请技术面试官过来。请稍等片刻，他马上就会来和你深入探讨技术细节。祝你面试顺利！' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:15:04,987 - src.api.speech - DEBUG - [req_20250529041504_4813954400] 开始调用语音服务: text_to_speech(text='好的，我这就去请技术面试官过来。请稍等片刻，他马上就会来和你...', voice='female-tianmei')
2025-05-29 04:15:04,987 - src.services.speech_service - INFO - 开始语音合成，文本长度: 46
2025-05-29 04:15:04,987 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:15:05,042 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '好的，我这就去请技术面试官过来。请稍等片刻，他马上就会来和你深入探讨技术细节。祝你面试顺利！', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:15:05,043 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:15:05,044 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef36a10>
2025-05-29 04:15:05,044 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:15:05,044 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:15:05,044 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:15:05,045 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:15:05,045 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:15:05,045 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:15:05,046 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6690> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:15:05,245 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef20b90>
2025-05-29 04:15:05,247 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:15:05,247 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:15:05,248 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:15:05,249 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:15:05,249 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:15:05,688 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:15:05 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_e516ae78e2486ab9a50e1ba5c6a9551c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=TGbzYoO8GxbguLgISA4PUzPGBGK0xHPlb6MX2iXj5R4-1748463305-1.0.1.1-eWPGNOZ8GlXvoA_3fBjdI545_fDNiiIwANZ.AfV_pFS1yG_q4fXE9s3MriluE1BQfdliqhiV55X4.HTk_OgjaWlOWu7JqQJMKUWifGk4c2U; path=/; expires=Wed, 28-May-25 20:45:05 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=86Y9lJzW2kEPZa02qY0Gi0Q.ePLRRoI0CwSN1Vkzb3w-1748463305657-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94706c0adf962a90-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:15:05,689 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:15:05,689 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:15:05,689 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:15:05,689 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:15:05,690 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:15:05,690 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:15:05,690 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:15:05,691 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:15:05,691 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:15:05,691 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:15:05,691 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:15:05,691 - src.api.speech - DEBUG - [req_20250529041504_4813954400] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:15:05,691 - src.api.speech - DEBUG - [req_20250529041504_4813954400] 收到音频数据，大小: 377 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:15:05,692 - src.api.speech - INFO - [req_20250529041504_4813954400] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpvtszcn7x.mp3，大小: 377 字节
2025-05-29 04:15:05,692 - src.api.speech - DEBUG - [req_20250529041504_4813954400] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:15:05,692 - src.api.speech - DEBUG - [req_20250529041504_4813954400] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:15:05,694 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7163秒
2025-05-29 04:15:11,435 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:15:11,458 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 18
2025-05-29 04:15:17,465 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:15:17,467 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.0318秒
2025-05-29 04:15:17,477 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:15:17,480 - src.api.speech - INFO - [req_20250529041517_4813948080] 收到MiniMax MCP TTS请求: text='（赵老师起身离开会议室，片刻后技术面试官敲门进入）\n\n技术面试官：你好！我是王工程师，负责今天的AI技术面。听说你做过基于DeepSeek API的简历优化项目，能先说说整体架构设计吗？特别是API调用部分的技术实现细节？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:15:17,480 - src.api.speech - DEBUG - [req_20250529041517_4813948080] 开始调用语音服务: text_to_speech(text='（赵老师起身离开会议室，片刻后技术面试官敲门进入）

技术面...', voice='female-tianmei')
2025-05-29 04:15:17,481 - src.services.speech_service - INFO - 开始语音合成，文本长度: 111
2025-05-29 04:15:17,481 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:15:17,521 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '（赵老师起身离开会议室，片刻后技术面试官敲门进入）\n\n技术面试官：你好！我是王工程师，负责今天的AI技术面。听说你做过基于DeepSeek API的简历优化项目，能先说说整体架构设计吗？特别是API调用部分的技术实现细节？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:15:17,522 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:15:17,523 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef265d0>
2025-05-29 04:15:17,523 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:15:17,523 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:15:17,523 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:15:17,523 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:15:17,524 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:15:17,524 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:15:17,524 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb71d0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:15:17,830 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef25d50>
2025-05-29 04:15:17,833 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:15:17,834 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:15:17,835 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:15:17,838 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:15:17,838 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:15:18,287 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:15:18 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_a111141c880ec48b7d127376f897a593'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CcBulC5iFnzGMhrGUnXHZLPeXrCge9IrTeP2_ChXah4-1748463318-1.0.1.1-CM0ZDarirfIjU.xUThGfmAdvzvHs8GqiTGuU2TY9K_Gi.e6Blcqu2DHlAnMYeaxkjBmc7CkOk4j0UMVNagAchLLWRXs6HGJ3fqqvPaLIrV0; path=/; expires=Wed, 28-May-25 20:45:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=8mZpiIykzMfacUDzDMXdrDnWOVlzB5BLH8xg_0r1o84-1748463318214-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94706c598a55688a-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:15:18,288 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:15:18,288 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:15:18,289 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:15:18,289 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:15:18,290 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:15:18,290 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:15:18,290 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:15:18,291 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:15:18,291 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:15:18,292 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:15:18,292 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:15:18,292 - src.api.speech - DEBUG - [req_20250529041517_4813948080] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:15:18,293 - src.api.speech - DEBUG - [req_20250529041517_4813948080] 收到音频数据，大小: 534 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:15:18,294 - src.api.speech - INFO - [req_20250529041517_4813948080] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpy54ytzxy.mp3，大小: 534 字节
2025-05-29 04:15:18,294 - src.api.speech - DEBUG - [req_20250529041517_4813948080] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:15:18,294 - src.api.speech - DEBUG - [req_20250529041517_4813948080] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:15:18,296 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8189秒
2025-05-29 04:21:50,227 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:21:50,238 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0118秒
2025-05-29 04:21:50,259 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:21:50,277 - src.api.speech - INFO - [req_20250529042150_4813954480] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:21:50,295 - src.api.speech - DEBUG - [req_20250529042150_4813954480] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 04:21:50,295 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 04:21:50,295 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:21:50,339 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:21:50,340 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:21:50,341 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eedb6d0>
2025-05-29 04:21:50,341 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:21:50,342 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:21:50,342 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:21:50,342 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:21:50,342 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:21:50,343 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:21:50,343 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eedca70> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:21:50,924 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eedb910>
2025-05-29 04:21:50,924 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:21:50,925 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:21:50,925 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:21:50,925 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:21:50,925 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:21:51,812 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:21:51 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_2d6953e708832b6106c30a7d0720d47f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=xiryZd0bKPgj6bM.2xFAlu6GosPspodyLovuJ1xnlOg-1748463711-1.0.1.1-KzW0sS..3R2cMXJ4jBnOEh_smcVLMJJWu8a2MCIHLjwzcMvq9FkQApzQphO9tURNR03.3jXCAkr0Q_5hU_PxkL0JRzD5hiGuNCzGy8iHX8E; path=/; expires=Wed, 28-May-25 20:51:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=6v9TFkXiIAD9U5QUQERz8TgbYG7zAST5WA7B1wIxNhs-1748463711771-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947075f24d08ce2a-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:21:51,813 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:21:51,813 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:21:51,813 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:21:51,814 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:21:51,814 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:21:51,814 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:21:51,815 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:21:51,816 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:21:51,817 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:21:51,817 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:21:51,818 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:21:51,818 - src.api.speech - DEBUG - [req_20250529042150_4813954480] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:21:51,818 - src.api.speech - DEBUG - [req_20250529042150_4813954480] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:21:51,823 - src.api.speech - INFO - [req_20250529042150_4813954480] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpa65do1m2.mp3，大小: 317 字节
2025-05-29 04:21:51,823 - src.api.speech - DEBUG - [req_20250529042150_4813954480] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:21:51,824 - src.api.speech - DEBUG - [req_20250529042150_4813954480] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:21:51,826 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.5664秒
2025-05-29 04:22:03,249 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:22:03,250 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0009秒
2025-05-29 04:22:03,252 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:22:03,253 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 04:22:12,087 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:22:12,088 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.8361秒
2025-05-29 04:22:12,092 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:22:12,096 - src.api.speech - INFO - [req_20250529042212_4813951280] 收到MiniMax MCP TTS请求: text='很高兴认识你！作为AI应用工程师，你的经验对我们很有价值。能具体说说你主要负责过哪些AI项目吗？比如涉及的算法、框架，以及最终的应用场景？让我们更了解你的技术专长。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:22:12,096 - src.api.speech - DEBUG - [req_20250529042212_4813951280] 开始调用语音服务: text_to_speech(text='很高兴认识你！作为AI应用工程师，你的经验对我们很有价值。能...', voice='female-tianmei')
2025-05-29 04:22:12,096 - src.services.speech_service - INFO - 开始语音合成，文本长度: 82
2025-05-29 04:22:12,096 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:22:12,133 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！作为AI应用工程师，你的经验对我们很有价值。能具体说说你主要负责过哪些AI项目吗？比如涉及的算法、框架，以及最终的应用场景？让我们更了解你的技术专长。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:22:12,134 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:22:12,135 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eebe1d0>
2025-05-29 04:22:12,136 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:22:12,136 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:22:12,136 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:22:12,136 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:22:12,137 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:22:12,137 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:22:12,137 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eedcc20> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:22:12,349 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef00d50>
2025-05-29 04:22:12,350 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:22:12,351 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:22:12,351 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:22:12,351 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:22:12,351 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:22:13,718 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:22:13 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_1488fdaf667d9d44e82ecc1dd01d07d5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=g8p_6aVYlhVan9Ummw.fyAx9gmMXBhS0fSL0Pe.F3RM-1748463733-1.0.1.1-KSi3CmYed3ODtp7i1S5VSDyGdKwUAlN4pNf1s0VA4mIGCevkRVKnEipRjJO5G.dJ4X6NjTntxhbLQrGVXwtVBwYo8Em7P1tJhupQti38UB0; path=/; expires=Wed, 28-May-25 20:52:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=MKhBt4mmHgteOSSzw3LHcEC4qf4jA9uSiI_BKkiWRbI-1748463733762-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94707678380afd1e-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:22:13,719 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:22:13,719 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:22:13,720 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:22:13,720 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:22:13,720 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:22:13,720 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:22:13,720 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:22:13,721 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:22:13,721 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:22:13,721 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:22:13,721 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:22:13,721 - src.api.speech - DEBUG - [req_20250529042212_4813951280] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:22:13,721 - src.api.speech - DEBUG - [req_20250529042212_4813951280] 收到音频数据，大小: 477 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:22:13,723 - src.api.speech - INFO - [req_20250529042212_4813951280] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp24rd4wsw.mp3，大小: 477 字节
2025-05-29 04:22:13,723 - src.api.speech - DEBUG - [req_20250529042212_4813951280] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:22:13,723 - src.api.speech - DEBUG - [req_20250529042212_4813951280] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:22:13,724 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.6319秒
2025-05-29 04:22:51,848 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:22:51,850 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 3
2025-05-29 04:22:57,143 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:22:57,144 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.2954秒
2025-05-29 04:22:57,147 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:22:57,149 - src.api.speech - INFO - [req_20250529042257_4813948720] 收到MiniMax MCP TTS请求: text='我注意到你的情绪似乎有些低落。作为面试官，我希望能在专业友好的氛围中进行交流。让我们把注意力集中在技术问题上 - 你能先简单介绍一下你最熟悉的编程语言和技术栈吗？' voice_id=None interviewer_type='male-qingsong'
2025-05-29 04:22:57,149 - src.api.speech - DEBUG - [req_20250529042257_4813948720] 开始调用语音服务: text_to_speech(text='我注意到你的情绪似乎有些低落。作为面试官，我希望能在专业友好...', voice='male-qingsong')
2025-05-29 04:22:57,150 - src.services.speech_service - INFO - 开始语音合成，文本长度: 81
2025-05-29 04:22:57,151 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:22:57,188 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '我注意到你的情绪似乎有些低落。作为面试官，我希望能在专业友好的氛围中进行交流。让我们把注意力集中在技术问题上 - 你能先简单介绍一下你最熟悉的编程语言和技术栈吗？', 'model': 'tts-1', 'voice': 'male-qingsong', 'speed': 1.0}}
2025-05-29 04:22:57,189 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:22:57,189 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eefcd90>
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:22:57,190 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:22:57,191 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eedd370> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:22:57,385 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5e9d0>
2025-05-29 04:22:57,386 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:22:57,386 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:22:57,386 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:22:57,386 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:22:57,387 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:22:57,757 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:22:57 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_2025d9fbe58b4a28e20594d79fc578da'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=3BCaUczGLGugRGhBeccf9_4KIjTAUVdeptj20SFzV6Q-1748463777-1.0.1.1-QT1oXaU7_tEXTvjtdfzBJBfiSiO8SLZb1KU_K0hEss.UCOo8vux5ISxxAnI4q8BivsCGMsUgmMm7BLEZpFGPV3P3CTMqUVX7LtRNuBDA_EU; path=/; expires=Wed, 28-May-25 20:52:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=MpjuBfMpsFvp7DDA0BQQ44vFskt_3zcPliNOnIT0m5s-1748463777777-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94707791acb6895f-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:22:57,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:22:57,758 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:22:57,758 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:22:57,758 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:22:57,758 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:22:57,759 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:22:57,759 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:22:57,759 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:22:57,759 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:22:57,760 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:22:57,760 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:22:57,760 - src.api.speech - DEBUG - [req_20250529042257_4813948720] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:22:57,760 - src.api.speech - DEBUG - [req_20250529042257_4813948720] 收到音频数据，大小: 476 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:22:57,761 - src.api.speech - INFO - [req_20250529042257_4813948720] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp8h_cu9r0.mp3，大小: 476 字节
2025-05-29 04:22:57,761 - src.api.speech - DEBUG - [req_20250529042257_4813948720] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:22:57,761 - src.api.speech - DEBUG - [req_20250529042257_4813948720] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:22:57,762 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6148秒
2025-05-29 04:31:14,917 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:31:14,921 - src.api.speech - INFO - [req_20250529043114_4813952240] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:31:14,921 - src.api.speech - DEBUG - [req_20250529043114_4813952240] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 04:31:14,921 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 04:31:14,921 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:31:14,957 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:31:14,958 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:31:14,959 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5f210>
2025-05-29 04:31:14,959 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:14,959 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:14,959 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:31:14,959 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:14,960 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:14,960 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:31:14,960 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eedd5b0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:31:15,172 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5dd50>
2025-05-29 04:31:15,172 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:31:15,173 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:15,173 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:31:15,173 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:15,173 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:31:15,530 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:31:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_38bb6847c669dd4dd63fdcedc4b8c39b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=DHhCt_JfvN61.fEehgj5sk7qk1ElJy1yHyBjwwJ9Rg8-1748464275-1.0.1.1-yesycW94AoFme9msQCW1AsrOgQi1gCCG_cC7mCEU.cN7f3uWSX31EGUBszfuRchKJhn.cQ8ldmPPBFqSXFB_sp3l.YOQHQkN_Qo7iSB6zNo; path=/; expires=Wed, 28-May-25 21:01:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IaRHHUxvk_3ive5l5yqIcDONHtBg2O92o1xn4VHROn0-1748464275585-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947083b8e981ef6e-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:31:15,531 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:31:15,531 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:31:15,531 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:31:15,531 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:31:15,531 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:31:15,532 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:31:15,532 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:31:15,532 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:31:15,532 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:31:15,532 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:31:15,532 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:31:15,532 - src.api.speech - DEBUG - [req_20250529043114_4813952240] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:31:15,533 - src.api.speech - DEBUG - [req_20250529043114_4813952240] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:31:15,533 - src.api.speech - INFO - [req_20250529043114_4813952240] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpxxx436c3.mp3，大小: 317 字节
2025-05-29 04:31:15,533 - src.api.speech - DEBUG - [req_20250529043114_4813952240] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:31:15,533 - src.api.speech - DEBUG - [req_20250529043114_4813952240] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:31:15,534 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6165秒
2025-05-29 04:31:15,755 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:31:15,757 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 04:31:21,127 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:31:21,128 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.3727秒
2025-05-29 04:31:21,132 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:31:21,135 - src.api.speech - INFO - [req_20250529043121_4813953520] 收到MiniMax MCP TTS请求: text='你好！很高兴见到你，赵老师。我是As，一名有3年经验的Java后端开发工程师。目前在一家电商公司负责订单系统的开发和维护，熟悉Spring Boot、MySQL等技术栈。之前参与过支付系统和库存系统的重构项目。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:31:21,135 - src.api.speech - DEBUG - [req_20250529043121_4813953520] 开始调用语音服务: text_to_speech(text='你好！很高兴见到你，赵老师。我是As，一名有3年经验的Jav...', voice='female-tianmei')
2025-05-29 04:31:21,135 - src.services.speech_service - INFO - 开始语音合成，文本长度: 105
2025-05-29 04:31:21,136 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:31:21,172 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '你好！很高兴见到你，赵老师。我是As，一名有3年经验的Java后端开发工程师。目前在一家电商公司负责订单系统的开发和维护，熟悉Spring Boot、MySQL等技术栈。之前参与过支付系统和库存系统的重构项目。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:31:21,173 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:31:21,174 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef8fd50>
2025-05-29 04:31:21,174 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:21,175 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:21,175 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:31:21,175 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:21,175 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:21,176 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:31:21,177 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eedd910> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:31:21,678 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef984d0>
2025-05-29 04:31:21,678 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:31:21,678 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:21,678 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:31:21,679 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:21,679 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:31:22,276 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:31:22 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_d3e858b60327edede03a6832357795df'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=MMNnOOrH1pruPosrLg.mc3MpkSsZD7FMBsB9bky0NTU-1748464282-1.0.1.1-.4.usjrbFR4Jte7.ftRzyV33_sodqFp40zySusS0CdL9u24n3b.nkrIDi.c14.f.J7E7_1VrXInoEkF_35SUVtSzOJSrWQWOkrDM8B5YhuA; path=/; expires=Wed, 28-May-25 21:01:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ECLYib3Dche3m9NgLFSjsWbcMx6BRH64D8DUy0F_B8I-1748464282282-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947083e18faafd71-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:31:22,277 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:31:22,277 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:31:22,277 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:31:22,277 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:31:22,278 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:31:22,278 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:31:22,278 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:31:22,279 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:31:22,279 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:31:22,279 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:31:22,279 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:31:22,279 - src.api.speech - DEBUG - [req_20250529043121_4813953520] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:31:22,279 - src.api.speech - DEBUG - [req_20250529043121_4813953520] 收到音频数据，大小: 508 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:31:22,280 - src.api.speech - INFO - [req_20250529043121_4813953520] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpquhxxtm0.mp3，大小: 508 字节
2025-05-29 04:31:22,280 - src.api.speech - DEBUG - [req_20250529043121_4813953520] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:31:22,280 - src.api.speech - DEBUG - [req_20250529043121_4813953520] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:31:22,282 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.1497秒
2025-05-29 04:31:30,884 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:31:30,886 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 04:31:39,648 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:31:39,649 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.7649秒
2025-05-29 04:31:39,653 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:31:39,655 - src.api.speech - INFO - [req_20250529043139_4813948000] 收到MiniMax MCP TTS请求: text='很高兴你问这个问题！我是今天的面试协调员赵老师，主要负责引导面试流程顺利进行。我的工作包括介绍面试环节、协调面试官时间、帮助候选人放松心情，以及确保每个环节都能充分展示你的能力。现在让我们继续面试吧，能详细说说你在订单系统开发中遇到的技术挑战吗？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:31:39,655 - src.api.speech - DEBUG - [req_20250529043139_4813948000] 开始调用语音服务: text_to_speech(text='很高兴你问这个问题！我是今天的面试协调员赵老师，主要负责引导...', voice='female-tianmei')
2025-05-29 04:31:39,655 - src.services.speech_service - INFO - 开始语音合成，文本长度: 123
2025-05-29 04:31:39,656 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:31:39,695 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴你问这个问题！我是今天的面试协调员赵老师，主要负责引导面试流程顺利进行。我的工作包括介绍面试环节、协调面试官时间、帮助候选人放松心情，以及确保每个环节都能充分展示你的能力。现在让我们继续面试吧，能详细说说你在订单系统开发中遇到的技术挑战吗？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:31:39,696 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:31:39,697 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eb3cf90>
2025-05-29 04:31:39,697 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:39,697 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:39,697 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:31:39,697 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:39,698 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:39,698 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:31:39,698 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb5ac0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:31:39,913 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef23a10>
2025-05-29 04:31:39,914 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:31:39,914 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:39,914 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:31:39,914 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:39,914 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:31:40,708 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:31:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_834648bab5386a524dc0201d418705c2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SpB6tOfZU3BHCQ1jBs0ntrQY6U.x29Du1bXsFNyhJgA-1748464300-1.0.1.1-SArrCTCNsFjrwLLp8AtXyht3dZo3EqghKiwlqFyQqFnFzb2xh1dmo3L64hn8vczNsbtVWXCvckkx.aP25khQ1clMlX0N3vYDHpkThyob2xA; path=/; expires=Wed, 28-May-25 21:01:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=sIeAh6x2vzMEg8RqCxEFqkbhB2RWbDUiq0MjikvwuYc-1748464300733-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947084538908fe21-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:31:40,709 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:31:40,709 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:31:40,709 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:31:40,710 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:31:40,710 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:31:40,710 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:31:40,710 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:31:40,710 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:31:40,711 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:31:40,711 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:31:40,711 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:31:40,711 - src.api.speech - DEBUG - [req_20250529043139_4813948000] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:31:40,711 - src.api.speech - DEBUG - [req_20250529043139_4813948000] 收到音频数据，大小: 608 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:31:40,712 - src.api.speech - INFO - [req_20250529043139_4813948000] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmps5g_af_z.mp3，大小: 608 字节
2025-05-29 04:31:40,712 - src.api.speech - DEBUG - [req_20250529043139_4813948000] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:31:40,712 - src.api.speech - DEBUG - [req_20250529043139_4813948000] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:31:40,713 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0598秒
2025-05-29 04:31:52,610 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:31:52,612 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 8
2025-05-29 04:31:58,391 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:31:58,392 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.7819秒
2025-05-29 04:31:58,396 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:31:58,397 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0007秒
2025-05-29 04:31:58,400 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:31:58,402 - src.api.speech - INFO - [req_20250529043158_4813814304] 收到MiniMax MCP TTS请求: text='听起来你准备得很充分呢！为了让我们更高效地进行面试，接下来我会请技术面试官张工程师来深入考察你的技术能力。他会重点关注你的项目经验和系统设计能力。在等待他接入的1分钟里，要不要喝点水放松一下？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:31:58,402 - src.api.speech - DEBUG - [req_20250529043158_4813814304] 开始调用语音服务: text_to_speech(text='听起来你准备得很充分呢！为了让我们更高效地进行面试，接下来我...', voice='female-tianmei')
2025-05-29 04:31:58,402 - src.services.speech_service - INFO - 开始语音合成，文本长度: 96
2025-05-29 04:31:58,402 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:31:58,436 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '听起来你准备得很充分呢！为了让我们更高效地进行面试，接下来我会请技术面试官张工程师来深入考察你的技术能力。他会重点关注你的项目经验和系统设计能力。在等待他接入的1分钟里，要不要喝点水放松一下？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:31:58,437 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:31:58,437 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eefe510>
2025-05-29 04:31:58,438 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:58,438 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:58,438 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:31:58,438 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:58,439 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:31:58,439 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:31:58,439 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6ba0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:31:58,650 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef85ad0>
2025-05-29 04:31:58,651 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:31:58,651 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:31:58,651 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:31:58,651 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:31:58,651 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:31:59,037 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:31:59 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_ca77a785e0114699d200aa0357581bd8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Td8CN_vPwzHS_RiqUoB9DnpwNQ3FoNTSOwRHozwUJHg-1748464319-1.0.1.1-PWENl8K8BpPIo14Q8bjwRTwmg9A6zmUTBKS2lJCIBaN.n7m4yt9kbLZHEsHlqsFyVU_dJGDFf23d8aOe0IO3_ChnlRqZotlpbBRJW0Is1WM; path=/; expires=Wed, 28-May-25 21:01:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=fsCCRXLJvi5Zl7D9j.99pr.YCe0lL1AX1F_d41G2QnU-1748464319078-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947084c8aede5fbb-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:31:59,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:31:59,038 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:31:59,038 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:31:59,038 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:31:59,039 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:31:59,039 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:31:59,039 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:31:59,040 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:31:59,040 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:31:59,040 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:31:59,040 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:31:59,040 - src.api.speech - DEBUG - [req_20250529043158_4813814304] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:31:59,040 - src.api.speech - DEBUG - [req_20250529043158_4813814304] 收到音频数据，大小: 525 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:31:59,041 - src.api.speech - INFO - [req_20250529043158_4813814304] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpwaoxa96_.mp3，大小: 525 字节
2025-05-29 04:31:59,041 - src.api.speech - DEBUG - [req_20250529043158_4813814304] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:31:59,041 - src.api.speech - DEBUG - [req_20250529043158_4813814304] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:31:59,042 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6422秒
2025-05-29 04:32:09,368 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:32:09,369 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0008秒
2025-05-29 04:32:09,371 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:32:09,373 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 10
2025-05-29 04:32:14,808 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:32:14,809 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.4378秒
2025-05-29 04:32:14,812 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:32:14,814 - src.api.speech - INFO - [req_20250529043214_4813803984] 收到MiniMax MCP TTS请求: text='(等待1分钟后)\n张工程师已经接入，让我们开始技术面试环节。他会先请你详细介绍订单系统的架构设计，特别是你负责的模块。记得要突出你解决过的技术难点哦。祝你好运！' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:32:14,814 - src.api.speech - DEBUG - [req_20250529043214_4813803984] 开始调用语音服务: text_to_speech(text='(等待1分钟后)
张工程师已经接入，让我们开始技术面试环节。...', voice='female-tianmei')
2025-05-29 04:32:14,814 - src.services.speech_service - INFO - 开始语音合成，文本长度: 80
2025-05-29 04:32:14,815 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:32:14,849 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '(等待1分钟后)\n张工程师已经接入，让我们开始技术面试环节。他会先请你详细介绍订单系统的架构设计，特别是你负责的模块。记得要突出你解决过的技术难点哦。祝你好运！', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:32:14,850 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:32:14,851 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef85150>
2025-05-29 04:32:14,851 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:32:14,851 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:32:14,851 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:32:14,852 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:32:14,852 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:32:14,852 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:32:14,852 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb69f0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:32:15,053 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5f9d0>
2025-05-29 04:32:15,053 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:32:15,054 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:32:15,054 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:32:15,054 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:32:15,054 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:32:15,423 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:32:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_3f1f9d0478d791f591f3bd07bb35c340'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=hYpH5eVr9fTbhSMeyWs32E5ShPIE6y4yGcG.v0deBd4-1748464335-1.0.1.1-9BdgPZtccWfd_wZbJe4qOAeHnsGcCjDrsMkvaL3.zqq2tt0qx9XpZyGKhjpUKAL.6kjKXqdj3vsEx3PFBSZyYHbK8_S36ZiTEBitI5RR5xE; path=/; expires=Wed, 28-May-25 21:02:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=sPC5j8YdxhJyw4plMxkhxMQ1HYVkswsIKxJ0n6X.sh4-1748464335471-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9470852f2f0487a7-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:32:15,424 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:32:15,424 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:32:15,424 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:32:15,425 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:32:15,425 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:32:15,425 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:32:15,425 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:32:15,426 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:32:15,426 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:32:15,426 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:32:15,426 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:32:15,426 - src.api.speech - DEBUG - [req_20250529043214_4813803984] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:32:15,427 - src.api.speech - DEBUG - [req_20250529043214_4813803984] 收到音频数据，大小: 471 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:32:15,427 - src.api.speech - INFO - [req_20250529043214_4813803984] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp0pcxqpc5.mp3，大小: 471 字节
2025-05-29 04:32:15,428 - src.api.speech - DEBUG - [req_20250529043214_4813803984] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:32:15,428 - src.api.speech - DEBUG - [req_20250529043214_4813803984] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:32:15,429 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6164秒
2025-05-29 04:32:32,249 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:32:32,250 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 12
2025-05-29 04:32:38,562 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:32:38,564 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.3145秒
2025-05-29 04:32:38,577 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:32:38,579 - src.api.speech - INFO - [req_20250529043238_4813952560] 收到MiniMax MCP TTS请求: text='看来你对面试流程很关注呢！我是今天的面试协调员赵老师，就像节目主持人一样负责串场。主要工作是确保每个面试环节顺利衔接，记录面试反馈，也会在必要时帮候选人协调休息时间。现在让我们把重点放回技术面试吧，张工程师正在等你分享订单系统的技术方案呢~' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:32:38,580 - src.api.speech - DEBUG - [req_20250529043238_4813952560] 开始调用语音服务: text_to_speech(text='看来你对面试流程很关注呢！我是今天的面试协调员赵老师，就像节...', voice='female-tianmei')
2025-05-29 04:32:38,580 - src.services.speech_service - INFO - 开始语音合成，文本长度: 120
2025-05-29 04:32:38,580 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:32:38,623 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '看来你对面试流程很关注呢！我是今天的面试协调员赵老师，就像节目主持人一样负责串场。主要工作是确保每个面试环节顺利衔接，记录面试反馈，也会在必要时帮候选人协调休息时间。现在让我们把重点放回技术面试吧，张工程师正在等你分享订单系统的技术方案呢~', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:32:38,624 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:32:38,625 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5fb90>
2025-05-29 04:32:38,626 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:32:38,626 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:32:38,627 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:32:38,628 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:32:38,629 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:32:38,631 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:32:38,631 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6c30> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:32:38,860 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef5e1d0>
2025-05-29 04:32:38,861 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:32:38,862 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:32:38,862 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:32:38,863 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:32:38,863 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:32:39,285 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:32:39 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_5bfd1ff383ecbdde0415a03c90b33190'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=dnB6myvTKoe56uXJwGHrzIMvGqNQGUOAkEyS5PN4uyY-1748464359-1.0.1.1-iNKsQCgRVXI6yLygOxG5Ehr8gNq7wTVSo7Nz8VYPsvuHLa.2sGVCpiK4xAO7sXyfdHDRZaWymUv8tdxcV41GdrV08r0MSD0ynPMCToQz29Q; path=/; expires=Wed, 28-May-25 21:02:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=KtEfJJIDfuQYMr1RFuNXXuT1FJGKe_p8VBKpAAlLELo-1748464359258-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947085c3f9a088ff-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:32:39,286 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:32:39,286 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:32:39,286 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:32:39,287 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:32:39,287 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:32:39,287 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:32:39,288 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:32:39,288 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:32:39,289 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:32:39,289 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:32:39,289 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:32:39,289 - src.api.speech - DEBUG - [req_20250529043238_4813952560] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:32:39,290 - src.api.speech - DEBUG - [req_20250529043238_4813952560] 收到音频数据，大小: 597 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:32:39,291 - src.api.speech - INFO - [req_20250529043238_4813952560] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp6wl2hbkf.mp3，大小: 597 字节
2025-05-29 04:32:39,291 - src.api.speech - DEBUG - [req_20250529043238_4813952560] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:32:39,292 - src.api.speech - DEBUG - [req_20250529043238_4813952560] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:32:39,294 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7161秒
2025-05-29 04:32:53,710 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:32:53,712 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 14
2025-05-29 04:33:01,810 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:33:01,811 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.1007秒
2025-05-29 04:33:01,814 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:33:01,815 - src.api.speech - INFO - [req_20250529043301_4813956880] 收到MiniMax MCP TTS请求: text='（以赵老师身份快速接话）\n啊，张工程师刚刚临时被叫去处理紧急问题，需要5分钟后回来。趁这个空档，要不你先简单梳理下待会儿要讲的系统架构要点？比如可以想想：系统吞吐量、容错机制这些关键设计考量。需要我帮你记录要点吗？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:33:01,815 - src.api.speech - DEBUG - [req_20250529043301_4813956880] 开始调用语音服务: text_to_speech(text='（以赵老师身份快速接话）
啊，张工程师刚刚临时被叫去处理紧急...', voice='female-tianmei')
2025-05-29 04:33:01,815 - src.services.speech_service - INFO - 开始语音合成，文本长度: 107
2025-05-29 04:33:01,815 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:33:01,850 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '（以赵老师身份快速接话）\n啊，张工程师刚刚临时被叫去处理紧急问题，需要5分钟后回来。趁这个空档，要不你先简单梳理下待会儿要讲的系统架构要点？比如可以想想：系统吞吐量、容错机制这些关键设计考量。需要我帮你记录要点吗？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:33:01,850 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:33:01,851 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef6f5d0>
2025-05-29 04:33:01,851 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:33:01,852 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:33:01,852 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:33:01,852 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:33:01,852 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:33:01,852 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:33:01,852 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb60f0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:33:02,052 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef6fe90>
2025-05-29 04:33:02,053 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:33:02,053 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:33:02,053 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:33:02,053 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:33:02,053 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:33:02,462 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:33:02 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_79a74f01c779365c3d182f7ee8b20fa4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=f5qLBnMXfsPkkmDwqP.Aeuo88bAnXbxB388SsdZ1PZ8-1748464382-1.0.1.1-gPi4tUVzf4XwmZxN0TLHHgqmwe.hBUp.r_8otiyhqzy7gno2mLo5m1BuKvz9zVevj99auErO6k_k4uMImMiZD.UmduDT6ssq6TEsIVT54DQ; path=/; expires=Wed, 28-May-25 21:03:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=pR2YwsImSu3yVeb1j38xnflJsvd2HCh_MFoSvxPTHgM-1748464382480-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94708654eab2ce87-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:33:02,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:33:02,464 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:33:02,464 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:33:02,464 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:33:02,465 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:33:02,465 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:33:02,465 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:33:02,466 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:33:02,466 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:33:02,467 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:33:02,467 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:33:02,467 - src.api.speech - DEBUG - [req_20250529043301_4813956880] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:33:02,467 - src.api.speech - DEBUG - [req_20250529043301_4813956880] 收到音频数据，大小: 556 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:33:02,468 - src.api.speech - INFO - [req_20250529043301_4813956880] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9g_8jnc4.mp3，大小: 556 字节
2025-05-29 04:33:02,469 - src.api.speech - DEBUG - [req_20250529043301_4813956880] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:33:02,469 - src.api.speech - DEBUG - [req_20250529043301_4813956880] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:33:02,470 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6564秒
2025-05-29 04:34:38,935 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:34:38,937 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 16
2025-05-29 04:34:44,518 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:34:44,520 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.5856秒
2025-05-29 04:34:44,534 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:34:44,537 - src.api.speech - INFO - [req_20250529043444_4813961120] 收到MiniMax MCP TTS请求: text='（保持专业微笑）\n理解你想高效推进面试的心情！张工程师已经回来了，我们现在就无缝衔接进入技术面试环节。他会先请你用3分钟概述订单系统的整体架构，之后会深入询问技术细节。需要我帮你计时吗？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:34:44,537 - src.api.speech - DEBUG - [req_20250529043444_4813961120] 开始调用语音服务: text_to_speech(text='（保持专业微笑）
理解你想高效推进面试的心情！张工程师已经回...', voice='female-tianmei')
2025-05-29 04:34:44,537 - src.services.speech_service - INFO - 开始语音合成，文本长度: 93
2025-05-29 04:34:44,537 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:34:44,579 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '（保持专业微笑）\n理解你想高效推进面试的心情！张工程师已经回来了，我们现在就无缝衔接进入技术面试环节。他会先请你用3分钟概述订单系统的整体架构，之后会深入询问技术细节。需要我帮你计时吗？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:34:44,582 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:34:44,583 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef2af10>
2025-05-29 04:34:44,583 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:34:44,584 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:34:44,584 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:34:44,584 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:34:44,584 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:34:44,584 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:34:44,584 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb7c80> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:34:44,930 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef2a650>
2025-05-29 04:34:44,931 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:34:44,931 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:34:44,931 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:34:44,931 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:34:44,931 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:34:45,338 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:34:45 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_5a2c6d0f0cd054467ee2fa1701443eda'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=P6haDtxEc4lgAHRKLKBigLF9ovwZV7vZnAR7zJQSK0w-1748464485-1.0.1.1-lF44xqN4I6wAuvIdEBSC_nJsUwzIbFZN8RUddTCmsSbXdpP44Wo3AkE7mqV_QtHtqQJ_zRpUKpb5kASrexKhOQMIYlS4MKHyt.gBoaBtyLU; path=/; expires=Wed, 28-May-25 21:04:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=j7ztJwL17Z4QDYzyiq3ka3IuinJbCduSYb.PAl.xe3Y-1748464485341-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947088d7eb4bce87-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:34:45,340 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:34:45,340 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:34:45,340 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:34:45,341 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:34:45,341 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:34:45,343 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:34:45,343 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:34:45,345 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:34:45,346 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:34:45,347 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:34:45,347 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:34:45,348 - src.api.speech - DEBUG - [req_20250529043444_4813961120] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:34:45,348 - src.api.speech - DEBUG - [req_20250529043444_4813961120] 收到音频数据，大小: 514 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:34:45,348 - src.api.speech - INFO - [req_20250529043444_4813961120] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpj5_vhndx.mp3，大小: 514 字节
2025-05-29 04:34:45,349 - src.api.speech - DEBUG - [req_20250529043444_4813961120] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:34:45,349 - src.api.speech - DEBUG - [req_20250529043444_4813961120] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:34:45,350 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8157秒
2025-05-29 04:34:57,621 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:34:57,623 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 18
2025-05-29 04:35:03,104 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:35:03,105 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.4847秒
2025-05-29 04:35:03,118 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:35:03,120 - src.api.speech - INFO - [req_20250529043503_4814569872] 收到MiniMax MCP TTS请求: text='（立即调整状态）\n明白！张工程师，这位候选人已经准备好开始技术面试了。（转向候选人）As，现在把时间完全交给张工程师，他会首先请你描述订单系统的高可用设计。祝你们技术讨论愉快！' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:35:03,120 - src.api.speech - DEBUG - [req_20250529043503_4814569872] 开始调用语音服务: text_to_speech(text='（立即调整状态）
明白！张工程师，这位候选人已经准备好开始技...', voice='female-tianmei')
2025-05-29 04:35:03,120 - src.services.speech_service - INFO - 开始语音合成，文本长度: 88
2025-05-29 04:35:03,120 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:35:03,166 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '（立即调整状态）\n明白！张工程师，这位候选人已经准备好开始技术面试了。（转向候选人）As，现在把时间完全交给张工程师，他会首先请你描述订单系统的高可用设计。祝你们技术讨论愉快！', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:35:03,169 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:35:03,170 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef01e50>
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:35:03,171 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:35:03,172 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb6e70> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:35:03,381 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef05e10>
2025-05-29 04:35:03,382 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:35:03,383 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:35:03,383 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:35:03,383 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:35:03,384 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:35:03,770 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:35:03 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_91bec04a9d34030c53f8336e8287e6b9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XWyWWttSsnumSt6onu4McavhKVAd_GuZ0qFPX4BKMIo-1748464503-1.0.1.1-l1PvDIttfFvEKcdlch8Fo1dQ3CKaRuROx7.R5u_zkrsXOz8Wga3Cb7GXmpVdQea7BF2mYvtixr5DKc55NqN_cKOLwx0QohG9qDNWR84k8yg; path=/; expires=Wed, 28-May-25 21:05:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=XFTc_ivWEJVl_75A.1YOGnIHF_5QNStvlfajReiHX38-1748464503784-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9470894b2897c3c2-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:35:03,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:35:03,771 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:35:03,771 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:35:03,772 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:35:03,772 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:35:03,772 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:35:03,772 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:35:03,773 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:35:03,774 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:35:03,774 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:35:03,774 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:35:03,775 - src.api.speech - DEBUG - [req_20250529043503_4814569872] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:35:03,775 - src.api.speech - DEBUG - [req_20250529043503_4814569872] 收到音频数据，大小: 497 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:35:03,777 - src.api.speech - INFO - [req_20250529043503_4814569872] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpln8ct_rh.mp3，大小: 497 字节
2025-05-29 04:35:03,777 - src.api.speech - DEBUG - [req_20250529043503_4814569872] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:35:03,777 - src.api.speech - DEBUG - [req_20250529043503_4814569872] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:35:03,780 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6620秒
2025-05-29 04:35:14,834 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 04:35:14,837 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 20
2025-05-29 04:35:23,903 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 04:35:23,906 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 9.0715秒
2025-05-29 04:35:23,913 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 04:35:23,919 - src.api.speech - INFO - [req_20250529043523_4813958400] 收到MiniMax MCP TTS请求: text='（快速轻声提醒）\n啊，这位面试官其实姓张工程师呢~（立即切换正式语气）好的，现在正式进入技术面试环节！张工程师，这位是As候选人，有丰富的电商系统开发经验。As，请开始你的技术分享吧。（做出"请"的手势后退场）' voice_id=None interviewer_type='female-tianmei'
2025-05-29 04:35:23,919 - src.api.speech - DEBUG - [req_20250529043523_4813958400] 开始调用语音服务: text_to_speech(text='（快速轻声提醒）
啊，这位面试官其实姓张工程师呢~（立即切换...', voice='female-tianmei')
2025-05-29 04:35:23,919 - src.services.speech_service - INFO - 开始语音合成，文本长度: 105
2025-05-29 04:35:23,919 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 04:35:23,967 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '（快速轻声提醒）\n啊，这位面试官其实姓张工程师呢~（立即切换正式语气）好的，现在正式进入技术面试环节！张工程师，这位是As候选人，有丰富的电商系统开发经验。As，请开始你的技术分享吧。（做出"请"的手势后退场）', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 04:35:23,969 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 04:35:23,970 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ef37b90>
2025-05-29 04:35:23,971 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:35:23,971 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:35:23,971 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 04:35:23,972 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:35:23,972 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 04:35:23,972 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 04:35:23,972 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11eeb5eb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 04:35:24,185 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11eef4d10>
2025-05-29 04:35:24,186 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 04:35:24,186 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 04:35:24,186 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 04:35:24,187 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 04:35:24,187 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 04:35:24,552 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Wed, 28 May 2025 20:35:24 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_5a31543899588aedaa448c3173230682'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=C0LFDanxP4.j2IePADAOG2DXmIRNeFXe9jXDYmv4rOM-1748464524-1.0.1.1-YQL_pGbbDdfm8dEd7MJj55MFnH3jFqjw8VxgJWjBgHjjMLP6DxSVKQwjoUhPX1FrWJxzxjW8MgBgIZOFgW0Dr3WIb4z9fv7sbo7st67ZxeQ; path=/; expires=Wed, 28-May-25 21:05:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=2V5AVvNEn.V7CDY3hS6NyINZVcYykXacMRX3VOuOznk-1748464524596-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947089cd39bc5037-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 04:35:24,554 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 04:35:24,554 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 04:35:24,554 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 04:35:24,554 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 04:35:24,555 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 04:35:24,555 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 04:35:24,556 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 04:35:24,557 - openai._base_client - DEBUG - Not retrying
2025-05-29 04:35:24,557 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 04:35:24,557 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 04:35:24,557 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 04:35:24,558 - src.api.speech - DEBUG - [req_20250529043523_4813958400] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 04:35:24,559 - src.api.speech - DEBUG - [req_20250529043523_4813958400] 收到音频数据，大小: 538 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 04:35:24,560 - src.api.speech - INFO - [req_20250529043523_4813958400] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpc9zfgkn8.mp3，大小: 538 字节
2025-05-29 04:35:24,561 - src.api.speech - DEBUG - [req_20250529043523_4813958400] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 04:35:24,561 - src.api.speech - DEBUG - [req_20250529043523_4813958400] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 04:35:24,563 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6494秒
2025-05-29 15:30:15,707 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:30:15,707 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:30:16,136 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:30:16,521 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:30:16,521 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:30:16,555 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:30:16,555 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:30:16,555 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:30:16,556 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:30:16,556 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:30:16,556 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:30:19,419 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:30:19,420 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bd627d0>
2025-05-29 15:30:19,420 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:30:19,420 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:30:19,420 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:30:19,421 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:30:19,421 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:30:19,421 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:30:19,422 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10ba20440> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:30:19,712 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bd62f90>
2025-05-29 15:30:19,712 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:30:19,712 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:30:19,713 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:30:19,713 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:30:19,713 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:30:19,869 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:30:19 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700106-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'40'), (b'X-Timer', b'S1748503820.968182,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'81678cc6b7f1a897dc8ddb8aa5e55ec743cf06da'), (b'Expires', b'Thu, 29 May 2025 07:35:19 GMT'), (b'Source-Age', b'232')])
2025-05-29 15:30:19,871 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:30:19,871 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:30:19,914 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:30:19,914 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:30:19,914 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:30:20,989 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:30:23,012 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:30:23,065 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:30:23,071 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:30:23,888 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:30:23,961 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:30:24,024 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:30:24,025 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:31:00,069 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:31:00,071 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0027秒
2025-05-29 15:31:00,077 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:31:00,082 - src.api.speech - INFO - [req_20250529153100_4627623728] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:31:00,082 - src.api.speech - DEBUG - [req_20250529153100_4627623728] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 15:31:00,082 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 15:31:00,082 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:31:00,190 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:31:00,192 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:31:00,194 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113b74d90>
2025-05-29 15:31:00,195 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:31:00,195 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:31:00,195 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:31:00,195 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:31:00,196 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:31:00,196 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:31:00,197 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113d38b90> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:31:00,506 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113d77ed0>
2025-05-29 15:31:00,507 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:31:00,508 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:31:00,508 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:31:00,509 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:31:00,509 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:31:00,782 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:31:00 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_2a0fe99e3c9635a0010cccc0f620377f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nwzcyj9eQfLZ0ZkaDzP_h1J0v8vrclHddcR399mbNW8-1748503860-1.0.1.1-ntMEc9GprYlhLYyWPiM.NYAfDqGHqZCDbqXsEXR0PRyamlgX5Nt7WhL9X0L3O_WSoyiVoYpSsKsHtUbjIM02CYDSP6xuZO9q4Yb7FaZFiIw; path=/; expires=Thu, 29-May-25 08:01:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IWypLbUyWYyNhvbe3vSAXey5oNdZ_pzRnevkvv0erLU-1748503860895-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94744a29aa8cf526-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:31:00,783 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:31:00,784 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:31:00,784 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:31:00,784 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:31:00,784 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:31:00,785 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:31:00,785 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:31:00,790 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:31:00,790 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:31:00,793 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:31:00,794 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:31:00,794 - src.api.speech - DEBUG - [req_20250529153100_4627623728] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:31:00,794 - src.api.speech - DEBUG - [req_20250529153100_4627623728] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:31:00,797 - src.api.speech - INFO - [req_20250529153100_4627623728] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmps789b_xj.mp3，大小: 317 字节
2025-05-29 15:31:00,797 - src.api.speech - DEBUG - [req_20250529153100_4627623728] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:31:00,797 - src.api.speech - DEBUG - [req_20250529153100_4627623728] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:31:00,800 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7224秒
2025-05-29 15:31:30,377 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:31:30,380 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0026秒
2025-05-29 15:31:30,382 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:31:30,391 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 15:31:38,542 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:31:38,546 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.1637秒
2025-05-29 15:31:38,561 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:31:38,563 - src.api.speech - INFO - [req_20250529153138_4628235040] 收到MiniMax MCP TTS请求: text='很高兴认识你！作为AI应用工程师，这个岗位和你的背景很匹配呢。能具体说说你主要负责过哪些AI应用项目吗？比如用到了哪些技术栈，解决了什么问题？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:31:38,563 - src.api.speech - DEBUG - [req_20250529153138_4628235040] 开始调用语音服务: text_to_speech(text='很高兴认识你！作为AI应用工程师，这个岗位和你的背景很匹配呢...', voice='female-tianmei')
2025-05-29 15:31:38,563 - src.services.speech_service - INFO - 开始语音合成，文本长度: 71
2025-05-29 15:31:38,563 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:31:38,632 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！作为AI应用工程师，这个岗位和你的背景很匹配呢。能具体说说你主要负责过哪些AI应用项目吗？比如用到了哪些技术栈，解决了什么问题？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:31:38,634 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:31:38,635 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113dd9d90>
2025-05-29 15:31:38,637 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:31:38,640 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:31:38,641 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:31:38,641 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:31:38,641 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:31:38,642 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:31:38,642 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113dba2a0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:31:39,057 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113de78d0>
2025-05-29 15:31:39,058 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:31:39,059 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:31:39,060 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:31:39,061 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:31:39,061 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:31:39,461 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:31:39 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_25ac3160ae9412628916b688b830194f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=7vvm_jZFq.6142QPRXfgCIj8QlsP1aDKGrr1KmyEahM-1748503899-1.0.1.1-ggySu_NnMi.m5Up2i..No.F3YMnBFqexymsiSOi4NeZINxsvNN20fGbM46KelL7lOCJ3pj4bAaj7_2UKtHYfLmwHKkwZhbOfwiszxG8ej2M; path=/; expires=Thu, 29-May-25 08:01:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=IxvZVTH0.6vKg.eIazySqQt5MBNLA59ygqWFN1uLA3c-1748503899549-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94744b1aafc3b00b-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:31:39,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:31:39,463 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:31:39,464 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:31:39,464 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:31:39,465 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:31:39,465 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:31:39,465 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:31:39,467 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:31:39,468 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:31:39,470 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:31:39,471 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:31:39,471 - src.api.speech - DEBUG - [req_20250529153138_4628235040] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:31:39,471 - src.api.speech - DEBUG - [req_20250529153138_4628235040] 收到音频数据，大小: 444 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:31:39,475 - src.api.speech - INFO - [req_20250529153138_4628235040] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpu6658mmu.mp3，大小: 444 字节
2025-05-29 15:31:39,476 - src.api.speech - DEBUG - [req_20250529153138_4628235040] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:31:39,477 - src.api.speech - DEBUG - [req_20250529153138_4628235040] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:31:39,479 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.9179秒
2025-05-29 15:34:38,308 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:34:38,387 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 15:34:44,502 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:34:44,504 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.1964秒
2025-05-29 15:34:44,517 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:34:44,519 - src.api.speech - INFO - [req_20250529153444_4628241280] 收到MiniMax MCP TTS请求: text='很好！FastAPI确实是个高效的Python框架。能分享一下你用它开发的具体项目吗？比如：\n\n1. 项目规模如何？\n2. 主要实现了哪些AI功能？\n3. 遇到过什么技术挑战？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:34:44,519 - src.api.speech - DEBUG - [req_20250529153444_4628241280] 开始调用语音服务: text_to_speech(text='很好！FastAPI确实是个高效的Python框架。能分享一...', voice='female-tianmei')
2025-05-29 15:34:44,519 - src.services.speech_service - INFO - 开始语音合成，文本长度: 88
2025-05-29 15:34:44,519 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:34:44,598 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很好！FastAPI确实是个高效的Python框架。能分享一下你用它开发的具体项目吗？比如：\n\n1. 项目规模如何？\n2. 主要实现了哪些AI功能？\n3. 遇到过什么技术挑战？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:34:44,599 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:34:44,600 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113dfa250>
2025-05-29 15:34:44,601 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:34:44,601 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:34:44,601 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:34:44,602 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:34:44,602 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:34:44,602 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:34:44,602 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113dba180> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:34:44,888 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113d88c90>
2025-05-29 15:34:44,889 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:34:44,890 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:34:44,890 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:34:44,890 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:34:44,890 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:34:45,318 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:34:45 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_718c5ce3279a881e90cee099b6315f83'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=q0VmcVSi65J3b8tOA7J3A3odah2rNzUsBiObXLhgIR0-1748504085-1.0.1.1-73jY81fBAu702TE05Gkp7aw9jfsLg0w.SJj5pbHkc9oOoTXrjG7BleA80szntiHxMgtSQhhEzlM4E3CPqvb.pPL.sfJPG4U04MQ5VL1m1qA; path=/; expires=Thu, 29-May-25 08:04:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LKwxa7_mskdsG4PP5jZCqPIr8gkvZj_zHJIs6NV8YiI-1748504085387-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94744fa418c1603e-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:34:45,320 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:34:45,321 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:34:45,321 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:34:45,321 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:34:45,322 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:34:45,322 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:34:45,322 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:34:45,324 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:34:45,324 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:34:45,324 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:34:45,325 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:34:45,325 - src.api.speech - DEBUG - [req_20250529153444_4628241280] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:34:45,325 - src.api.speech - DEBUG - [req_20250529153444_4628241280] 收到音频数据，大小: 447 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:34:45,326 - src.api.speech - INFO - [req_20250529153444_4628241280] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpivf6_e5p.mp3，大小: 447 字节
2025-05-29 15:34:45,326 - src.api.speech - DEBUG - [req_20250529153444_4628241280] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:34:45,327 - src.api.speech - DEBUG - [req_20250529153444_4628241280] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:34:45,328 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8114秒
2025-05-29 15:35:20,476 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:35:20,480 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 8
2025-05-29 15:35:28,942 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:35:28,945 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.4688秒
2025-05-29 15:35:28,951 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:35:28,955 - src.api.speech - INFO - [req_20250529153528_4627424640] 收到MiniMax MCP TTS请求: text='明白了！这是个很实用的AI应用呢。能详细说说：\n\n1. 具体如何用AI优化简历？\n2. 使用了哪些NLP技术？\n3. 优化效果如何量化评估？\n\n这对我们了解你的技术深度很有帮助。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:35:28,955 - src.api.speech - DEBUG - [req_20250529153528_4627424640] 开始调用语音服务: text_to_speech(text='明白了！这是个很实用的AI应用呢。能详细说说：

1. 具体...', voice='female-tianmei')
2025-05-29 15:35:28,956 - src.services.speech_service - INFO - 开始语音合成，文本长度: 89
2025-05-29 15:35:28,958 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:35:29,010 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '明白了！这是个很实用的AI应用呢。能详细说说：\n\n1. 具体如何用AI优化简历？\n2. 使用了哪些NLP技术？\n3. 优化效果如何量化评估？\n\n这对我们了解你的技术深度很有帮助。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:35:29,011 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:35:29,012 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113d6a2d0>
2025-05-29 15:35:29,012 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:35:29,013 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:35:29,013 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:35:29,013 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:35:29,013 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:35:29,013 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:35:29,013 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x113db9f40> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:35:29,282 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113d5ebd0>
2025-05-29 15:35:29,282 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:35:29,283 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:35:29,283 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:35:29,284 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:35:29,285 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:35:29,588 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:35:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_0dd06fd78c28c6ad76b0b70cfc29f99c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_HbMVqOtUFp2LW.6nlNjnQiD_6.ZlbCoxipxZqUP.sY-1748504129-1.0.1.1-5GUqEYgQNFDFtLWEZg9_EWAPw_VhwvN_BmJf4CMRaDmMwgwZyYjYFyucEPxINPX72ntgsCV9f1MJlEs6LmAg4.xaWp.WRC.CZEgj6Rwe9hw; path=/; expires=Thu, 29-May-25 08:05:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LN_Ec8ERA3ia1pi0ExHkd4pfUW79grUf1W0VuS1z_l4-1748504129700-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947450b97ccbd4c4-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:35:29,589 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:35:29,589 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:35:29,590 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:35:29,590 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:35:29,590 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:35:29,591 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:35:29,591 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:35:29,592 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:35:29,593 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:35:29,594 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:35:29,594 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:35:29,595 - src.api.speech - DEBUG - [req_20250529153528_4627424640] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:35:29,595 - src.api.speech - DEBUG - [req_20250529153528_4627424640] 收到音频数据，大小: 462 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:35:29,596 - src.api.speech - INFO - [req_20250529153528_4627424640] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpjn9gbr4v.mp3，大小: 462 字节
2025-05-29 15:35:29,596 - src.api.speech - DEBUG - [req_20250529153528_4627424640] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:35:29,597 - src.api.speech - DEBUG - [req_20250529153528_4627424640] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:35:29,607 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6555秒
2025-05-29 15:43:26,569 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:43:26,569 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:43:26,872 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:43:27,161 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:43:27,161 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:43:27,190 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:43:27,190 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:43:27,190 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:43:27,190 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:43:27,191 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:43:27,191 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:43:29,571 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:43:29,572 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116382850>
2025-05-29 15:43:29,572 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:43:29,572 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:43:29,572 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:43:29,572 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:43:29,572 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:43:29,573 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:43:29,573 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116040320> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:43:29,908 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116383050>
2025-05-29 15:43:29,908 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:43:29,909 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:43:29,909 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:43:29,910 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:43:29,910 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:43:30,083 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:43:30 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700026-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'15'), (b'X-Timer', b'S1748504610.179210,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'07d9627799c57545024e99eb2e1dcbdfb12607ce'), (b'Expires', b'Thu, 29 May 2025 07:48:30 GMT'), (b'Source-Age', b'121')])
2025-05-29 15:43:30,085 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:43:30,086 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:43:30,125 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:43:30,125 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:43:30,125 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:43:30,729 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:43:32,041 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:43:32,079 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:43:32,084 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:43:32,415 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:43:32,461 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:43:32,481 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:43:32,482 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:44:29,382 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:44:29,382 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:44:29,862 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:44:30,229 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:44:30,230 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:44:30,262 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:44:30,262 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:44:30,262 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:44:30,262 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:44:30,262 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:44:30,262 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:47:27,738 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:47:27,738 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:47:27,968 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:47:28,185 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:47:28,185 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:47:28,215 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:47:28,215 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:47:28,215 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:47:28,215 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:47:28,215 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:47:28,215 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:47:30,521 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:47:30,522 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x113c62850>
2025-05-29 15:47:30,522 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:47:30,522 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:47:30,522 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:47:30,523 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:47:30,523 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:47:30,523 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:47:30,523 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1139204d0> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:47:30,856 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x113c62f90>
2025-05-29 15:47:30,857 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:47:30,858 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:47:30,858 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:47:30,859 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:47:30,859 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:47:31,015 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:47:31 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700070-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'13'), (b'X-Timer', b'S1748504851.120320,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'bec3236f249498d2e511e46e38b2bbea48f46b43'), (b'Expires', b'Thu, 29 May 2025 07:52:31 GMT'), (b'Source-Age', b'61')])
2025-05-29 15:47:31,018 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:47:31,019 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:47:31,138 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:47:31,138 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:47:31,138 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:47:31,715 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:47:32,935 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:47:32,967 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:47:32,973 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:47:33,331 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:47:33,378 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:47:33,404 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:47:33,404 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:48:23,841 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:48:23,841 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:48:24,213 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:48:24,631 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:48:24,631 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:48:24,687 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:48:24,687 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:48:24,687 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:48:24,687 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:48:24,688 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:48:24,688 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:48:27,205 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:48:27,205 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x110f06850>
2025-05-29 15:48:27,205 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:48:27,206 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:48:27,206 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:48:27,206 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:48:27,206 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:48:27,206 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:48:27,207 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x110bc4560> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:48:27,549 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x110f07010>
2025-05-29 15:48:27,550 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:48:27,550 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:48:27,551 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:48:27,551 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:48:27,551 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:48:27,711 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:48:27 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700105-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'26'), (b'X-Timer', b'S1748504908.816957,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'99280b31f719ad252a470d03e34cb5f073abd683'), (b'Expires', b'Thu, 29 May 2025 07:53:27 GMT'), (b'Source-Age', b'118')])
2025-05-29 15:48:27,713 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:48:27,714 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:48:27,809 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:48:27,810 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:48:27,810 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:48:28,431 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:48:29,640 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:48:29,678 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:48:29,684 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:48:29,996 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:48:30,041 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:48:30,061 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:48:30,061 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:51:23,512 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:51:23,513 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:51:23,814 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:51:24,115 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:51:24,115 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:51:24,157 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:51:24,157 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:51:24,157 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:51:24,158 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:51:24,158 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:51:24,158 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:51:26,567 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:51:26,568 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a4da890>
2025-05-29 15:51:26,568 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:51:26,568 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:51:26,568 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:51:26,568 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:51:26,568 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:51:26,569 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:51:26,569 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a198680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:51:26,866 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a4dafd0>
2025-05-29 15:51:26,867 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:51:26,867 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:51:26,868 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:51:26,868 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:51:26,868 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:51:27,031 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:51:27 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700069-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'51'), (b'X-Timer', b'S1748505087.145283,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'a85fcc9cf48718b297e766e65877129c090c6659'), (b'Expires', b'Thu, 29 May 2025 07:56:27 GMT'), (b'Source-Age', b'298')])
2025-05-29 15:51:27,033 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:51:27,033 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:51:27,076 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:51:27,076 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:51:27,076 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:51:27,705 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:51:28,900 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:51:28,941 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:51:28,946 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:51:29,287 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:51:29,330 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:51:29,353 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:51:29,354 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:52:07,353 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:52:07,356 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0026秒
2025-05-29 15:52:07,358 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:52:07,359 - src.api.speech - INFO - [req_20250529155207_4869944928] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:52:07,359 - src.api.speech - DEBUG - [req_20250529155207_4869944928] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 15:52:07,359 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 15:52:07,359 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:52:07,450 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:52:07,452 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:52:07,453 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122373fd0>
2025-05-29 15:52:07,454 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:07,454 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:07,454 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:52:07,454 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:07,455 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:07,456 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:52:07,456 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x122448f80> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:52:07,702 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122478c50>
2025-05-29 15:52:07,703 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:52:07,704 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:07,704 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:52:07,705 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:07,705 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:52:08,112 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:52:08 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_803688ac69be25abc69f3bed7c5c27c8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=v050Erb4gf6V5QobQYBCmjO2lbtgPOStbCCTJX2XKis-1748505128-1.0.1.1-LB46HT7O706xZEPcoMUFTWpKpwv4_F.B_Uynwvn33FX7.8ecpHFPQH2oVxAsvJw7a0rE0P95EOwZuIgkXvVOG5XUzxJw1O5pFqp2R.eFZXE; path=/; expires=Thu, 29-May-25 08:22:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=fqmsh.ec5fCqLNC3PMxSpLCwRKWMSMwVCP4CjXQQJ8A-1748505128178-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94746919bcf480d1-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:52:08,113 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:52:08,113 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:52:08,114 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:52:08,114 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:52:08,114 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:52:08,114 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:52:08,115 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:52:08,120 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:52:08,120 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:52:08,121 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:52:08,124 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:52:08,124 - src.api.speech - DEBUG - [req_20250529155207_4869944928] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:52:08,124 - src.api.speech - DEBUG - [req_20250529155207_4869944928] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:52:08,126 - src.api.speech - INFO - [req_20250529155207_4869944928] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp6e_o9fel.mp3，大小: 317 字节
2025-05-29 15:52:08,126 - src.api.speech - DEBUG - [req_20250529155207_4869944928] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:52:08,126 - src.api.speech - DEBUG - [req_20250529155207_4869944928] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:52:08,127 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7697秒
2025-05-29 15:52:21,402 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:52:21,403 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/deepseek/chat | 状态码: 200 | 处理时间: 0.0011秒
2025-05-29 15:52:21,405 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:52:21,410 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 15:52:27,702 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:52:27,704 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.2988秒
2025-05-29 15:52:27,714 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:52:27,717 - src.api.speech - INFO - [req_20250529155227_4870527632] 收到MiniMax MCP TTS请求: text='很高兴认识你！作为AI应用开发方向的候选人，你的经验很符合我们的需求。能具体说说你参与过哪些AI项目吗？比如使用的技术栈、解决的问题等。这样可以帮助面试官更好地了解你的专业背景。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:52:27,717 - src.api.speech - DEBUG - [req_20250529155227_4870527632] 开始调用语音服务: text_to_speech(text='很高兴认识你！作为AI应用开发方向的候选人，你的经验很符合我...', voice='female-tianmei')
2025-05-29 15:52:27,717 - src.services.speech_service - INFO - 开始语音合成，文本长度: 89
2025-05-29 15:52:27,718 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:52:27,759 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！作为AI应用开发方向的候选人，你的经验很符合我们的需求。能具体说说你参与过哪些AI项目吗？比如使用的技术栈、解决的问题等。这样可以帮助面试官更好地了解你的专业背景。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:52:27,760 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:52:27,762 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1224e9dd0>
2025-05-29 15:52:27,762 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:27,762 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:27,763 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:52:27,763 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:27,763 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:27,763 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:52:27,764 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1224ca0f0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:52:28,934 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1224faa50>
2025-05-29 15:52:28,934 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:52:28,935 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:28,935 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:52:28,935 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:28,935 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:52:29,341 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:52:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_61a11a0e87cabd0989a0f0ca71272a9d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=awKUWEOZR.3aovOL7jMLMAkmTuam7FnflRDNoOVdZiI-1748505149-1.0.1.1-muqula1hjersd_mjOdzZwTIr1iQsGKW7wnQwuzHhXqMKkJegx30y.NpmNJmg3oVXTbM2wEpTflKdeTFVogRksize6efV680HhJhq1K39FVg; path=/; expires=Thu, 29-May-25 08:22:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=UVaV86rmAoxWerxK5MN7uv7etKxW4PkRhjsJaF2YePo-1748505149380-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474699e8de7687e-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:52:29,343 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:52:29,343 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:52:29,344 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:52:29,344 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:52:29,345 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:52:29,345 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:52:29,346 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:52:29,347 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:52:29,347 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:52:29,349 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:52:29,349 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:52:29,349 - src.api.speech - DEBUG - [req_20250529155227_4870527632] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:52:29,350 - src.api.speech - DEBUG - [req_20250529155227_4870527632] 收到音频数据，大小: 498 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:52:29,350 - src.api.speech - INFO - [req_20250529155227_4870527632] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpbjr0sdsr.mp3，大小: 498 字节
2025-05-29 15:52:29,351 - src.api.speech - DEBUG - [req_20250529155227_4870527632] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:52:29,351 - src.api.speech - DEBUG - [req_20250529155227_4870527632] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:52:29,352 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.6384秒
2025-05-29 15:52:37,710 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:52:37,712 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 15:52:46,561 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:52:46,563 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.8532秒
2025-05-29 15:52:46,571 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:52:46,573 - src.api.speech - INFO - [req_20250529155246_4869725376] 收到MiniMax MCP TTS请求: text='原来你有信息安全背景，这在我们AI应用开发中也很重要！能分享一下你在AI安全或数据隐私保护方面的经验吗？比如是否参与过模型安全测试或数据加密相关项目？这对我们评估很有帮助。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:52:46,574 - src.api.speech - DEBUG - [req_20250529155246_4869725376] 开始调用语音服务: text_to_speech(text='原来你有信息安全背景，这在我们AI应用开发中也很重要！能分享...', voice='female-tianmei')
2025-05-29 15:52:46,574 - src.services.speech_service - INFO - 开始语音合成，文本长度: 86
2025-05-29 15:52:46,575 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:52:46,613 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '原来你有信息安全背景，这在我们AI应用开发中也很重要！能分享一下你在AI安全或数据隐私保护方面的经验吗？比如是否参与过模型安全测试或数据加密相关项目？这对我们评估很有帮助。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:52:46,614 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:52:46,616 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1224fa7d0>
2025-05-29 15:52:46,617 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:46,618 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:46,619 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:52:46,619 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:46,619 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:46,619 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:52:46,619 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1224c9eb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:52:51,620 - httpcore.proxy - DEBUG - start_tls.failed exception=ConnectTimeout(TimeoutError())
2025-05-29 15:52:51,620 - openai._base_client - DEBUG - Encountered httpx.TimeoutException
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http_proxy.py", line 316, in handle_async_request
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http11.py", line 376, in start_tls
    return await self._stream.start_tls(ssl_context, server_hostname, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1538, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout
2025-05-29 15:52:51,629 - openai._base_client - DEBUG - 2 retries left
2025-05-29 15:52:51,629 - openai._base_client - INFO - Retrying request to /audio/speech in 0.402232 seconds
2025-05-29 15:52:52,031 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '原来你有信息安全背景，这在我们AI应用开发中也很重要！能分享一下你在AI安全或数据隐私保护方面的经验吗？比如是否参与过模型安全测试或数据加密相关项目？这对我们评估很有帮助。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:52:52,032 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:52:52,033 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122550b50>
2025-05-29 15:52:52,033 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:52,034 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:52,034 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:52:52,034 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:52,034 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:52:52,034 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:52:52,034 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1224c9eb0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:52:52,289 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122550e90>
2025-05-29 15:52:52,289 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:52:52,290 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:52:52,290 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:52:52,291 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:52:52,291 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:52:52,688 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:52:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_c6cb5aabee0795b9c818e030dcda8809'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=N_nBKB7MZeBLpH8ocrzCJjqEuc8yGVIGVuUxu.x15PE-1748505172-1.0.1.1-1MdVUzIQIEnYE2TFHrGvfmBjvEdu24BHJJ6npfQ1tHtyT4jtTsysEF8r6ABi1bn5YPmcfxypmoy25i05KGdi1Dky7Q.OCL784nJLDuuOMsA; path=/; expires=Thu, 29-May-25 08:22:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=cePmLaqMDw4WvUixWXBT4GQcNVCThs1Zcius13Kmq0k-1748505172755-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94746a306a81a442-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:52:52,690 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:52:52,690 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:52:52,691 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:52:52,691 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:52:52,691 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:52:52,692 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:52:52,692 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http_proxy.py", line 316, in handle_async_request
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_async/http11.py", line 376, in start_tls
    return await self._stream.start_tls(ssl_context, server_hostname, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1538, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:52:52,696 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:52:52,697 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:52:52,698 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:52:52,698 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:52:52,699 - src.api.speech - DEBUG - [req_20250529155246_4869725376] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:52:52,699 - src.api.speech - DEBUG - [req_20250529155246_4869725376] 收到音频数据，大小: 489 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:52:52,699 - src.api.speech - INFO - [req_20250529155246_4869725376] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp7vcyswr4.mp3，大小: 489 字节
2025-05-29 15:52:52,700 - src.api.speech - DEBUG - [req_20250529155246_4869725376] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:52:52,700 - src.api.speech - DEBUG - [req_20250529155246_4869725376] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:52:52,701 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 6.1299秒
2025-05-29 15:53:10,192 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:53:10,193 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 8
2025-05-29 15:53:16,890 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:53:16,892 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.7000秒
2025-05-29 15:53:16,902 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:53:16,905 - src.api.speech - INFO - [req_20250529155316_4870938512] 收到MiniMax MCP TTS请求: text='明白了！那我们就把重点放在AI应用开发上。能具体说说你最近参与的一个AI应用项目吗？比如项目目标、你的具体职责、采用了哪些AI技术等。这样能帮助面试官更全面地了解你的实际经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:53:16,906 - src.api.speech - DEBUG - [req_20250529155316_4870938512] 开始调用语音服务: text_to_speech(text='明白了！那我们就把重点放在AI应用开发上。能具体说说你最近参...', voice='female-tianmei')
2025-05-29 15:53:16,906 - src.services.speech_service - INFO - 开始语音合成，文本长度: 88
2025-05-29 15:53:16,906 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:53:16,947 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '明白了！那我们就把重点放在AI应用开发上。能具体说说你最近参与的一个AI应用项目吗？比如项目目标、你的具体职责、采用了哪些AI技术等。这样能帮助面试官更全面地了解你的实际经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:53:16,951 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:53:16,952 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122552150>
2025-05-29 15:53:16,953 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:53:16,953 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:53:16,953 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:53:16,954 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:53:16,954 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:53:16,954 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:53:16,955 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x122554200> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:53:17,372 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12255e750>
2025-05-29 15:53:17,373 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:53:17,374 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:53:17,374 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:53:17,374 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:53:17,374 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:53:17,758 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:53:17 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_f92905285218a255e5c51ad907ae27a7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=scoVnpoE4wAr0cK9CF4p4bSqBG_CjE8iI2uquwEOE18-1748505197-1.0.1.1-WH6vosDujL18DMkrUf2u5kdt.IW5jSRN66PD26AkNH_xY1MpVx7iY6HHZii9RQh1MAXFedfHMg8JnPvO33ufWYMPF.pDljakHwex.ZWEfkQ; path=/; expires=Thu, 29-May-25 08:23:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Fo58Nk16c8DKlvvLrnxRmaBmD40IiOiq.Y7Fe83Of4A-1748505197866-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94746acd4fe4fcf2-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:53:17,759 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:53:17,760 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:53:17,760 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:53:17,760 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:53:17,761 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:53:17,761 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:53:17,761 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:53:17,762 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:53:17,762 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:53:17,763 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:53:17,763 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:53:17,763 - src.api.speech - DEBUG - [req_20250529155316_4870938512] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:53:17,763 - src.api.speech - DEBUG - [req_20250529155316_4870938512] 收到音频数据，大小: 491 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:53:17,765 - src.api.speech - INFO - [req_20250529155316_4870938512] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpejmve4kz.mp3，大小: 491 字节
2025-05-29 15:53:17,765 - src.api.speech - DEBUG - [req_20250529155316_4870938512] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:53:17,765 - src.api.speech - DEBUG - [req_20250529155316_4870938512] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:53:17,767 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8652秒
2025-05-29 15:56:00,412 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:56:00,412 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:56:00,714 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:56:00,984 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:56:00,984 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:56:01,012 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:56:01,012 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:56:01,013 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:56:01,013 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:56:01,013 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:56:01,013 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:56:03,370 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:56:03,370 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11600e810>
2025-05-29 15:56:03,370 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:56:03,371 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:56:03,371 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:56:03,371 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:56:03,371 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:56:03,371 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:56:03,372 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x115ccc560> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:56:03,660 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11600eed0>
2025-05-29 15:56:03,661 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:56:03,662 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:56:03,662 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:56:03,662 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:56:03,662 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:56:03,821 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:56:03 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700108-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'35'), (b'X-Timer', b'S1748505364.935528,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'78feb6f45abe7ebbebc8c3530e4ae2196695a4e5'), (b'Expires', b'Thu, 29 May 2025 08:01:03 GMT'), (b'Source-Age', b'274')])
2025-05-29 15:56:03,824 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:56:03,824 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:56:03,863 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:56:03,864 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:56:03,864 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:56:04,481 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:56:05,731 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:56:05,767 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:56:05,773 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:56:06,139 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:56:06,185 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:56:06,203 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:56:06,204 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:57:00,093 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:57:00,093 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:57:00,335 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:57:00,532 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:57:00,532 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:57:00,560 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:57:00,560 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:57:00,560 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:57:00,561 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:57:00,561 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:57:00,561 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:57:02,396 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:57:02,396 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111cda8d0>
2025-05-29 15:57:02,396 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:57:02,397 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:57:02,397 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:57:02,397 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:57:02,397 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:57:02,397 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:57:02,398 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x111998560> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:57:02,689 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111cdafd0>
2025-05-29 15:57:02,689 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:57:02,690 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:57:02,690 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:57:02,691 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:57:02,691 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:57:02,849 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:57:02 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700060-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'6'), (b'X-Timer', b'S1748505423.962638,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b37944d621898b4a486447d02d7aeee8ac8c0160'), (b'Expires', b'Thu, 29 May 2025 08:02:02 GMT'), (b'Source-Age', b'33')])
2025-05-29 15:57:02,852 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:57:02,852 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:57:02,896 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:57:02,896 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:57:02,897 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:57:03,412 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:57:04,132 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:57:04,159 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:57:04,164 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:57:04,410 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:57:04,447 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:57:04,462 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:57:04,462 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:58:22,044 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 15:58:22,044 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 15:58:22,784 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 15:58:23,225 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 15:58:23,226 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 15:58:23,277 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 15:58:23,277 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 15:58:23,278 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 15:58:23,278 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 15:58:23,278 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 15:58:23,278 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 15:58:25,901 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 15:58:25,917 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112ce6810>
2025-05-29 15:58:25,918 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:25,922 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:25,922 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:58:25,922 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:25,922 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:25,923 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:58:25,923 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1129a4680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 15:58:26,220 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112cdfc10>
2025-05-29 15:58:26,220 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 15:58:26,220 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:26,220 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 15:58:26,220 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:26,221 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 15:58:26,382 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 07:58:26 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700047-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'18'), (b'X-Timer', b'S1748505506.493934,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'f8ea0dbb45423c4f3f02a5828b45c0d212bf221c'), (b'Expires', b'Thu, 29 May 2025 08:03:26 GMT'), (b'Source-Age', b'116')])
2025-05-29 15:58:26,383 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 15:58:26,383 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 15:58:26,432 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:58:26,433 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:58:26,433 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:58:27,516 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 15:58:28,927 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 15:58:28,970 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:58:28,976 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 15:58:29,326 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 15:58:29,381 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 15:58:29,402 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 15:58:29,402 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 15:58:30,043 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:58:30,053 - src.api.speech - INFO - [req_20250529155830_4744101104] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:58:30,068 - src.api.speech - DEBUG - [req_20250529155830_4744101104] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 15:58:30,068 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 15:58:30,068 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:58:30,140 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:58:30,142 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:58:30,143 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11a9ce0d0>
2025-05-29 15:58:30,143 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:30,144 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:30,144 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:58:30,144 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:30,144 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:30,145 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:58:30,145 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ac48c20> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:58:30,394 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ac80d10>
2025-05-29 15:58:30,395 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:58:30,396 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:30,396 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:58:30,397 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:30,397 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:58:30,816 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:58:30 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_3dfce201e303976b67b5bc43995e01ca'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NYkhiySU4jMz9Ai1ixO6Y6KpR6o7Vm38u9oPwj6jtzE-1748505510-1.0.1.1-DXJtT0GgkvmuSrC__p.fHPhQxiKGaP6_r1cI67wFs9xlwNiaIPO74IVeQHgsMprJXjMD3srz78Xs7sOmVJQ40OQOhA7W0FVy.Jmu7uYzVEQ; path=/; expires=Thu, 29-May-25 08:28:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=MxzekZLPZSftikUeIIw0TjR9A5clQVfgNsHSlX3lG0U-1748505510845-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947472719951d79b-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:58:30,817 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:58:30,818 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:58:30,818 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:58:30,818 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:58:30,819 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:58:30,819 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:58:30,820 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:58:30,826 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:58:30,826 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:58:30,828 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:58:30,829 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:58:30,829 - src.api.speech - DEBUG - [req_20250529155830_4744101104] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:58:30,829 - src.api.speech - DEBUG - [req_20250529155830_4744101104] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:58:30,832 - src.api.speech - INFO - [req_20250529155830_4744101104] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9b8dtbss.mp3，大小: 317 字节
2025-05-29 15:58:30,832 - src.api.speech - DEBUG - [req_20250529155830_4744101104] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:58:30,832 - src.api.speech - DEBUG - [req_20250529155830_4744101104] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:58:30,835 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7920秒
2025-05-29 15:58:36,639 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:58:36,641 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 4
2025-05-29 15:58:42,173 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:58:42,174 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 5.5357秒
2025-05-29 15:58:42,178 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:58:42,179 - src.api.speech - INFO - [req_20250529155842_4744744224] 收到MiniMax MCP TTS请求: text='很高兴认识你！能具体说说你在AI应用开发方面的经验吗？比如你参与过哪些项目，使用过哪些技术栈？这样可以帮助面试官更好地了解你的专业背景。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:58:42,179 - src.api.speech - DEBUG - [req_20250529155842_4744744224] 开始调用语音服务: text_to_speech(text='很高兴认识你！能具体说说你在AI应用开发方面的经验吗？比如你...', voice='female-tianmei')
2025-05-29 15:58:42,179 - src.services.speech_service - INFO - 开始语音合成，文本长度: 68
2025-05-29 15:58:42,179 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:58:42,215 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '很高兴认识你！能具体说说你在AI应用开发方面的经验吗？比如你参与过哪些项目，使用过哪些技术栈？这样可以帮助面试官更好地了解你的专业背景。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:58:42,216 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:58:42,217 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ab21610>
2025-05-29 15:58:42,217 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:42,218 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:42,218 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:58:42,218 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:42,218 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:58:42,219 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:58:42,219 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11acda2a0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:58:42,502 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11aa6e510>
2025-05-29 15:58:42,503 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:58:42,503 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:58:42,504 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:58:42,504 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:58:42,504 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:58:42,898 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:58:42 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_861e2ddf7ac7aed1e57347f08e80eed6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=G4W47QniNYLiJyi7a36yHzzvxnFI3rSXUeEFNS0vvBk-1748505522-1.0.1.1-0VKgnpMCGkM6bLxTLYUhDoCSGqtrbbnCGwufZP5wWO3B5ofRkteK0lihmhWCx0GUctJktSSCnvNNFUlHApJamTWPUx5QkM327fsO1LnySwA; path=/; expires=Thu, 29-May-25 08:28:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LW0xlKxvdTbUTFJMtEDbV8fjLeJYLqaHmNSThc0wXwE-1748505522999-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947472bd5cbe62f7-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:58:42,900 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:58:42,900 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:58:42,901 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:58:42,901 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:58:42,901 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:58:42,902 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:58:42,902 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:58:42,903 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:58:42,903 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:58:42,904 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:58:42,904 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:58:42,905 - src.api.speech - DEBUG - [req_20250529155842_4744744224] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:58:42,905 - src.api.speech - DEBUG - [req_20250529155842_4744744224] 收到音频数据，大小: 439 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:58:42,906 - src.api.speech - INFO - [req_20250529155842_4744744224] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpx37bq6cu.mp3，大小: 439 字节
2025-05-29 15:58:42,906 - src.api.speech - DEBUG - [req_20250529155842_4744744224] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:58:42,907 - src.api.speech - DEBUG - [req_20250529155842_4744744224] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:58:42,909 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7312秒
2025-05-29 15:59:06,205 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:59:06,207 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 6
2025-05-29 15:59:14,437 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:59:14,439 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 8.2347秒
2025-05-29 15:59:14,448 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:59:14,453 - src.api.speech - INFO - [req_20250529155914_4744750304] 收到MiniMax MCP TTS请求: text='好的，那让我们更聚焦一些。你最近参与的一个AI应用开发项目是什么？可以分享一下你在项目中承担的具体角色，以及使用了哪些关键技术吗？这样能帮助我们更清楚地了解你的实际经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:59:14,454 - src.api.speech - DEBUG - [req_20250529155914_4744750304] 开始调用语音服务: text_to_speech(text='好的，那让我们更聚焦一些。你最近参与的一个AI应用开发项目是...', voice='female-tianmei')
2025-05-29 15:59:14,454 - src.services.speech_service - INFO - 开始语音合成，文本长度: 85
2025-05-29 15:59:14,454 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:59:14,541 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '好的，那让我们更聚焦一些。你最近参与的一个AI应用开发项目是什么？可以分享一下你在项目中承担的具体角色，以及使用了哪些关键技术吗？这样能帮助我们更清楚地了解你的实际经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:59:14,542 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:59:14,543 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ac9bfd0>
2025-05-29 15:59:14,543 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:59:14,544 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:59:14,544 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:59:14,544 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:59:14,544 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:59:14,545 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:59:14,545 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11acda600> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:59:14,851 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ac99910>
2025-05-29 15:59:14,852 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:59:14,852 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:59:14,853 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:59:14,853 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:59:14,853 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:59:15,121 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:59:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_f8d16d848316ac8025ae34fa8d279fae'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_W9.TeBoE1GwjNxBZoStM2B_Rah5RUe0tKXwoBJYlhE-1748505555-1.0.1.1-UeApcqSYxS.JIQetUVfUYQzUBM4IARhFc2zoVCWMK91nwAaXjiPIVttqjjX0iQ8Qr0A6FkwQbK9Zv8D63PczVqZnjfwyc3.z5ndvGtTlpLo; path=/; expires=Thu, 29-May-25 08:29:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=wuqSyi6mYH1asRKKSD8Kx2Z.86jIq.t.5g2eDHo.IMc-1748505555254-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947473876cb5eb88-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:59:15,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:59:15,122 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:59:15,122 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:59:15,122 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:59:15,122 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:59:15,123 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:59:15,123 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:59:15,123 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:59:15,123 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:59:15,124 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:59:15,124 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:59:15,124 - src.api.speech - DEBUG - [req_20250529155914_4744750304] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:59:15,124 - src.api.speech - DEBUG - [req_20250529155914_4744750304] 收到音频数据，大小: 490 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:59:15,124 - src.api.speech - INFO - [req_20250529155914_4744750304] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp0h5hx5e9.mp3，大小: 490 字节
2025-05-29 15:59:15,125 - src.api.speech - DEBUG - [req_20250529155914_4744750304] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:59:15,125 - src.api.speech - DEBUG - [req_20250529155914_4744750304] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:59:15,125 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.6787秒
2025-05-29 15:59:25,863 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/deepseek/chat | 客户端: 127.0.0.1
2025-05-29 15:59:25,865 - src.services.ai.deepseek_service - INFO - 调用 DeepSeek API 生成回答，消息数量: 8
2025-05-29 15:59:31,949 - src.services.ai.deepseek_service - INFO - DeepSeek API 调用成功
2025-05-29 15:59:31,952 - interview-gpt.request - INFO - 请求完成: POST /api/deepseek/chat | 状态码: 200 | 处理时间: 6.0881秒
2025-05-29 15:59:31,958 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 15:59:31,961 - src.api.speech - INFO - [req_20250529155931_4744745184] 收到MiniMax MCP TTS请求: text='听起来是个很有趣的项目！在CREW AI项目中，你主要负责哪些具体工作呢？比如是模型开发、数据处理，还是系统集成？另外，你们使用了哪些AI技术框架或工具？' voice_id=None interviewer_type='female-tianmei'
2025-05-29 15:59:31,961 - src.api.speech - DEBUG - [req_20250529155931_4744745184] 开始调用语音服务: text_to_speech(text='听起来是个很有趣的项目！在CREW AI项目中，你主要负责哪...', voice='female-tianmei')
2025-05-29 15:59:31,961 - src.services.speech_service - INFO - 开始语音合成，文本长度: 77
2025-05-29 15:59:31,961 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 15:59:32,007 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '听起来是个很有趣的项目！在CREW AI项目中，你主要负责哪些具体工作呢？比如是模型开发、数据处理，还是系统集成？另外，你们使用了哪些AI技术框架或工具？', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 15:59:32,008 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 15:59:32,008 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ac81bd0>
2025-05-29 15:59:32,008 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:59:32,009 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:59:32,009 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 15:59:32,009 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:59:32,009 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 15:59:32,009 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 15:59:32,009 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11acda180> server_hostname='api.openai.com' timeout=5.0
2025-05-29 15:59:32,239 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ad14150>
2025-05-29 15:59:32,239 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 15:59:32,240 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 15:59:32,240 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 15:59:32,241 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 15:59:32,241 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 15:59:32,665 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 07:59:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_1fae3063934e306cedce40294cc60b7e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=zpg4zF3Lo7N5NZC28TjtITW5L.GzuHC2DGqAQbia76g-1748505572-1.0.1.1-BUlP0hl97KUrp2xWX_G_NfMjfiBrhcPLhmlFwB0KlzQR_t1s9ZnK73NtJXobsEXJRYNHjO6QOqlcFPlgHhFHu2obVNqHcGFU3gXCwT9y7Jc; path=/; expires=Thu, 29-May-25 08:29:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=UNQI.NruMwTEk2zBH526hFgsAFFASb3qeINRd2BVY2s-1748505572737-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'947473f419c2e371-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 15:59:32,667 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 15:59:32,667 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 15:59:32,667 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 15:59:32,668 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 15:59:32,668 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 15:59:32,668 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 15:59:32,669 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 15:59:32,670 - openai._base_client - DEBUG - Not retrying
2025-05-29 15:59:32,670 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 15:59:32,671 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 15:59:32,671 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 15:59:32,671 - src.api.speech - DEBUG - [req_20250529155931_4744745184] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 15:59:32,671 - src.api.speech - DEBUG - [req_20250529155931_4744745184] 收到音频数据，大小: 452 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 15:59:32,673 - src.api.speech - INFO - [req_20250529155931_4744745184] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpqnmyyf3u.mp3，大小: 452 字节
2025-05-29 15:59:32,673 - src.api.speech - DEBUG - [req_20250529155931_4744745184] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 15:59:32,673 - src.api.speech - DEBUG - [req_20250529155931_4744745184] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 15:59:32,675 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7167秒
2025-05-29 16:03:21,714 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:06:15,401 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:06:37,806 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:06:37,808 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0020秒
2025-05-29 16:06:37,812 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:06:37,821 - src.api.speech - INFO - [req_20250529160637_4744743744] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:06:37,822 - src.api.speech - DEBUG - [req_20250529160637_4744743744] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:06:37,823 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:06:37,824 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:06:37,886 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:06:37,887 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:06:37,888 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ad19550>
2025-05-29 16:06:37,888 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:06:37,888 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:06:37,888 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:06:37,889 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:06:37,889 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:06:37,889 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:06:37,889 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11acda960> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:06:38,171 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ad18990>
2025-05-29 16:06:38,171 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:06:38,172 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:06:38,172 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:06:38,172 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:06:38,172 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:06:38,679 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:06:38 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_185503f357bd8a743448772c65156e3b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=2glrccFr0oqRcAbdXlgUp5vPXFCzSO8XCE779a3PTS8-1748505998-1.0.1.1-bBNDgllZ8eVFg_f7ZnPFqoayVnLu.TZMn6tumf81GIsMuWpUzoHWsVkp66DeuONKcWtswdcI8ZCoBT_rd.ZLqZZWZuJGXFDL5wZCli2U0z4; path=/; expires=Thu, 29-May-25 08:36:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ksXAANuP.J.mFAC5R4r07z0Mw9vQDwM3JgUswyKZPFo-1748505998687-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94747e5a1d6f89a4-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:06:38,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:06:38,680 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:06:38,681 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:06:38,681 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:06:38,681 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:06:38,682 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:06:38,682 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:06:38,683 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:06:38,683 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:06:38,683 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:06:38,683 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:06:38,684 - src.api.speech - DEBUG - [req_20250529160637_4744743744] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:06:38,684 - src.api.speech - DEBUG - [req_20250529160637_4744743744] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:06:38,685 - src.api.speech - INFO - [req_20250529160637_4744743744] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpk6_akw9h.mp3，大小: 317 字节
2025-05-29 16:06:38,686 - src.api.speech - DEBUG - [req_20250529160637_4744743744] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:06:38,686 - src.api.speech - DEBUG - [req_20250529160637_4744743744] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:06:38,687 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8759秒
2025-05-29 16:06:52,692 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:06:59,473 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:06:59,518 - src.api.speech - INFO - [req_20250529160659_4744748624] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:06:59,518 - src.api.speech - DEBUG - [req_20250529160659_4744748624] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:06:59,519 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:06:59,519 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:06:59,589 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:06:59,590 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:06:59,590 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ad3b490>
2025-05-29 16:06:59,591 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:06:59,591 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:06:59,591 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:06:59,591 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:06:59,592 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:06:59,592 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:06:59,592 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11acdaf00> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:07:00,084 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ad3bb50>
2025-05-29 16:07:00,085 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:07:00,085 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:07:00,085 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:07:00,086 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:07:00,086 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:07:00,506 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:07:00 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_f710dcfc161f9970af690b0e470b0baf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=jtp4wc.AnNyPJ8FSkv7qcEal1n7t70NXUV6AbmbT_d4-1748506020-1.0.1.1-YShOctV3LHxvcxIsthFrImmG3EeI9wdpn8000UGRSNgbdoNv5xdfp2APGHqNxKN11Qnz4TWxFDN98L28CcjhQ09X76oPzOjNeXlkkcbTre0; path=/; expires=Thu, 29-May-25 08:37:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=JVg49GgLHgwh_FIYCH71GSu9G.9jAcsA7HRl0Fj3XBI-1748506020599-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94747ee30b7fd4de-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:07:00,507 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:07:00,508 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:07:00,508 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:07:00,510 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:07:00,510 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:07:00,511 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:07:00,511 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:07:00,512 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:07:00,513 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:07:00,513 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:07:00,514 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:07:00,514 - src.api.speech - DEBUG - [req_20250529160659_4744748624] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:07:00,515 - src.api.speech - DEBUG - [req_20250529160659_4744748624] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:07:00,516 - src.api.speech - INFO - [req_20250529160659_4744748624] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9co4hbkk.mp3，大小: 317 字节
2025-05-29 16:07:00,517 - src.api.speech - DEBUG - [req_20250529160659_4744748624] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:07:00,517 - src.api.speech - DEBUG - [req_20250529160659_4744748624] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:07:00,518 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 1.0450秒
2025-05-29 16:09:37,904 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:09:37,905 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:09:38,207 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:09:38,497 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:09:38,497 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:09:38,525 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:09:38,525 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:09:38,525 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:09:38,525 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:09:38,525 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:09:38,525 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:09:41,118 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:09:41,118 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1175d6790>
2025-05-29 16:09:41,118 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:09:41,118 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:09:41,119 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:09:41,119 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:09:41,119 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:09:41,119 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:09:41,119 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x117294680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:09:41,419 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1175d6e50>
2025-05-29 16:09:41,420 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:09:41,420 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:09:41,420 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:09:41,421 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:09:41,421 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:09:41,582 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:09:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700066-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'24'), (b'X-Timer', b'S1748506182.663431,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'472f194d54c434461e8083a7bd1dc15130ae19e6'), (b'Expires', b'Thu, 29 May 2025 08:14:41 GMT'), (b'Source-Age', b'190')])
2025-05-29 16:09:41,586 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:09:41,586 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:09:41,627 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:09:41,627 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:09:41,627 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:09:42,242 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:09:43,552 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:09:43,615 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:09:43,621 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:09:43,975 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:09:44,023 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:09:44,053 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:09:44,053 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:10:01,444 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:10:01,445 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:10:01,724 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:10:01,968 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:10:01,968 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:10:01,998 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:10:01,998 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:10:01,998 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:10:01,998 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:10:01,998 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:10:01,998 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:10:04,121 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:10:04,121 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a902790>
2025-05-29 16:10:04,121 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:10:04,122 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:10:04,122 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:10:04,122 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:10:04,122 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:10:04,123 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:10:04,123 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a610680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:10:04,508 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a95a890>
2025-05-29 16:10:04,508 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:10:04,509 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:10:04,509 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:10:04,509 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:10:04,510 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:10:04,669 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:10:04 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700108-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'29'), (b'X-Timer', b'S1748506205.750322,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'33f2fa65a6bb18aeeb999302ded3b9395119d454'), (b'Expires', b'Thu, 29 May 2025 08:15:04 GMT'), (b'Source-Age', b'214')])
2025-05-29 16:10:04,676 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:10:04,676 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:10:04,711 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:10:04,712 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:10:04,712 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:10:05,414 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:10:06,986 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:10:07,027 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:10:07,032 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:10:07,524 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:10:07,569 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:10:07,591 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:10:07,591 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:10:09,597 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:12:42,552 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:12:42,552 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:12:42,859 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:12:43,184 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:12:43,185 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:12:43,214 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:12:43,215 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:12:43,215 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:12:43,215 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:12:43,215 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:12:43,215 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:12:45,678 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:12:45,678 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116bda790>
2025-05-29 16:12:45,679 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:12:45,679 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:12:45,679 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:12:45,679 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:12:45,679 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:12:45,680 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:12:45,680 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116898680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:12:45,997 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116bdaf10>
2025-05-29 16:12:45,997 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:12:45,998 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:12:45,999 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:12:45,999 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:12:45,999 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:12:46,161 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:12:46 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700086-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'10'), (b'X-Timer', b'S1748506366.239803,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'4c23ada001768c3ba3220dbcf3fc6964468c0ae2'), (b'Expires', b'Thu, 29 May 2025 08:17:46 GMT'), (b'Source-Age', b'75')])
2025-05-29 16:12:46,163 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:12:46,163 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:12:46,206 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:12:46,207 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:12:46,207 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:12:46,809 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:12:48,244 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:12:48,289 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:12:48,296 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:12:48,706 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:12:48,752 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:12:48,773 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:12:48,773 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:12:56,381 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:14:39,657 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:14:39,657 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:14:40,066 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:14:40,256 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:14:40,256 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:14:40,282 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:14:40,282 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:14:40,282 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:14:40,282 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:14:40,282 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:14:40,282 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:20:31,911 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:20:31,911 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:20:32,284 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:20:32,544 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:20:32,544 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:20:32,574 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:20:32,574 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:20:32,575 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:20:32,575 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:20:32,575 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:20:32,575 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:20:34,998 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:20:34,999 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f0075d0>
2025-05-29 16:20:34,999 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:20:34,999 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:20:35,000 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:20:35,000 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:20:35,000 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:20:35,000 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:20:35,000 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10eccc680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:20:35,292 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f00ee50>
2025-05-29 16:20:35,293 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:20:35,293 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:20:35,294 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:20:35,294 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:20:35,294 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:20:35,450 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:20:35 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700021-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'43'), (b'X-Timer', b'S1748506836.537803,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'58e0339554d797cb4499ab2f25724365d12237ff'), (b'Expires', b'Thu, 29 May 2025 08:25:35 GMT'), (b'Source-Age', b'243')])
2025-05-29 16:20:35,451 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:20:35,451 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:20:35,491 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:20:35,492 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:20:35,492 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:20:36,096 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:20:37,443 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:20:37,491 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:20:37,496 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:20:37,831 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:20:37,879 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:20:37,901 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:20:37,901 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:20:53,989 - src.api.endpoints.interview_process - ERROR - WebSocket错误: name 'get_or_create_interview_manager' is not defined
2025-05-29 16:23:12,290 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:23:12,290 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:23:12,609 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:23:12,875 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:23:12,876 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:23:12,905 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:23:12,905 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:23:12,906 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:23:12,906 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:23:12,906 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:23:12,906 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:23:15,232 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:23:15,233 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1188766d0>
2025-05-29 16:23:15,233 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:23:15,233 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:23:15,233 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:23:15,234 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:23:15,234 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:23:15,234 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:23:15,234 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x118524680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:23:15,681 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118876e90>
2025-05-29 16:23:15,682 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:23:15,683 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:23:15,683 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:23:15,684 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:23:15,684 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:23:15,841 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:23:15 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700090-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'21'), (b'X-Timer', b'S1748506996.925072,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'08608f32e50d8aa471f800d4636db23450ac9d75'), (b'Expires', b'Thu, 29 May 2025 08:28:15 GMT'), (b'Source-Age', b'104')])
2025-05-29 16:23:15,843 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:23:15,843 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:23:15,884 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:23:15,884 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:23:15,885 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:23:16,502 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:23:17,653 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:23:17,708 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:23:17,714 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:23:18,157 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:23:18,202 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:23:18,211 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:23:18,211 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:23:37,294 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:23:37,294 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:23:37,602 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:23:37,870 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:23:37,870 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:23:37,898 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:23:37,898 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:23:37,898 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:23:37,899 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:23:37,899 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:23:37,899 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:23:40,453 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:23:40,453 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:23:40,808 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:23:41,005 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:23:41,005 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:23:41,036 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:23:41,036 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:23:41,036 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:23:41,036 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:23:41,036 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:23:41,036 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:23:42,611 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:23:42,612 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:23:42,817 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:23:42,984 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:23:42,984 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:23:43,012 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:23:43,012 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:23:43,012 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:23:43,012 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:23:43,012 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:23:43,012 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:23:44,763 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:23:44,763 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118cd2710>
2025-05-29 16:23:44,764 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:23:44,764 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:23:44,764 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:23:44,764 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:23:44,764 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:23:44,765 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:23:44,765 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x118998680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:23:45,450 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118cdae10>
2025-05-29 16:23:45,450 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:23:45,451 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:23:45,451 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:23:45,451 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:23:45,451 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:23:45,610 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:23:45 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700065-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'29'), (b'X-Timer', b'S1748507026.693229,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'ff9e21d8e7f18efc4a9cc70c20f03bae39c0f7b5'), (b'Expires', b'Thu, 29 May 2025 08:28:45 GMT'), (b'Source-Age', b'134')])
2025-05-29 16:23:45,614 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:23:45,615 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:23:45,853 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:23:45,853 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:23:45,854 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:23:46,409 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:23:47,147 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:23:47,206 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:23:47,213 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:23:47,518 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:23:47,562 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:23:47,569 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:23:47,569 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:24:09,304 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:24:09,304 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:24:09,523 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:24:09,700 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:24:09,700 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:24:09,729 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:24:09,729 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:24:09,729 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:24:09,729 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:24:09,729 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:24:09,729 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:24:11,504 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:24:11,504 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1112fe710>
2025-05-29 16:24:11,504 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:24:11,505 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:24:11,505 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:24:11,505 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:24:11,505 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:24:11,505 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:24:11,505 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11100c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:24:11,955 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11135ef10>
2025-05-29 16:24:11,956 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:24:11,956 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:24:11,956 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:24:11,957 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:24:11,957 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:24:12,116 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:24:12 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700068-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'22'), (b'X-Timer', b'S1748507052.197092,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'7650f18de7834b9f2c9f01cc9eddb38072d49dfa'), (b'Expires', b'Thu, 29 May 2025 08:29:12 GMT'), (b'Source-Age', b'161')])
2025-05-29 16:24:12,119 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:24:12,119 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:24:12,157 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:24:12,158 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:24:12,158 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:24:12,687 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:24:13,435 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:24:13,474 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:24:13,479 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:24:13,728 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:24:13,768 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:24:13,774 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:24:13,775 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:24:14,133 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 16:24:14,135 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0020秒
2025-05-29 16:24:31,901 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/interview-process/9230 | 客户端: 127.0.0.1
2025-05-29 16:24:31,902 - interview-gpt.request - INFO - 请求完成: GET /api/interview-process/9230 | 状态码: 404 | 处理时间: 0.0015秒
2025-05-29 16:25:16,753 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:25:16,753 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:25:16,965 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:25:17,136 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:25:17,136 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:25:17,166 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:25:17,166 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:25:17,166 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:25:17,166 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:25:17,166 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:25:17,166 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:25:18,940 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:25:18,941 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ddd6790>
2025-05-29 16:25:18,941 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:18,941 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:18,941 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:25:18,942 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:18,942 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:18,942 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:25:18,942 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10da94680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:25:19,230 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ddd6f10>
2025-05-29 16:25:19,230 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:25:19,231 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:19,231 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:25:19,231 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:19,231 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:25:19,392 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:25:19 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700020-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'43'), (b'X-Timer', b'S1748507119.472391,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'5f5e49e51bffb595dddb8970091242666ad0e954'), (b'Expires', b'Thu, 29 May 2025 08:30:19 GMT'), (b'Source-Age', b'227')])
2025-05-29 16:25:19,395 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:25:19,396 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:25:19,435 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:25:19,435 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:25:19,436 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:25:19,961 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:25:20,734 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:25:20,775 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:20,780 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:21,037 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:25:21,092 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:25:21,101 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:25:21,101 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:25:29,001 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:25:29,001 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:25:29,219 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:25:29,407 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:25:29,407 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:25:29,436 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:25:29,436 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:25:29,436 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:25:29,436 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:25:29,436 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:25:29,436 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:25:31,211 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:25:31,212 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1197ce810>
2025-05-29 16:25:31,212 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:31,212 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:31,212 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:25:31,212 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:31,212 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:31,213 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:25:31,213 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11948c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:25:31,502 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1197cef50>
2025-05-29 16:25:31,502 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:25:31,502 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:31,503 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:25:31,503 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:31,503 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:25:31,661 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:25:31 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700055-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'47'), (b'X-Timer', b'S1748507132.745105,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'b1ff6eff9f5275fb8f176c20b2aa7a2f8ce0392e'), (b'Expires', b'Thu, 29 May 2025 08:30:31 GMT'), (b'Source-Age', b'240')])
2025-05-29 16:25:31,664 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:25:31,664 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:25:31,707 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:25:31,707 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:25:31,708 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:25:32,240 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:25:32,988 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:25:33,031 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:33,035 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:33,283 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:25:33,322 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:25:33,329 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:25:33,329 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:25:40,518 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:25:40,518 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:25:40,745 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:25:40,919 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:25:40,919 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:25:40,965 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:25:40,966 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:25:40,966 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:25:40,966 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:25:40,966 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:25:40,966 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:25:42,759 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:25:42,760 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c383810>
2025-05-29 16:25:42,760 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:42,760 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:42,760 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:25:42,760 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:42,760 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:42,761 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:25:42,761 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c048680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:25:43,110 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c38b010>
2025-05-29 16:25:43,111 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:25:43,111 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:43,111 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:25:43,112 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:43,112 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:25:43,268 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:25:43 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700038-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'44'), (b'X-Timer', b'S1748507143.352299,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'4610527f7cec71d54ee63c12f6b10eeb2f0895e8'), (b'Expires', b'Thu, 29 May 2025 08:30:43 GMT'), (b'Source-Age', b'251')])
2025-05-29 16:25:43,269 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:25:43,270 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:25:43,314 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:25:43,314 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:25:43,314 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:25:43,835 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:25:44,594 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:25:44,637 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:44,643 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:44,918 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:25:44,970 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:25:44,977 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:25:44,977 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:25:51,393 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:25:51,393 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:25:51,619 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:25:51,841 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:25:51,842 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:25:51,891 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:25:51,891 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:25:51,891 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:25:51,891 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:25:51,892 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:25:51,892 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:25:53,887 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:25:53,888 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d38e710>
2025-05-29 16:25:53,888 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:53,888 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:53,889 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:25:53,889 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:53,889 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:25:53,889 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:25:53,889 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10d04c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:25:54,176 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d38eed0>
2025-05-29 16:25:54,176 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:25:54,176 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:25:54,176 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:25:54,177 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:25:54,177 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:25:54,334 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:25:54 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700107-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'49'), (b'X-Timer', b'S1748507154.416789,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'2ff44303cc7a66f5f54fbf61c682cd9ea34f4ce1'), (b'Expires', b'Thu, 29 May 2025 08:30:54 GMT'), (b'Source-Age', b'262')])
2025-05-29 16:25:54,335 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:25:54,335 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:25:54,376 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:25:54,377 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:25:54,377 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:25:54,927 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:25:55,723 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:25:55,770 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:25:55,776 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:26:06,402 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:26:06,402 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:26:06,647 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:26:06,832 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:26:06,832 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:26:06,863 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:26:06,863 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:26:06,863 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:26:06,863 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:26:06,863 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:26:06,863 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:26:08,655 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:26:08,656 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1113521d0>
2025-05-29 16:26:08,656 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:26:08,656 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:26:08,656 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:26:08,656 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:26:08,657 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:26:08,657 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:26:08,657 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x111018680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:26:09,016 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11135afd0>
2025-05-29 16:26:09,016 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:26:09,016 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:26:09,017 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:26:09,017 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:26:09,017 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:26:09,179 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:26:09 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700102-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'42'), (b'X-Timer', b'S1748507169.256900,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'381d8d1ba0b2c25ab93db48266bfaa7ccfe602b9'), (b'Expires', b'Thu, 29 May 2025 08:31:09 GMT'), (b'Source-Age', b'277')])
2025-05-29 16:26:09,180 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:26:09,180 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:26:09,220 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:26:09,220 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:26:09,220 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:26:09,733 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:26:10,466 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:26:10,505 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:26:10,510 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:26:10,762 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:26:10,802 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:26:10,807 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:26:10,807 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:26:11,019 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 16:26:11,020 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0014秒
2025-05-29 16:26:16,347 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/interview-process/9230/status | 客户端: 127.0.0.1
2025-05-29 16:26:16,349 - src.api.endpoints.interview_process - INFO - 获取面试状态: 面试ID=9230
2025-05-29 16:26:16,369 - src.middlewares.error_handler - WARNING - HTTP异常: 404 - 面试不存在: ID=9230
2025-05-29 16:26:16,369 - interview-gpt.request - INFO - 请求完成: GET /api/interview-process/9230/status | 状态码: 404 | 处理时间: 0.0227秒
2025-05-29 16:26:27,220 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/interviews | 客户端: 127.0.0.1
2025-05-29 16:26:27,222 - interview-gpt.request - INFO - 请求完成: POST /api/interviews | 状态码: 307 | 处理时间: 0.0013秒
2025-05-29 16:26:46,166 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/interviews/ | 客户端: 127.0.0.1
2025-05-29 16:26:46,167 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-05-29 16:26:46,167 - python_multipart.multipart - DEBUG - Calling on_header_field with data[50:69]
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_header_value with data[71:97]
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_part_data with data[101:118]
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_part_begin with no data
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_header_field with data[170:189]
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_header_value with data[191:219]
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_header_end with no data
2025-05-29 16:26:46,168 - python_multipart.multipart - DEBUG - Calling on_headers_finished with no data
2025-05-29 16:26:46,169 - python_multipart.multipart - DEBUG - Calling on_part_data with data[223:229]
2025-05-29 16:26:46,169 - python_multipart.multipart - DEBUG - Calling on_part_end with no data
2025-05-29 16:26:46,169 - python_multipart.multipart - DEBUG - Calling on_end with no data
2025-05-29 16:26:46,170 - src.api.endpoints.interviews - INFO - 创建面试会话: 职位=AI应用工程师, 难度=medium
2025-05-29 16:26:46,170 - src.services.interview_service - INFO - 创建面试会话服务: AI应用工程师, 难度=medium
2025-05-29 16:26:46,190 - interview-gpt.request - INFO - 请求完成: POST /api/interviews/ | 状态码: 200 | 处理时间: 0.0247秒
2025-05-29 16:26:51,488 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/interview-process/1/status | 客户端: 127.0.0.1
2025-05-29 16:26:51,490 - src.api.endpoints.interview_process - INFO - 获取面试状态: 面试ID=1
2025-05-29 16:26:51,501 - interview-gpt.request - INFO - 请求完成: GET /api/interview-process/1/status | 状态码: 200 | 处理时间: 0.0131秒
2025-05-29 16:27:06,732 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:27:06,733 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:27:07,166 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:27:07,423 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:27:07,423 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:27:07,453 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:27:07,453 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:27:07,453 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:27:07,453 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:27:07,453 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:27:07,453 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:27:09,977 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:27:09,977 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:27:10,182 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:27:10,353 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:27:10,353 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:27:10,387 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:27:10,387 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:27:10,387 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:27:10,387 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:27:10,387 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:27:10,387 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:27:12,431 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:27:12,432 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ed66750>
2025-05-29 16:27:12,432 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:27:12,432 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:27:12,433 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:27:12,433 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:27:12,433 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:27:12,433 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:27:12,433 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10ea24680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:27:12,811 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ed66ed0>
2025-05-29 16:27:12,811 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:27:12,811 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:27:12,811 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:27:12,811 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:27:12,812 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:27:12,971 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:27:13 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700078-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'4'), (b'X-Timer', b'S1748507233.052914,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'9bf95c48d1b252fc256ead521abf3f3f18d18ac6'), (b'Expires', b'Thu, 29 May 2025 08:32:13 GMT'), (b'Source-Age', b'41')])
2025-05-29 16:27:12,974 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:27:12,974 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:27:13,011 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:27:13,011 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:27:13,011 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:27:13,621 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:27:14,891 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:27:14,949 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:27:14,954 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:27:15,360 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:27:15,410 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:27:15,428 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:27:15,428 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:27:20,905 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 1
2025-05-29 16:27:20,905 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 1
2025-05-29 16:27:20,922 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 1, Found existing_messages: 2
2025-05-29 16:27:20,922 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=1
2025-05-29 16:27:27,444 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:27:27,444 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:27:27,699 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:27:27,899 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:27:27,899 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:27:27,940 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:27:27,940 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:27:27,940 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:27:27,940 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:27:27,940 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:27:27,940 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:27:30,169 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:27:30,170 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1163ce810>
2025-05-29 16:27:30,170 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:27:30,170 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:27:30,170 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:27:30,171 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:27:30,171 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:27:30,171 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:27:30,171 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11608c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:27:30,464 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1163cef90>
2025-05-29 16:27:30,465 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:27:30,465 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:27:30,466 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:27:30,466 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:27:30,466 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:27:30,625 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:27:30 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700021-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'14'), (b'X-Timer', b'S1748507251.705380,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd4f289d5b1dcbe95a11337e05df60a12f8ffaa89'), (b'Expires', b'Thu, 29 May 2025 08:32:30 GMT'), (b'Source-Age', b'58')])
2025-05-29 16:27:30,628 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:27:30,628 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:27:30,668 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:27:30,668 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:27:30,669 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:27:31,279 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:27:32,413 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:27:32,467 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:27:32,473 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:27:32,813 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:27:32,860 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:27:32,869 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:27:32,869 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:29:27,997 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:29:27,997 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:29:28,220 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:29:28,415 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:29:28,416 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:29:28,444 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:29:28,444 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:29:28,444 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:29:28,444 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:29:28,444 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:29:28,444 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:29:30,592 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:29:30,593 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a38e750>
2025-05-29 16:29:30,593 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:29:30,593 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:29:30,593 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:29:30,594 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:29:30,594 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:29:30,594 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:29:30,595 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a04c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:29:30,896 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a38ee90>
2025-05-29 16:29:30,896 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:29:30,897 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:29:30,897 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:29:30,897 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:29:30,898 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:29:31,132 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:29:31 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700044-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'28'), (b'X-Timer', b'S1748507371.137615,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'2617f083c502f8b6bb3bf35dcb8edc485d0e43d5'), (b'Expires', b'Thu, 29 May 2025 08:34:31 GMT'), (b'Source-Age', b'179')])
2025-05-29 16:29:31,161 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:29:31,161 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:29:31,169 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:29:31,169 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:29:31,169 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:29:32,196 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:29:33,537 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:29:33,587 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:29:33,593 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:29:33,900 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:29:33,949 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:29:33,959 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:29:33,959 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:29:34,618 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:29:34,618 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:29:34,673 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:29:48,179 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:29:48,182 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0036秒
2025-05-29 16:29:48,186 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:29:48,191 - src.api.speech - INFO - [req_20250529162948_4869282368] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:29:48,192 - src.api.speech - DEBUG - [req_20250529162948_4869282368] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:29:48,193 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:29:48,194 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:29:48,370 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:29:48,372 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:29:48,373 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1222af750>
2025-05-29 16:29:48,373 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:29:48,374 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:29:48,374 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:29:48,374 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:29:48,374 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:29:48,374 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:29:48,375 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x12235ae70> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:29:48,666 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12241d790>
2025-05-29 16:29:48,667 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:29:48,668 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:29:48,668 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:29:48,668 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:29:48,669 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:29:49,004 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:29:49 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_feb474e9ea405722d0eaa91a607f8661'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=8k3bFCoBf.eqDVWrYdE4cEglzKdA_NpJynDBRkbdHIE-1748507389-1.0.1.1-XzsEOwxHrf83r3CzcYiJprocIEkZjyTU92aVhKZ.xeKLZDO2Cx9e3EfKa2Y4BaBAU.3vwrdbcnOYP6TRhIoJbcIVfOOJmNd9OxMzp.W2dPA; path=/; expires=Thu, 29-May-25 08:59:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Z699HMkz_CTVTGJQjYtl6E51fr1xN6V2oE8pO5ptFPI-1748507389081-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474a04c789de61c-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:29:49,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:29:49,007 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:29:49,008 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:29:49,008 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:29:49,009 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:29:49,009 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:29:49,010 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:29:49,016 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:29:49,016 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:29:49,018 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:29:49,018 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:29:49,018 - src.api.speech - DEBUG - [req_20250529162948_4869282368] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:29:49,019 - src.api.speech - DEBUG - [req_20250529162948_4869282368] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:29:49,020 - src.api.speech - INFO - [req_20250529162948_4869282368] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp1eq77n91.mp3，大小: 317 字节
2025-05-29 16:29:49,021 - src.api.speech - DEBUG - [req_20250529162948_4869282368] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:29:49,021 - src.api.speech - DEBUG - [req_20250529162948_4869282368] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:29:49,023 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8372秒
2025-05-29 16:29:57,284 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 16:29:57,288 - src.api.endpoints.interview_process - ERROR - WebSocket错误: (sqlite3.ProgrammingError) Error binding parameter 2: type 'dict' is not supported
[SQL: INSERT INTO messages (interview_id, content, sender_type, interviewer_id, timestamp) VALUES (?, ?, ?, ?, ?)]
[parameters: (9230, {'type': 'message', 'content': '我想做AI应用工程师', 'sender_type': 'user', 'interview_id': 9230, 'timestamp': '2025-05-29T08:29:57.283Z'}, 'user', None, '2025-05-29 08:29:57.288023')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-29 16:31:33,031 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:31:33,031 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:31:33,250 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:31:33,429 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:31:33,429 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:31:33,458 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:31:33,458 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:31:33,458 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:31:33,458 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:31:33,458 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:31:33,459 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:31:35,279 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:31:35,279 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1150727d0>
2025-05-29 16:31:35,280 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:31:35,280 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:31:35,280 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:31:35,280 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:31:35,280 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:31:35,281 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:31:35,281 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114d20680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:31:35,597 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115072e50>
2025-05-29 16:31:35,598 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:31:35,598 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:31:35,599 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:31:35,599 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:31:35,599 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:31:35,774 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:31:35 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700078-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'2'), (b'X-Timer', b'S1748507496.806737,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'52bfa7ebda13b75ee55810d0b666d3efe881e309'), (b'Expires', b'Thu, 29 May 2025 08:36:35 GMT'), (b'Source-Age', b'3')])
2025-05-29 16:31:35,775 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:31:35,775 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:31:35,917 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:31:35,917 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:31:35,918 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:31:36,512 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:31:37,804 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:31:37,860 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:31:37,866 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:31:38,205 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:31:38,245 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:31:38,250 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:31:38,251 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:32:14,399 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:32:14,399 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:32:14,420 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:33:03,319 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:33:03,319 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:33:03,635 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:33:03,909 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:33:03,909 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:33:03,942 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:33:03,942 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:33:03,942 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:33:03,942 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:33:03,942 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:33:03,942 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:33:06,312 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:33:06,313 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1186cf810>
2025-05-29 16:33:06,313 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:06,313 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:06,314 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:33:06,314 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:06,314 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:06,314 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:33:06,314 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x118394680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:33:06,605 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1186d6fd0>
2025-05-29 16:33:06,605 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:33:06,605 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:06,606 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:33:06,606 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:06,606 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:33:06,769 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:33:06 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700101-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'13'), (b'X-Timer', b'S1748507587.811273,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'48afd883cee38a2225b4268c29d1eebad7d297cf'), (b'Expires', b'Thu, 29 May 2025 08:38:06 GMT'), (b'Source-Age', b'94')])
2025-05-29 16:33:06,770 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:33:06,771 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:33:06,812 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:33:06,812 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:33:06,812 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:33:07,426 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:33:08,622 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:33:08,676 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:33:08,682 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:33:09,044 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:33:09,096 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:33:09,104 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:33:09,105 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:33:19,196 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:33:19,197 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:33:19,225 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:33:21,709 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:33:21,711 - src.api.speech - INFO - [req_20250529163321_4838602496] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:33:21,712 - src.api.speech - DEBUG - [req_20250529163321_4838602496] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:33:21,712 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:33:21,712 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:33:21,799 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:33:21,801 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:33:21,802 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1206fdc10>
2025-05-29 16:33:21,803 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:21,803 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:21,803 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:33:21,804 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:21,804 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:21,804 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:33:21,805 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x12063aba0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:33:22,083 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1206b1990>
2025-05-29 16:33:22,083 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:33:22,083 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:22,084 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:33:22,084 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:22,084 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:33:22,310 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 16:33:22,334 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-29 16:33:22,335 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-29 16:33:22,335 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-29 16:33:22,335 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 16:33:22,335 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 16:33:22,336 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 16:33:22,349 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 16:33:22,350 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 16:33:22,350 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 16:33:22,353 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 16:33:22,356 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1206f70d0>
2025-05-29 16:33:22,357 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:22,358 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:22,359 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:33:22,359 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:22,359 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:33:22,374 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:33:22,375 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1113e67b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 16:33:22,385 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:33:22 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_6284b3741ff9bee30f702252ec59801c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=eS9GUs8YR4SeDMY01LF_FYqax5e.F3wVdVfIH1CPNfc-1748507602-1.0.1.1-qMTS.VDktYXZVcfNk4T5X0EdAYRlG3D2u24lkAC1jTBBv1y6qIKq21GBMQjDk0HxH7ngVDcQJxmy0cU6_Ysd50ut_UkbVtXpflXwwNqDG4c; path=/; expires=Thu, 29-May-25 09:03:22 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=vxyIM6xUkxsjCF57CLeesvquLm3O6QyDvLz.sbVHkUw-1748507602435-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474a5823876e364-NRT'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:33:22,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:33:22,388 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:33:22,388 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:33:22,388 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:33:22,389 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:33:22,389 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:33:22,390 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:33:22,399 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:33:22,400 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:33:22,405 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:33:22,405 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:33:22,406 - src.api.speech - DEBUG - [req_20250529163321_4838602496] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:33:22,409 - src.api.speech - DEBUG - [req_20250529163321_4838602496] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:33:22,419 - src.api.speech - INFO - [req_20250529163321_4838602496] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmp9y30pf02.mp3，大小: 317 字节
2025-05-29 16:33:22,419 - src.api.speech - DEBUG - [req_20250529163321_4838602496] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:33:22,419 - src.api.speech - DEBUG - [req_20250529163321_4838602496] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:33:22,422 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.7134秒
2025-05-29 16:33:22,484 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120718090>
2025-05-29 16:33:22,484 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:33:22,485 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:33:22,485 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:33:22,485 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:33:22,485 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:33:22,553 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 08:33:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1748507600976; path=/'), (b'Set-Cookie', b'HWWAFSESID=171b27f953fc5671cc; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'035af6fa046aeb04b3f7e10ea9e8cf1c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 16:33:22,554 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 16:33:22,555 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:33:32,646 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:33:32,647 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:33:32,647 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:33:32,647 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 16:33:32,648 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 16:34:59,144 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:34:59,144 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:34:59,461 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:34:59,728 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:34:59,729 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:34:59,758 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:34:59,758 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:34:59,758 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:34:59,758 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:34:59,758 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:34:59,758 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:35:02,064 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:35:02,065 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b366610>
2025-05-29 16:35:02,066 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:02,066 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:02,066 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:35:02,067 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:02,067 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:02,067 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:35:02,067 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b014680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:35:02,458 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b366d90>
2025-05-29 16:35:02,459 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:35:02,459 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:02,459 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:35:02,460 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:02,460 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:35:02,620 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:35:02 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700042-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'30'), (b'X-Timer', b'S1748507703.662168,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0f66f3b4837588fc82b52834d96d9ba09a646493'), (b'Expires', b'Thu, 29 May 2025 08:40:02 GMT'), (b'Source-Age', b'210')])
2025-05-29 16:35:02,622 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:35:02,623 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:35:02,660 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:35:02,660 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:35:02,661 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:35:03,279 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:35:04,457 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:35:04,514 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:35:04,520 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:35:04,889 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:35:04,937 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:35:04,947 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:35:04,947 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:35:10,094 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:35:10,095 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:35:10,134 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:35:13,063 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:35:13,073 - src.api.speech - INFO - [req_20250529163513_4616954624] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:35:13,074 - src.api.speech - DEBUG - [req_20250529163513_4616954624] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:35:13,074 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:35:13,074 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:35:13,151 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:35:13,153 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:35:13,154 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1133753d0>
2025-05-29 16:35:13,155 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:13,155 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:13,155 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:35:13,156 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:13,156 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:13,156 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:35:13,156 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1132b2ba0> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:35:14,306 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 16:35:14,322 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-29 16:35:14,323 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-29 16:35:14,323 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-29 16:35:14,323 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 16:35:14,323 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 16:35:14,326 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 16:35:14,331 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 16:35:14,332 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 16:35:14,332 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 16:35:14,334 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 16:35:14,335 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11336f090>
2025-05-29 16:35:14,335 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:14,336 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:14,336 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:35:14,337 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:14,339 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:35:14,339 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:35:14,339 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10800e7b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 16:35:14,433 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113394490>
2025-05-29 16:35:14,434 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:35:14,435 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:14,435 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:35:14,436 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:14,436 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:35:14,492 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 08:35:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1748507710497; path=/'), (b'Set-Cookie', b'HWWAFSESID=6b170886820ca9d3de; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'cc500634888e3f02b2bb7f8181dd7136'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 16:35:14,493 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 16:35:14,493 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:35:14,553 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113375890>
2025-05-29 16:35:14,554 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:35:14,555 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:35:14,555 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:35:14,556 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:35:14,556 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:35:15,407 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:35:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_3f27a267101d5fc24ae11a04677f2fe8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_wr4xna3wlxF39hWeoF8afAbrLRoBUh2oBK1QLKO14A-1748507715-1.0.1.1-_hu8hh0DKJzQP5cc0qS8dij1hZR2NggbwKSUaVB1Rrcbx4Y1_E_SkpC9u8jvKh91axx6fuBNCqVi9NnjPfyxz4DbeYDjrmcKwCnIt66dDnY; path=/; expires=Thu, 29-May-25 09:05:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Z.UYrvm6Ft83qSVjZ06OjHCc6jcTXPgALJAHA5t.2OU-1748507715441-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474a8413ffdfd18-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:35:15,408 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:35:15,409 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:35:15,409 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:35:15,410 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:35:15,410 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:35:15,410 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:35:15,410 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:35:15,416 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:35:15,417 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:35:15,418 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:35:15,418 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:35:15,418 - src.api.speech - DEBUG - [req_20250529163513_4616954624] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:35:15,419 - src.api.speech - DEBUG - [req_20250529163513_4616954624] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:35:15,420 - src.api.speech - INFO - [req_20250529163513_4616954624] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpdtp_hawx.mp3，大小: 317 字节
2025-05-29 16:35:15,420 - src.api.speech - DEBUG - [req_20250529163513_4616954624] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:35:15,420 - src.api.speech - DEBUG - [req_20250529163513_4616954624] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:35:15,422 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 2.3587秒
2025-05-29 16:35:23,988 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:35:23,988 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:35:23,989 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:35:23,990 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 16:35:23,990 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 16:37:47,686 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:37:47,686 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:37:47,688 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:37:51,163 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:37:51,164 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:37:51,168 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:38:22,940 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:38:22,940 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:38:22,942 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:38:26,147 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:38:26,148 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:38:26,149 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:38:38,102 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:38:38,102 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:38:38,103 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:38:41,157 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:38:41,158 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:38:41,161 - src.services.interview.interview_manager - ERROR - 生成评估失败，面试不存在: ID=9230
2025-05-29 16:39:17,509 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/interview-process/9230/status | 客户端: 127.0.0.1
2025-05-29 16:39:17,511 - src.api.endpoints.interview_process - INFO - 获取面试状态: 面试ID=9230
2025-05-29 16:39:17,520 - interview-gpt.request - INFO - 请求完成: GET /api/interview-process/9230/status | 状态码: 200 | 处理时间: 0.0109秒
2025-05-29 16:39:47,497 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:39:47,497 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:39:47,818 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:39:48,075 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:39:48,075 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:39:48,107 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:39:48,107 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:39:48,107 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:39:48,107 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:39:48,107 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:39:48,107 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:39:50,980 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:39:50,981 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1149b6290>
2025-05-29 16:39:50,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:39:50,982 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:39:50,982 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:39:50,982 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:39:50,982 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:39:50,982 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:39:50,983 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11467c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:39:51,272 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1149bee50>
2025-05-29 16:39:51,272 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:39:51,273 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:39:51,273 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:39:51,273 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:39:51,274 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:39:51,434 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:39:51 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700088-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'33'), (b'X-Timer', b'S1748507991.471238,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'74740c7fed5adf27bb7aca76701042dc59e7d2b4'), (b'Expires', b'Thu, 29 May 2025 08:44:51 GMT'), (b'Source-Age', b'198')])
2025-05-29 16:39:51,436 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:39:51,436 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:39:51,622 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:39:51,623 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:39:51,623 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:39:52,196 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:39:53,547 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:39:53,621 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:39:53,626 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:39:54,052 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:39:54,104 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:39:54,113 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:39:54,114 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:40:28,993 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:40:28,994 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:40:29,029 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:40:29,029 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:40:38,466 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:40:38,471 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.0056秒
2025-05-29 16:40:38,476 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:40:38,477 - src.api.speech - INFO - [req_20250529164038_4774378016] 收到MiniMax MCP TTS请求: text='请先简单介绍一下你自己，包括你的技术背景和工作经验。' voice_id=None interviewer_type='female-tianmei'
2025-05-29 16:40:38,477 - src.api.speech - DEBUG - [req_20250529164038_4774378016] 开始调用语音服务: text_to_speech(text='请先简单介绍一下你自己，包括你的技术背景和工作经验。...', voice='female-tianmei')
2025-05-29 16:40:38,477 - src.services.speech_service - INFO - 开始语音合成，文本长度: 26
2025-05-29 16:40:38,477 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:40:38,583 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '请先简单介绍一下你自己，包括你的技术背景和工作经验。', 'model': 'tts-1', 'voice': 'female-tianmei', 'speed': 1.0}}
2025-05-29 16:40:38,588 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:40:38,592 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11c9f2990>
2025-05-29 16:40:38,593 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:40:38,594 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:40:38,594 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:40:38,595 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:40:38,595 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:40:38,596 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:40:38,596 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11c923140> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:40:38,925 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ca00790>
2025-05-29 16:40:38,925 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:40:38,926 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:40:38,926 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:40:38,926 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:40:38,926 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:40:39,324 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:40:39 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_21d8658d8a4ec73e2d2cb8d843585754'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=a3mqt4fsOCMFIB2SF2meUCRrruKCJAhLcvsICgSOf5o-1748508039-1.0.1.1-MHqEjOph7Hbdo6lME0hiT6WngReTB_oxRX3402tmBAgGRZR506YKL.o1wjWqLXa4mKpb5sXJ_rkVoiur_46Pa4xaCRmNQ0K3IobWvjpcNAs; path=/; expires=Thu, 29-May-25 09:10:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=h7Zgf3o7ozq475G6RiJkjESYfSKEEwYIzEKrC2dHavI-1748508039370-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474b02c7b1cf886-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:40:39,325 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:40:39,325 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:40:39,325 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:40:39,325 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:40:39,326 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:40:39,326 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:40:39,326 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:40:39,331 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:40:39,331 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:40:39,332 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:40:39,332 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:40:39,333 - src.api.speech - DEBUG - [req_20250529164038_4774378016] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:40:39,333 - src.api.speech - DEBUG - [req_20250529164038_4774378016] 收到音频数据，大小: 317 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:40:39,335 - src.api.speech - INFO - [req_20250529164038_4774378016] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpqcu87xtz.mp3，大小: 317 字节
2025-05-29 16:40:39,335 - src.api.speech - DEBUG - [req_20250529164038_4774378016] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:40:39,335 - src.api.speech - DEBUG - [req_20250529164038_4774378016] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:40:39,336 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.8608秒
2025-05-29 16:42:54,549 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:42:54,550 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:42:54,559 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:42:54,559 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:42:58,164 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:42:58,165 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:42:58,170 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:42:58,170 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:43:11,117 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/speech/minimax-mcp/text-to-speech | 客户端: 127.0.0.1
2025-05-29 16:43:11,118 - src.api.speech - INFO - [req_20250529164311_4775499872] 收到MiniMax MCP TTS请求: text='测试' voice_id=None interviewer_type='technical'
2025-05-29 16:43:11,119 - src.api.speech - DEBUG - [req_20250529164311_4775499872] 开始调用语音服务: text_to_speech(text='测试...', voice='technical')
2025-05-29 16:43:11,119 - src.services.speech_service - INFO - 开始语音合成，文本长度: 2
2025-05-29 16:43:11,119 - src.services.speech_service - WARNING - MiniMax MCP合成失败: 'int' object is not subscriptable
2025-05-29 16:43:11,153 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream'}, 'files': None, 'json_data': {'input': '测试', 'model': 'tts-1', 'voice': 'technical', 'speed': 1.0}}
2025-05-29 16:43:11,154 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5.0 socket_options=None
2025-05-29 16:43:11,154 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ca627d0>
2025-05-29 16:43:11,155 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:43:11,155 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:43:11,156 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:43:11,156 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:43:11,156 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:43:11,156 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:43:11,157 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11ca48b00> server_hostname='api.openai.com' timeout=5.0
2025-05-29 16:43:11,530 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11ca62d90>
2025-05-29 16:43:11,531 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 16:43:11,532 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:43:11,532 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 16:43:11,532 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:43:11,533 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 16:43:12,040 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Date', b'Thu, 29 May 2025 08:43:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'274'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_e8c67db8daf570f6b1a22d6bb0524259'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=87LyrH.xzo5WwxgK4O4ZS6Dk9uv.s1JSPN.rFunWiGk-1748508192-1.0.1.1-lksF0wLEg6XP2OONYJs._H4dugw4A4ifczR.cybMZvPKiqKdMjwtHaZHUhHQcr06jIXryLru99GnYZT4S3KrGMMhx.VvfK8F5a7ZTr8OvB4; path=/; expires=Thu, 29-May-25 09:13:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=4Um1tDwIR7toGlJT_MEWT0q5Q66UW2AS.Th0c8jNE7M-1748508192016-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9474b3e64f884036-SIN'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-29 16:43:12,041 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 401 Unauthorized"
2025-05-29 16:43:12,041 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 16:43:12,041 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:43:12,042 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:43:12,042 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:43:12,043 - openai._base_client - DEBUG - HTTP Request: POST https://api.openai.com/v1/audio/speech "401 Unauthorized"
2025-05-29 16:43:12,043 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/openai/_base_client.py", line 1579, in _request
    response.raise_for_status()
  File "/Users/psx849261680/Desktop/Interview-GPT/venv311/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://api.openai.com/v1/audio/speech'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-29 16:43:12,044 - openai._base_client - DEBUG - Not retrying
2025-05-29 16:43:12,044 - openai._base_client - DEBUG - Re-raising status error
2025-05-29 16:43:12,044 - src.services.speech_service - WARNING - OpenAI TTS合成失败: OpenAI TTS合成失败: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-29 16:43:12,045 - src.services.speech_service - WARNING - 所有语音合成服务都失败，生成SSML
2025-05-29 16:43:12,045 - src.api.speech - DEBUG - [req_20250529164311_4775499872] 语音服务返回结果包含键: ['audio_data', 'format', 'duration', 'service', 'timestamp', 'service_errors']
2025-05-29 16:43:12,045 - src.api.speech - DEBUG - [req_20250529164311_4775499872] 收到音频数据，大小: 245 字节，数据开头: 0a2020202020202020202020203c737065616b20...
2025-05-29 16:43:12,046 - src.api.speech - INFO - [req_20250529164311_4775499872] MiniMax MCP语音合成成功，临时文件: /var/folders/39/mzjbgz492lvfgz0lflqqsjpw0000gn/T/tmpc4w242ss.mp3，大小: 245 字节
2025-05-29 16:43:12,046 - src.api.speech - DEBUG - [req_20250529164311_4775499872] 返回FileResponse，media_type=audio/mpeg, filename=speech.mp3
2025-05-29 16:43:12,046 - src.api.speech - DEBUG - [req_20250529164311_4775499872] 响应头: {'content-type': 'audio/mpeg', 'content-disposition': 'attachment; filename="speech.mp3"'}
2025-05-29 16:43:12,047 - interview-gpt.request - INFO - 请求完成: POST /api/speech/minimax-mcp/text-to-speech | 状态码: 200 | 处理时间: 0.9297秒
2025-05-29 16:44:42,999 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:44:42,999 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:44:43,003 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:44:43,004 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:44:46,181 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:44:46,182 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:44:46,188 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:44:46,188 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:47:20,720 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:47:20,721 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:47:21,071 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:47:22,559 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:47:22,559 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:47:22,767 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:47:23,591 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:47:23,591 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:47:23,808 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:47:23,987 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:47:23,987 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:47:24,016 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:47:24,016 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:47:24,016 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:47:24,016 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:47:24,017 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:47:24,017 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:47:26,431 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:47:26,432 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1138fe610>
2025-05-29 16:47:26,432 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:47:26,432 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:47:26,433 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:47:26,433 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:47:26,433 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:47:26,433 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:47:26,434 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1135bc680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:47:26,718 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1138fee10>
2025-05-29 16:47:26,718 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:47:26,719 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:47:26,719 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:47:26,719 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:47:26,719 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:47:26,879 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:47:26 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700045-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'10'), (b'X-Timer', b'S1748508447.895269,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'5fc08d120e2e950d6d248d66dd7bd321fbc3f50f'), (b'Expires', b'Thu, 29 May 2025 08:52:26 GMT'), (b'Source-Age', b'53')])
2025-05-29 16:47:26,881 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:47:26,881 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:47:26,918 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:47:26,918 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:47:26,919 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:47:27,528 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:47:28,906 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:47:28,959 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:47:28,965 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:47:29,376 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:47:29,420 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:47:29,428 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:47:29,429 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:48:32,792 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:48:32,792 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:48:33,219 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:48:33,510 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:48:33,510 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:48:33,544 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:48:33,545 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:48:33,545 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:48:33,545 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:48:33,546 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:48:33,546 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:48:34,804 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:48:34,804 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:48:35,588 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:48:35,588 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:48:35,826 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:48:35,993 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:48:35,993 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:48:36,021 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:48:36,021 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:48:36,021 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:48:36,021 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:48:36,022 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:48:36,022 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:48:38,087 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:48:38,087 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116a0a790>
2025-05-29 16:48:38,087 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:48:38,088 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:48:38,088 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:48:38,088 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:48:38,088 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:48:38,089 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:48:38,089 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116718680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:48:38,393 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116a6aed0>
2025-05-29 16:48:38,394 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:48:38,394 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:48:38,395 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:48:38,395 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:48:38,395 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:48:38,559 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:48:38 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700043-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'23'), (b'X-Timer', b'S1748508519.571042,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'dfb0f8a161ad2405b61e957e03cd3f2bad56f3a4'), (b'Expires', b'Thu, 29 May 2025 08:53:38 GMT'), (b'Source-Age', b'124')])
2025-05-29 16:48:38,562 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:48:38,562 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:48:38,600 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:48:38,600 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:48:38,601 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:48:39,163 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:48:39,965 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:48:40,002 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:48:40,006 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:48:40,252 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:48:40,291 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:48:40,296 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:48:40,297 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:49:05,763 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:49:05,763 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:49:05,983 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:49:06,286 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:49:06,287 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:49:06,402 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:49:06,402 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:49:06,403 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:49:06,403 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:49:06,405 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:49:06,405 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:49:08,350 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:49:08,350 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:49:08,553 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:49:08,723 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:49:08,724 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:49:08,752 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:49:08,752 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:49:08,752 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:49:08,752 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:49:08,752 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:49:08,753 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:49:10,533 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:49:10,534 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11790a910>
2025-05-29 16:49:10,534 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:49:10,534 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:49:10,534 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:49:10,534 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:49:10,535 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:49:10,535 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:49:10,535 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1175c8680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:49:10,823 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11790b0d0>
2025-05-29 16:49:10,823 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:49:10,824 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:49:10,824 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:49:10,825 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:49:10,825 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:49:10,988 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:49:11 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700080-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'23'), (b'X-Timer', b'S1748508551.001021,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'96ce69bc1093d1a24766a34a41f750f10086dbe0'), (b'Expires', b'Thu, 29 May 2025 08:54:11 GMT'), (b'Source-Age', b'157')])
2025-05-29 16:49:10,991 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:49:10,991 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:49:11,023 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:49:11,024 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:49:11,025 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:49:11,588 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:49:12,382 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:49:12,419 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:49:12,424 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:49:12,688 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:49:12,727 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:49:12,734 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:49:12,734 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:49:43,080 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:49:43,080 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:49:43,296 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:49:43,595 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:49:43,595 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:49:43,624 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:49:43,624 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:49:43,624 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:49:43,624 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:49:43,624 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:49:43,624 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:49:45,467 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:49:45,467 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10dcda810>
2025-05-29 16:49:45,467 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:49:45,468 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:49:45,468 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:49:45,468 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:49:45,468 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:49:45,468 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:49:45,468 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10d998680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:49:45,756 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10dcdaf90>
2025-05-29 16:49:45,757 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:49:45,757 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:49:45,757 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:49:45,757 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:49:45,758 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:49:45,920 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:49:45 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700101-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'21'), (b'X-Timer', b'S1748508586.931578,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'c90e42868990c7fce3b22fbd15f1c074382dc209'), (b'Expires', b'Thu, 29 May 2025 08:54:45 GMT'), (b'Source-Age', b'192')])
2025-05-29 16:49:45,922 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:49:45,922 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:49:45,964 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:49:45,964 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:49:45,965 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:49:46,467 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:49:47,182 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:49:47,219 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:49:47,224 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:49:47,565 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:49:47,606 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:49:47,612 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:49:47,612 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:50:08,118 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:50:08,119 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:50:08,623 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:50:08,907 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:50:08,908 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:50:08,948 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:50:08,948 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:50:08,948 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:50:08,948 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:50:08,948 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:50:08,949 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:50:10,012 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:50:10,012 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:50:10,224 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:50:10,395 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:50:10,395 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:50:10,424 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:50:10,425 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:50:10,425 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:50:10,425 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:50:10,425 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:50:10,425 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:50:12,227 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:50:12,227 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116962790>
2025-05-29 16:50:12,227 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:50:12,228 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:50:12,228 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:50:12,228 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:50:12,228 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:50:12,228 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:50:12,228 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x116610680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:50:12,529 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116962f50>
2025-05-29 16:50:12,530 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:50:12,530 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:50:12,530 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:50:12,530 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:50:12,531 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:50:12,701 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:50:12 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700056-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'38'), (b'X-Timer', b'S1748508613.708594,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'90a52000410fedda93bb309bba02018a269a0b5a'), (b'Expires', b'Thu, 29 May 2025 08:55:12 GMT'), (b'Source-Age', b'219')])
2025-05-29 16:50:12,705 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:50:12,705 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:50:12,733 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:50:12,733 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:50:12,733 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:50:13,299 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:50:14,069 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:50:14,108 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:50:14,112 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:50:14,385 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:50:14,427 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:50:14,433 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:50:14,433 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:50:39,418 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:50:39,418 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:50:39,637 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:50:39,810 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:50:39,810 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:50:39,839 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:50:39,839 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:50:39,839 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:50:39,839 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:50:39,839 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:50:39,839 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:50:41,603 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:50:41,603 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d7d28d0>
2025-05-29 16:50:41,603 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:50:41,604 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:50:41,604 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:50:41,604 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:50:41,604 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:50:41,605 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:50:41,605 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10d490680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:50:41,947 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d7d2fd0>
2025-05-29 16:50:41,947 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:50:41,948 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:50:41,948 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:50:41,949 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:50:41,949 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:50:42,123 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:50:42 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700063-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'42'), (b'X-Timer', b'S1748508642.125324,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'3d85f1d1e49a775a32a9fe9f9016133e83974d3f'), (b'Expires', b'Thu, 29 May 2025 08:55:42 GMT'), (b'Source-Age', b'248')])
2025-05-29 16:50:42,125 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:50:42,126 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:50:42,167 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:50:42,168 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:50:42,168 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:50:42,699 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:50:43,430 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:50:43,466 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:50:43,471 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:50:43,770 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:50:43,809 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:50:43,816 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:50:43,816 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:50:43,852 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 16:51:36,518 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:51:36,518 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:51:36,935 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:51:37,217 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:51:37,217 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:51:37,257 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:51:37,257 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:51:37,257 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:51:37,257 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:51:37,258 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:51:37,258 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:51:38,003 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:51:38,004 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:51:38,720 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:51:38,720 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:51:38,973 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:51:39,173 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:51:39,174 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:51:39,205 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:51:39,206 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:51:39,206 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:51:39,206 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:51:39,206 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:51:39,206 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:51:41,142 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:51:41,143 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a38a9d0>
2025-05-29 16:51:41,143 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:51:41,143 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:51:41,143 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:51:41,144 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:51:41,144 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:51:41,144 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:51:41,144 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a048680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:51:41,438 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a37fe90>
2025-05-29 16:51:41,438 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:51:41,439 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:51:41,439 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:51:41,439 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:51:41,439 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:51:41,598 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:51:41 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700044-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'2'), (b'X-Timer', b'S1748508702.615749,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'e2c615f356e0b6b7c1988d5cf62713da3c5bbb39'), (b'Expires', b'Thu, 29 May 2025 08:56:41 GMT'), (b'Source-Age', b'7')])
2025-05-29 16:51:41,601 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:51:41,602 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:51:41,640 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:51:41,640 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:51:41,641 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:51:42,177 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:51:42,909 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:51:42,946 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:51:42,950 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:51:43,205 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:51:43,244 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:51:43,250 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:51:43,250 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:51:43,280 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 16:51:50,694 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 16:51:50,695 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0016秒
2025-05-29 16:51:50,702 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 16:51:50,703 - interview-gpt.request - INFO - 请求完成: POST /api/minimax-tts/synthesize | 状态码: 404 | 处理时间: 0.0016秒
2025-05-29 16:51:50,712 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 16:51:50,716 - interview-gpt.request - INFO - 请求完成: GET /api/minimax-tts/status | 状态码: 404 | 处理时间: 0.0031秒
2025-05-29 16:51:58,006 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:51:58,006 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:51:58,218 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:51:58,475 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:51:58,475 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:51:58,519 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:51:58,519 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:51:58,519 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:51:58,520 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:51:58,520 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:51:58,520 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:52:00,699 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:52:00,700 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112184b10>
2025-05-29 16:52:00,700 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:52:00,700 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:52:00,700 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:52:00,700 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:52:00,700 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:52:00,701 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:52:00,701 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x111e24c20> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:52:01,058 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1121851d0>
2025-05-29 16:52:01,058 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:52:01,058 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:52:01,059 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:52:01,059 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:52:01,059 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:52:01,226 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:52:01 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700031-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'7'), (b'X-Timer', b'S1748508721.239009,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'810a337039d394540c64a4686977886cd4ef5b5a'), (b'Expires', b'Thu, 29 May 2025 08:57:01 GMT'), (b'Source-Age', b'27')])
2025-05-29 16:52:01,226 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:52:01,227 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:52:01,264 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:52:01,265 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:52:01,265 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:52:01,791 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:52:02,564 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:52:02,599 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:52:02,604 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:52:02,839 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:52:02,889 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:52:02,899 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:52:02,899 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:52:02,938 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 16:53:33,269 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 16:53:33,270 - interview-gpt.request - INFO - 请求完成: GET /api/minimax-tts/status | 状态码: 404 | 处理时间: 0.0016秒
2025-05-29 16:53:50,156 - interview-gpt.request - DEBUG - 开始处理请求: GET / | 客户端: 127.0.0.1
2025-05-29 16:53:50,157 - interview-gpt.request - INFO - 请求完成: GET / | 状态码: 200 | 处理时间: 0.0010秒
2025-05-29 16:53:57,478 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 16:53:57,479 - interview-gpt.request - INFO - 请求完成: GET /api/api/minimax-tts/status | 状态码: 200 | 处理时间: 0.0012秒
2025-05-29 16:54:07,934 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 16:54:07,936 - src.api.minimax_tts - INFO - 收到TTS请求: 你好，这是MiniMax TTS测试... (service: minimax)
2025-05-29 16:54:07,937 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好，这是MiniMax TTS测试...
2025-05-29 16:54:07,937 - mcp_tools - INFO - 调用MiniMax TTS: 你好，这是MiniMax TTS测试...
2025-05-29 16:54:10,174 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 16:54:10,175 - src.services.audio_service - ERROR - MiniMax TTS异常: 'int' object has no attribute 'strip'
2025-05-29 16:54:10,176 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.2421秒
2025-05-29 16:54:47,772 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:54:47,772 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:54:47,979 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:54:48,166 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:54:48,167 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:54:48,195 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:54:48,196 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:54:48,196 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:54:48,196 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:54:48,196 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:54:48,196 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:54:50,012 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:54:50,012 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11447a990>
2025-05-29 16:54:50,012 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:54:50,013 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:54:50,013 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:54:50,013 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:54:50,013 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:54:50,014 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:54:50,014 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114128680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:54:50,331 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11446fe10>
2025-05-29 16:54:50,331 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:54:50,332 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:54:50,332 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:54:50,332 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:54:50,332 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:54:50,504 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:54:50 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700025-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'30'), (b'X-Timer', b'S1748508891.507332,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'3012d9a68bee4e1573a03a7663398499361fab40'), (b'Expires', b'Thu, 29 May 2025 08:59:50 GMT'), (b'Source-Age', b'197')])
2025-05-29 16:54:50,507 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:54:50,508 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:54:50,542 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:54:50,542 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:54:50,542 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:54:51,056 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:54:51,801 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:54:51,838 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:54:51,843 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:54:52,097 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:54:52,137 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:54:52,143 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:54:52,143 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:54:52,177 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 16:54:56,676 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 16:54:56,677 - src.api.minimax_tts - INFO - 收到TTS请求: 你好，这是MiniMax TTS测试... (service: minimax)
2025-05-29 16:54:56,677 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好，这是MiniMax TTS测试...
2025-05-29 16:54:56,678 - mcp_tools - INFO - 调用MiniMax TTS: 你好，这是MiniMax TTS测试...
2025-05-29 16:54:58,966 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 16:54:58,966 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529165458-mINSBpqq.mp3?Expires=86401748508898&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=7im%2F%2BWQ9CSlo7hZbxWUDpD%2FSxCE%3D
2025-05-29 16:54:58,968 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.2927秒
2025-05-29 16:55:07,996 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/api/minimax-tts/voices | 客户端: 127.0.0.1
2025-05-29 16:55:07,998 - src.api.minimax_tts - INFO - 获取语音列表 (service: minimax)
2025-05-29 16:55:07,998 - mcp_tools - INFO - 获取MiniMax语音列表...
2025-05-29 16:55:09,601 - mcp_tools - INFO - MiniMax MCP list_voices 调用成功
2025-05-29 16:55:09,604 - interview-gpt.request - INFO - 请求完成: GET /api/api/minimax-tts/voices | 状态码: 200 | 处理时间: 1.6076秒
2025-05-29 16:56:13,023 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 16:56:13,024 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 16:56:13,066 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 16:56:13,066 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 16:58:29,458 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 16:58:29,460 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0015秒
2025-05-29 16:58:29,466 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 16:58:29,467 - interview-gpt.request - INFO - 请求完成: POST /api/minimax-tts/synthesize | 状态码: 404 | 处理时间: 0.0013秒
2025-05-29 16:58:29,474 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 16:58:29,476 - interview-gpt.request - INFO - 请求完成: GET /api/minimax-tts/status | 状态码: 404 | 处理时间: 0.0014秒
2025-05-29 16:58:50,386 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 16:58:50,386 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 16:58:50,671 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 16:58:50,871 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 16:58:50,872 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 16:58:50,900 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 16:58:50,900 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 16:58:50,900 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 16:58:50,900 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 16:58:50,900 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 16:58:50,901 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 16:58:53,261 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 16:58:53,261 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d9624d0>
2025-05-29 16:58:53,261 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:58:53,262 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:58:53,262 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 16:58:53,262 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:58:53,262 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 16:58:53,262 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 16:58:53,262 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10d61c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 16:58:53,605 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d96f150>
2025-05-29 16:58:53,605 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 16:58:53,606 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 16:58:53,606 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 16:58:53,606 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 16:58:53,606 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 16:58:53,770 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 08:58:53 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700105-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'18'), (b'X-Timer', b'S1748509134.777681,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0a267c236b71667ddb29697f87b5c466dc96872b'), (b'Expires', b'Thu, 29 May 2025 09:03:53 GMT'), (b'Source-Age', b'139')])
2025-05-29 16:58:53,772 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 16:58:53,773 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 16:58:53,814 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 16:58:53,814 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 16:58:53,814 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 16:58:54,513 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 16:58:55,806 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 16:58:55,863 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:58:55,870 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 16:58:56,284 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 16:58:56,346 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 16:58:56,359 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 16:58:56,359 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 16:58:56,394 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 16:59:03,588 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 16:59:03,590 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0018秒
2025-05-29 16:59:03,598 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 16:59:03,600 - src.api.minimax_tts - INFO - 收到TTS请求: 这是API测试文本... (service: minimax)
2025-05-29 16:59:03,600 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 这是API测试文本...
2025-05-29 16:59:03,600 - mcp_tools - INFO - 调用MiniMax TTS: 这是API测试文本...
2025-05-29 16:59:05,629 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 16:59:05,630 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529165905-WYkaCwef.mp3?Expires=86401748509145&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=%2FRp5nJpbRHFbaFUVD81BzZFO1Mc%3D
2025-05-29 16:59:05,632 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.0335秒
2025-05-29 16:59:05,638 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 16:59:05,641 - interview-gpt.request - INFO - 请求完成: GET /api/api/minimax-tts/status | 状态码: 200 | 处理时间: 0.0028秒
2025-05-29 17:00:06,682 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:00:06,683 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:00:06,986 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:00:07,245 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:00:07,245 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:00:07,288 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:00:07,289 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:00:07,289 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:00:07,289 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:00:07,289 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:00:07,289 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:00:09,727 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:00:09,728 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bc46910>
2025-05-29 17:00:09,728 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:00:09,729 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:00:09,729 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:00:09,729 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:00:09,729 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:00:09,729 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:00:09,730 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10b904680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:00:10,022 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bc47110>
2025-05-29 17:00:10,022 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:00:10,023 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:00:10,023 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:00:10,024 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:00:10,024 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:00:10,191 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:00:10 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700064-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'35'), (b'X-Timer', b'S1748509210.191621,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'6462db530580acc1201b77d73e77a106a99469ca'), (b'Expires', b'Thu, 29 May 2025 09:05:10 GMT'), (b'Source-Age', b'215')])
2025-05-29 17:00:10,197 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:00:10,200 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:00:10,225 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:00:10,225 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:00:10,225 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:00:10,845 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:00:12,040 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:00:12,106 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:00:12,115 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:00:12,543 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:00:12,602 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:00:12,611 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:00:12,612 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:00:12,801 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:00:23,700 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:00:23,701 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:00:23,746 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:00:23,747 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:03:14,579 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:03:14,580 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:03:14,585 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:03:14,585 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:03:17,581 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:03:17,581 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:03:17,584 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:03:17,584 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:03:56,491 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:03:56,491 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:03:56,521 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:03:56,521 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:03:59,494 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:03:59,495 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:03:59,508 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:03:59,508 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:04:23,323 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:04:23,324 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:04:23,329 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:04:23,329 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:04:26,358 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:04:26,358 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:04:26,362 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:04:26,362 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:04:39,080 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 17:04:39,082 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0021秒
2025-05-29 17:04:39,088 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:04:39,089 - src.api.minimax_tts - INFO - 收到TTS请求: 这是API测试文本... (service: minimax)
2025-05-29 17:04:39,089 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 这是API测试文本...
2025-05-29 17:04:39,090 - mcp_tools - INFO - 调用MiniMax TTS: 这是API测试文本...
2025-05-29 17:04:41,092 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:04:41,092 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170440-EsrtfOGU.mp3?Expires=86401748509480&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=Tn08l6DpKmIu5GXpaGdfoxG%2Fg%2Bo%3D
2025-05-29 17:04:41,094 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.0058秒
2025-05-29 17:04:41,101 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 17:04:41,102 - interview-gpt.request - INFO - 请求完成: GET /api/api/minimax-tts/status | 状态码: 200 | 处理时间: 0.0019秒
2025-05-29 17:05:01,757 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:05:01,770 - src.api.minimax_tts - INFO - 收到TTS请求: 你好，这是前端测试... (service: minimax)
2025-05-29 17:05:01,770 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好，这是前端测试...
2025-05-29 17:05:01,770 - mcp_tools - INFO - 调用MiniMax TTS: 你好，这是前端测试...
2025-05-29 17:05:03,836 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:05:03,837 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170503-MNSOydrd.mp3?Expires=86401748509503&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=wCnm3VDrGVCbxR9l43nUo9lbwcM%3D
2025-05-29 17:05:03,839 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.0821秒
2025-05-29 17:05:31,706 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:05:31,706 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:05:31,722 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:05:31,723 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:05:34,705 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:05:34,706 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:05:34,713 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:05:34,713 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:05:49,962 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:05:49,962 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:05:49,965 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:05:49,970 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:05:52,960 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:05:52,961 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:05:52,968 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:05:52,969 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:06:03,749 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:06:03,750 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:06:03,756 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:06:03,756 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:06:06,755 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:06:06,756 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:06:06,760 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:06:06,760 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:08:30,843 - interview-gpt.request - DEBUG - 开始处理请求: GET /health | 客户端: 127.0.0.1
2025-05-29 17:08:30,844 - interview-gpt.request - INFO - 请求完成: GET /health | 状态码: 200 | 处理时间: 0.0013秒
2025-05-29 17:08:55,820 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:08:55,821 - src.api.minimax_tts - INFO - 收到TTS请求: 你好，这是前端TTS测试... (service: minimax)
2025-05-29 17:08:55,821 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好，这是前端TTS测试...
2025-05-29 17:08:55,821 - mcp_tools - INFO - 调用MiniMax TTS: 你好，这是前端TTS测试...
2025-05-29 17:08:58,336 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:08:58,336 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170858-sJWhmKne.mp3?Expires=86401748509738&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=nkdYxxN%2FP7xZQjO3%2BtJXerQpI5s%3D
2025-05-29 17:08:58,338 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.5179秒
2025-05-29 17:08:58,628 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:08:58,631 - src.api.minimax_tts - INFO - 收到TTS请求: 让我们开始技术面试，请介绍一下你的技术背景... (service: minimax)
2025-05-29 17:08:58,631 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 让我们开始技术面试，请介绍一下你的技术背景...
2025-05-29 17:08:58,631 - mcp_tools - INFO - 调用MiniMax TTS: 让我们开始技术面试，请介绍一下你的技术背景...
2025-05-29 17:09:00,956 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:09:00,956 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170900-kwhyEmYD.mp3?Expires=86401748509740&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=8OKrGEvftyKDf51pB2ybWiCzpcA%3D
2025-05-29 17:09:00,958 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.3299秒
2025-05-29 17:09:01,148 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:09:01,150 - src.api.minimax_tts - INFO - 收到TTS请求: 很高兴见到你，让我们轻松地聊一聊... (service: minimax)
2025-05-29 17:09:01,150 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 很高兴见到你，让我们轻松地聊一聊...
2025-05-29 17:09:01,151 - mcp_tools - INFO - 调用MiniMax TTS: 很高兴见到你，让我们轻松地聊一聊...
2025-05-29 17:09:03,426 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:09:03,426 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170903-odrVrCvd.mp3?Expires=86401748509743&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=h7ShPaF5nHbK0yJRnl3xoXnltFE%3D
2025-05-29 17:09:03,428 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.2794秒
2025-05-29 17:09:03,607 - interview-gpt.request - DEBUG - 开始处理请求: GET /api/api/minimax-tts/status | 客户端: 127.0.0.1
2025-05-29 17:09:03,608 - interview-gpt.request - INFO - 请求完成: GET /api/api/minimax-tts/status | 状态码: 200 | 处理时间: 0.0016秒
2025-05-29 17:09:31,379 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:09:31,379 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:09:31,400 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:09:31,401 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:09:34,480 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:09:34,481 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:09:34,495 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:09:34,495 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:09:45,838 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:09:45,841 - src.api.minimax_tts - INFO - 收到TTS请求: 你好，这是前端TTS测试... (service: minimax)
2025-05-29 17:09:45,841 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好，这是前端TTS测试...
2025-05-29 17:09:45,841 - mcp_tools - INFO - 调用MiniMax TTS: 你好，这是前端TTS测试...
2025-05-29 17:09:48,343 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:09:48,343 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170948-vRczJImF.mp3?Expires=86401748509788&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=zWLLtkBlvekRebsedTmzMKpwNhk%3D
2025-05-29 17:09:48,344 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.5065秒
2025-05-29 17:09:48,601 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:09:48,604 - src.api.minimax_tts - INFO - 收到TTS请求: 让我们开始技术面试，请介绍一下你的技术背景... (service: minimax)
2025-05-29 17:09:48,604 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 让我们开始技术面试，请介绍一下你的技术背景...
2025-05-29 17:09:48,605 - mcp_tools - INFO - 调用MiniMax TTS: 让我们开始技术面试，请介绍一下你的技术背景...
2025-05-29 17:09:50,966 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:09:50,966 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529170950-vkaxIwSL.mp3?Expires=86401748509790&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=8gLPSraonf0WIELB6xb45BRFuTY%3D
2025-05-29 17:09:50,969 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.3679秒
2025-05-29 17:12:26,322 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:12:26,322 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:12:26,647 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:12:26,849 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:12:26,849 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:12:26,878 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:12:26,878 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:12:26,879 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:12:26,879 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:12:26,879 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:12:26,879 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:12:29,276 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:12:29,277 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1183e6810>
2025-05-29 17:12:29,277 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:12:29,277 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:12:29,277 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:12:29,278 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:12:29,278 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:12:29,278 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:12:29,278 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1180a4680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:12:29,570 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1183e6f50>
2025-05-29 17:12:29,570 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:12:29,571 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:12:29,572 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:12:29,572 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:12:29,572 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:12:29,735 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:12:29 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700083-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'5'), (b'X-Timer', b'S1748509950.753380,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'0dda4a58a49a4bfd0010ee48f3191b1933dfddd9'), (b'Expires', b'Thu, 29 May 2025 09:17:29 GMT'), (b'Source-Age', b'54')])
2025-05-29 17:12:29,738 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:12:29,740 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:12:29,776 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:12:29,776 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:12:29,777 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:12:30,389 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:12:31,962 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:12:32,069 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:12:32,079 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:12:32,584 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:12:32,637 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:12:32,648 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:12:32,648 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:12:32,709 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:12:39,211 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:12:39,212 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:12:39,252 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 4
2025-05-29 17:12:39,252 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:12:42,631 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:12:42,635 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 0.0046秒
2025-05-29 17:12:42,639 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:12:42,643 - src.api.minimax_tts - INFO - 收到TTS请求: 请先简单介绍一下你自己，包括你的技术背景和工作经验。... (service: minimax)
2025-05-29 17:12:42,643 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:12:42,643 - mcp_tools - INFO - 调用MiniMax TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:12:45,713 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:12:45,714 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529171245-KQZiZgKO.mp3?Expires=86401748509965&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=aeKxNNakmZQ9tEelre6AyLrZmPE%3D
2025-05-29 17:12:45,715 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 3.0768秒
2025-05-29 17:13:09,380 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 17:13:09,397 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-29 17:13:09,398 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-29 17:13:09,398 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-29 17:13:09,398 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 17:13:09,398 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 17:13:09,399 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 17:13:09,408 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 17:13:09,409 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 17:13:09,409 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 17:13:09,412 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 17:13:09,417 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120429090>
2025-05-29 17:13:09,418 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:13:09,419 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:13:09,421 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:13:09,423 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:13:09,423 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:13:09,425 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:13:09,426 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1110867b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 17:13:09,511 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120428f10>
2025-05-29 17:13:09,511 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 17:13:09,512 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:13:09,512 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 17:13:09,512 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:13:09,512 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 17:13:09,573 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 09:13:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1748509985026; path=/'), (b'Set-Cookie', b'HWWAFSESID=0ef6394a84b18003ef; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'3000f95065481bb95235941785e229ce'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 17:13:09,575 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 17:13:09,575 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 17:13:21,574 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:13:21,575 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:13:21,575 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:13:21,576 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 17:13:21,576 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 17:15:20,492 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:20,492 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:20,497 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:20,497 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:15:23,577 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:23,579 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:23,583 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:23,584 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:15:32,230 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:32,238 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:32,242 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:32,243 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:15:34,509 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:34,509 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:34,519 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:34,519 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:15:48,799 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:48,802 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:48,806 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:48,816 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:15:51,815 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:15:51,816 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:15:51,820 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:15:51,820 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:16:10,621 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:16:10,626 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:16:10,638 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 6
2025-05-29 17:16:10,638 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:16:13,537 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:16:13,541 - src.api.minimax_tts - INFO - 收到TTS请求: 请先简单介绍一下你自己，包括你的技术背景和工作经验。... (service: minimax)
2025-05-29 17:16:13,542 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:16:13,542 - mcp_tools - INFO - 调用MiniMax TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:16:16,404 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:16:16,405 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529171616-aMfVCCKy.mp3?Expires=86401748510176&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=%2B%2BaILO7BOWD9jSqMiSouxbDVaPw%3D
2025-05-29 17:16:16,406 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.8689秒
2025-05-29 17:16:24,601 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 17:16:24,610 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 17:16:24,610 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 17:16:24,611 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 17:16:24,615 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 17:16:24,616 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 17:16:24,616 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 17:16:24,618 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 17:16:24,620 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120470350>
2025-05-29 17:16:24,620 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:16:24,621 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:16:24,622 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:16:24,622 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:16:24,622 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:16:24,623 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:16:24,623 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1110867b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 17:16:24,710 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120470810>
2025-05-29 17:16:24,711 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 17:16:24,711 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:16:24,711 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 17:16:24,712 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:16:24,712 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 17:16:24,778 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 09:16:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'fd64c2a5c58ef6925420d190ea5c07fb'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 17:16:24,779 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 17:16:24,780 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 17:16:39,830 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:16:39,830 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:16:39,831 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:16:39,831 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 17:16:39,832 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 17:17:24,189 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:17:24,189 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:17:24,203 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 8
2025-05-29 17:17:24,204 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:18:01,636 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:18:01,638 - src.api.minimax_tts - INFO - 收到TTS请求: 请先简单介绍一下你自己，包括你的技术背景和工作经验。... (service: minimax)
2025-05-29 17:18:01,639 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:18:01,639 - mcp_tools - INFO - 调用MiniMax TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:18:04,846 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:18:04,847 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529171804-trezQozm.mp3?Expires=86401748510284&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=o0%2B6H1RAzdkhvlZsP9gxJRS326g%3D
2025-05-29 17:18:04,849 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 3.2132秒
2025-05-29 17:18:15,355 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 17:18:15,362 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 17:18:15,362 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 17:18:15,364 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 17:18:15,368 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 17:18:15,369 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 17:18:15,369 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 17:18:15,370 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 17:18:15,372 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12046ba90>
2025-05-29 17:18:15,372 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:18:15,373 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:18:15,373 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:18:15,374 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:18:15,374 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:18:15,375 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:18:15,375 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1110867b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 17:18:15,468 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120472f10>
2025-05-29 17:18:15,468 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 17:18:15,469 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:18:15,469 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 17:18:15,469 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:18:15,469 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 17:18:15,535 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 09:18:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'01f84b949b136113b7f6e8b7d48b0fd7'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 17:18:15,536 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 17:18:15,536 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 17:18:31,141 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:18:31,142 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:18:31,142 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:18:31,143 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 17:18:31,143 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 17:19:01,942 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:19:01,942 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:19:02,292 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:19:02,561 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:19:02,561 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:19:02,653 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:19:02,653 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:19:02,656 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:19:02,656 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:19:02,656 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:19:02,656 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:19:05,602 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:19:05,603 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f3e6a50>
2025-05-29 17:19:05,603 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:19:05,603 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:19:05,603 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:19:05,604 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:19:05,604 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:19:05,604 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:19:05,604 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10f0a4680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:19:05,961 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f3daa10>
2025-05-29 17:19:05,961 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:19:05,962 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:19:05,962 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:19:05,962 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:19:05,962 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:19:06,123 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:19:06 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700071-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'17'), (b'X-Timer', b'S1748510346.126205,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'35580a47cd5d94d75f9ce36800820e8c0c614052'), (b'Expires', b'Thu, 29 May 2025 09:24:06 GMT'), (b'Source-Age', b'150')])
2025-05-29 17:19:06,125 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:19:06,125 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:19:06,165 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:19:06,165 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:19:06,166 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:19:06,755 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:19:08,027 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:19:08,082 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:19:08,088 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:19:08,438 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:19:08,483 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:19:08,492 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:19:08,492 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:19:08,524 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:19:18,446 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:19:18,447 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:19:18,499 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 10
2025-05-29 17:19:18,499 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:19:31,249 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:19:31,259 - src.api.minimax_tts - INFO - 收到TTS请求: 请先简单介绍一下你自己，包括你的技术背景和工作经验。... (service: minimax)
2025-05-29 17:19:31,259 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:19:31,259 - mcp_tools - INFO - 调用MiniMax TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:19:34,170 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:19:34,171 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529171933-FCOYjcRN.mp3?Expires=86401748510373&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=AATM6mNrhuFZHz6TtBo%2BmYQc7mQ%3D
2025-05-29 17:19:34,173 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 2.9235秒
2025-05-29 17:19:44,546 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:19:44,593 - src.api.minimax_tts - INFO - 收到TTS请求: 你好！我是赵老师，今天的面试协调员。欢迎参加我们的面试！我们会从技术、产品、行为等多个维度进行评估。... (service: minimax)
2025-05-29 17:19:44,594 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 你好！我是赵老师，今天的面试协调员。欢迎参加我们的面试！我们会从技术、产品、行为等多个维度进行评估。...
2025-05-29 17:19:44,594 - mcp_tools - INFO - 调用MiniMax TTS: 你好！我是赵老师，今天的面试协调员。欢迎参加我们的面试！我们会从技术、产品、行为等多个维度进行评估。...
2025-05-29 17:19:48,456 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:19:48,457 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529171948-qNUZAbUx.mp3?Expires=86401748510388&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=GczI2qudrcZljJZPA%2BhYiYmiXnA%3D
2025-05-29 17:19:48,458 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 3.9125秒
2025-05-29 17:20:11,644 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 17:20:11,678 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-29 17:20:11,679 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-29 17:20:11,679 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-29 17:20:11,679 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 17:20:11,679 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 17:20:11,680 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 17:20:11,690 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 17:20:11,691 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 17:20:11,692 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 17:20:11,696 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 17:20:11,699 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11741c890>
2025-05-29 17:20:11,701 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:20:11,711 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:20:11,712 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:20:11,713 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:20:11,727 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:20:11,732 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:20:11,733 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1080f27b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 17:20:11,827 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117044dd0>
2025-05-29 17:20:11,828 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 17:20:11,828 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:20:11,829 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 17:20:11,829 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:20:11,829 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 17:20:11,896 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 09:20:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1748510407470; path=/'), (b'Set-Cookie', b'HWWAFSESID=3a63b94b2a5d4c7a7c; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'1c011890b807d9eb00df2691d6813226'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 17:20:11,897 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 17:20:11,898 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-29 17:20:30,839 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:20:30,840 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:20:30,840 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:20:30,841 - src.services.ai.base_ai_client.DeepSeekClient - INFO - chat_completion 方法响应完成
2025-05-29 17:20:30,841 - src.services.ai.ai_service_manager - INFO - 使用 deepseek 服务成功完成聊天
2025-05-29 17:23:11,016 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:23:11,017 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:23:11,032 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:23:11,033 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:23:13,999 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:23:13,999 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:23:14,007 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:23:14,007 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:23:31,018 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:23:31,021 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:23:31,029 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:23:31,029 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:23:52,963 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:23:52,963 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:23:52,976 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:23:52,977 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:23:56,011 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:23:56,011 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:23:56,014 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:23:56,015 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:25:32,630 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:25:32,631 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:25:32,634 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:25:32,634 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:25:35,777 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:25:35,777 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:25:35,786 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:25:35,786 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:25:49,268 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:25:49,271 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:25:49,281 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:25:49,281 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:25:49,749 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:25:49,749 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:25:49,754 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:25:49,755 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:25:52,619 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:25:52,620 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:25:52,630 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:25:52,630 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:26:15,909 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:26:15,913 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:26:15,922 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:26:15,923 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:26:18,921 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:26:18,921 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:26:18,928 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:26:18,928 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:29:43,172 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:29:43,173 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:29:43,226 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:29:43,227 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:35:57,888 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:35:57,888 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:35:58,652 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:35:59,190 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:35:59,191 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:35:59,254 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:35:59,255 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:35:59,255 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:35:59,255 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:35:59,255 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:35:59,255 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:36:06,335 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:36:06,337 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11516e9d0>
2025-05-29 17:36:06,338 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:36:06,339 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:36:06,339 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:36:06,339 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:36:06,340 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:36:06,340 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:36:06,341 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114e1c680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:36:06,635 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11516f150>
2025-05-29 17:36:06,636 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:36:06,637 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:36:06,637 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:36:06,638 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:36:06,638 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:36:06,806 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:36:06 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700077-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'38'), (b'X-Timer', b'S1748511367.786816,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'e6516d93166beb86f2541ba0e5e01f6c11ab3b88'), (b'Expires', b'Thu, 29 May 2025 09:41:06 GMT'), (b'Source-Age', b'269')])
2025-05-29 17:36:06,808 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:36:06,809 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:36:06,848 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:36:06,848 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:36:06,849 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:36:08,498 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:36:11,984 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:36:12,119 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:36:12,133 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:36:12,826 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:36:12,919 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:36:12,936 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:36:12,937 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:36:12,997 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:44:48,251 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:44:48,251 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:44:48,606 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:44:48,960 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:44:48,960 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:44:48,990 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:44:48,990 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:44:48,990 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:44:48,990 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:44:48,990 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:44:48,990 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:44:51,463 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:44:51,464 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11abe68d0>
2025-05-29 17:44:51,464 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:44:51,464 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:44:51,464 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:44:51,464 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:44:51,464 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:44:51,465 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:44:51,465 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11a8a4680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:44:51,808 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11abe7090>
2025-05-29 17:44:51,808 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:44:51,809 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:44:51,809 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:44:51,809 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:44:51,809 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:44:51,969 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:44:51 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700078-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'30'), (b'X-Timer', b'S1748511892.963304,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'470bfa8d18413ae3a598c5f3860474c83d0b817f'), (b'Expires', b'Thu, 29 May 2025 09:49:51 GMT'), (b'Source-Age', b'194')])
2025-05-29 17:44:51,970 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:44:51,971 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:44:52,008 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:44:52,008 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:44:52,009 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:44:52,577 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:44:54,036 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:44:54,093 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:44:54,099 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:44:54,496 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:44:54,552 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:44:54,563 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:44:54,563 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:44:54,601 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:45:01,479 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:45:01,479 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:45:01,519 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:45:01,520 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:45:46,690 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:45:46,690 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:45:46,696 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:45:46,697 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:45:46,738 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:45:46,738 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:45:46,742 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:45:46,742 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:46:04,305 - interview-gpt - INFO - 启动 Interview-GPT API, 日志级别: DEBUG, 日志文件: logs/interview_gpt.log
2025-05-29 17:46:04,306 - interview-gpt - INFO - 已配置根日志记录器，所有模块日志都将写入文件: logs/interview_gpt.log
2025-05-29 17:46:04,799 - src.db.init_db - INFO - 数据库表结构已创建
2025-05-29 17:46:05,102 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 初始化DEEPSEEK客户端: https://api.deepseek.com
2025-05-29 17:46:05,102 - src.services.ai.ai_service_manager - INFO - DEEPSEEK客户端初始化成功
2025-05-29 17:46:05,144 - src.services.ai.base_ai_client.MinimaxClient - INFO - 初始化MiniMax客户端: https://api.minimax.chat
2025-05-29 17:46:05,145 - src.services.ai.ai_service_manager - INFO - MiniMax客户端初始化成功
2025-05-29 17:46:05,145 - src.services.ai.ai_service_manager - INFO - OpenAI客户端配置可用（未实现）
2025-05-29 17:46:05,145 - src.services.ai.ai_service_manager - INFO - 跳过模拟AI客户端初始化，将使用真实服务
2025-05-29 17:46:05,145 - src.services.ai.ai_service_manager - INFO - AI服务管理器初始化完成，主要服务: deepseek
2025-05-29 17:46:05,145 - src.services.ai.ai_service_manager - INFO - 可用服务: deepseek, minimax, openai
2025-05-29 17:46:08,516 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=5 socket_options=None
2025-05-29 17:46:08,517 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e466910>
2025-05-29 17:46:08,517 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:46:08,517 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:46:08,518 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:46:08,518 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:46:08,518 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:46:08,519 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:46:08,520 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10e124680> server_hostname='raw.githubusercontent.com' timeout=5
2025-05-29 17:46:08,808 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10e45ba90>
2025-05-29 17:46:08,808 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-29 17:46:08,809 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:46:08,810 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-29 17:46:08,810 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:46:08,811 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-29 17:46:08,966 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'24082'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"e687ae390b446ec60dc3aec901d478cfb3ccbc83b4dd079a3c5db610db641fcf"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'2204:17E944:F52FF:22F23F:6837F254'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Thu, 29 May 2025 09:46:08 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-nrt-rjtf7700100-NRT'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'34'), (b'X-Timer', b'S1748511969.957884,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'd168b9d786cca18a6e38bc468597d56635219d40'), (b'Expires', b'Thu, 29 May 2025 09:51:08 GMT'), (b'Source-Age', b'271')])
2025-05-29 17:46:08,968 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-29 17:46:08,968 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-05-29 17:46:09,013 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-29 17:46:09,013 - httpcore.http11 - DEBUG - response_closed.started
2025-05-29 17:46:09,014 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-29 17:46:09,978 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm.proxy.enterprise'
2025-05-29 17:46:11,880 - src.services.ai.crewai_integration - INFO - CrewAI功能已启用，项目将使用多智能体协作
2025-05-29 17:46:11,959 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:46:11,968 - src.services.speech.speech_service - INFO - 语音服务初始化完成
2025-05-29 17:46:12,404 - src.services.resume_parser - INFO - 简历解析器初始化完成
2025-05-29 17:46:12,514 - src.services.ai.deepseek_service - INFO - DeepSeek 服务初始化完成
2025-05-29 17:46:12,542 - src.services.speech.minimax_chat_service - INFO - MiniMax 聊天服务初始化完成
2025-05-29 17:46:12,546 - src.services.speech_service - INFO - 语音服务初始化完成: {'openai': {'available': True, 'stt': True, 'tts': True}, 'azure': {'available': False, 'stt': True, 'tts': True}, 'google': {'available': True, 'stt': True, 'tts': True}, 'minimax_mcp': {'available': True, 'stt': True, 'tts': True}, 'browser': {'available': True, 'stt': False, 'tts': True}}
2025-05-29 17:46:12,638 - src.services.audio_service - INFO - 音频服务初始化完成 - MiniMax: True, OpenAI: True
2025-05-29 17:46:31,230 - src.services.interview.interview_manager - INFO - [InterviewManager __init__] Creating instance for Interview ID: 9230
2025-05-29 17:46:31,231 - src.services.interview.interview_manager - INFO - [initialize_interview START] Initializing for Interview ID: 9230
2025-05-29 17:46:31,289 - src.services.interview.interview_manager - INFO - [initialize_interview] Interview ID: 9230, Found existing_messages: 12
2025-05-29 17:46:31,289 - src.services.interview.interview_manager - INFO - 加载当前面试阶段: ID=9230
2025-05-29 17:46:34,566 - interview-gpt.request - DEBUG - 开始处理请求: OPTIONS /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:46:34,569 - interview-gpt.request - INFO - 请求完成: OPTIONS /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 0.0031秒
2025-05-29 17:46:34,574 - interview-gpt.request - DEBUG - 开始处理请求: POST /api/api/minimax-tts/synthesize | 客户端: 127.0.0.1
2025-05-29 17:46:34,575 - src.api.minimax_tts - INFO - 收到TTS请求: 请先简单介绍一下你自己，包括你的技术背景和工作经验。... (service: minimax)
2025-05-29 17:46:34,575 - src.services.audio_service - INFO - 使用MiniMax MCP进行TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:46:34,576 - mcp_tools - INFO - 调用MiniMax TTS: 请先简单介绍一下你自己，包括你的技术背景和工作经验。...
2025-05-29 17:46:38,185 - mcp_tools - INFO - MiniMax MCP text_to_audio 调用成功
2025-05-29 17:46:38,186 - src.services.audio_service - INFO - MiniMax TTS成功，音频URL: https://minimax-algeng-chat-tts.oss-cn-wulanchabu.aliyuncs.com/audio%2Ftts-mp3-20250529174637-mvTTgqqv.mp3?Expires=86401748511998&OSSAccessKeyId=LTAI5tGLnRTkBjLuYPjNcKQ8&Signature=ZOfnAFwamYII2nBjMY0IAQfzlFM%3D
2025-05-29 17:46:38,187 - interview-gpt.request - INFO - 请求完成: POST /api/api/minimax-tts/synthesize | 状态码: 200 | 处理时间: 3.6136秒
2025-05-29 17:47:21,106 - src.services.interview.interview_manager - INFO - 处理用户消息: 面试ID=9230
2025-05-29 17:47:21,126 - src.agents.base_interviewer - INFO - 初始化面试官: 王协调 (面试协调员)
2025-05-29 17:47:21,126 - src.agents.interview_coordinator - INFO - 初始化面试协调员
2025-05-29 17:47:21,126 - src.agents.interviewer_factory - INFO - 创建面试官: coordinator
2025-05-29 17:47:21,126 - src.agents.base_interviewer - INFO - 生成面试协调员回复
2025-05-29 17:47:21,126 - src.services.ai.crewai_integration - INFO - 单轮面试使用DeepSeek API: coordinator
2025-05-29 17:47:21,127 - src.services.ai.crewai_integration - INFO - 单轮面试 DeepSeek LLM初始化完成
2025-05-29 17:47:21,137 - src.agents.base_interviewer - ERROR - 生成面试协调员回复失败: 1 validation error for Task
expected_output
  Field required [type=missing, input_value={'description': '根据...任务。
            )}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-29 17:47:21,137 - src.services.ai.ai_service_manager - INFO - 尝试使用 deepseek 服务进行聊天完成
2025-05-29 17:47:21,137 - src.services.ai.base_ai_client.DeepSeekClient - INFO - 调用 chat_completion 方法
2025-05-29 17:47:21,139 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=30 socket_options=None
2025-05-29 17:47:21,140 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11651dd10>
2025-05-29 17:47:21,141 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:47:21,141 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:47:21,142 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-05-29 17:47:21,142 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:47:21,142 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-05-29 17:47:21,143 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-05-29 17:47:21,144 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1071827b0> server_hostname='api.deepseek.com' timeout=30
2025-05-29 17:47:21,229 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11651e390>
2025-05-29 17:47:21,231 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-29 17:47:21,232 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-29 17:47:21,232 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-29 17:47:21,232 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-29 17:47:21,232 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-29 17:47:21,299 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 29 May 2025 09:47:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Set-Cookie', b'HWWAFSESTIME=1748512037543; path=/'), (b'Set-Cookie', b'HWWAFSESID=3e2b985a86b1e1fc19; path=/'), (b'vary', b'origin, access-control-request-method, access-control-request-headers'), (b'access-control-allow-credentials', b'true'), (b'x-ds-trace-id', b'036a3f762e5c62a6c355aabae4db3a60'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'CW'), (b'Content-Encoding', b'gzip')])
2025-05-29 17:47:21,300 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-29 17:47:21,300 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
